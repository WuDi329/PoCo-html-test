{"version":3,"file":"SampleLock-727057f9.js","sources":["../../../node_modules/.pnpm/registry.npmmirror.com+mp4box@0.5.2/node_modules/mp4box/dist/mp4box.all.js","../src/tool/type.ts","../src/tool/mp4_demuxer.ts","../src/tool/resolution.ts","../src/tool/webm_muxer.ts","../src/tool/SampleLock.ts"],"sourcesContent":["// file:src/log.js\n/* \n * Copyright (c) 2012-2013. Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nvar Log = (function (){\n\t\tvar start = new Date();\n\t\tvar LOG_LEVEL_ERROR \t= 4;\n\t\tvar LOG_LEVEL_WARNING \t= 3;\n\t\tvar LOG_LEVEL_INFO \t\t= 2;\n\t\tvar LOG_LEVEL_DEBUG\t\t= 1;\n\t\tvar log_level = LOG_LEVEL_ERROR;\n\t\tvar logObject = {\n\t\t\tsetLogLevel : function(level) {\n\t\t\t\tif (level == this.debug) log_level = LOG_LEVEL_DEBUG;\n\t\t\t\telse if (level == this.info) log_level = LOG_LEVEL_INFO;\n\t\t\t\telse if (level == this.warn) log_level = LOG_LEVEL_WARNING;\n\t\t\t\telse if (level == this.error) log_level = LOG_LEVEL_ERROR;\n\t\t\t\telse log_level = LOG_LEVEL_ERROR;\n\t\t\t},\n\t\t\tdebug : function(module, msg) {\n\t\t\t\tif (console.debug === undefined) {\n\t\t\t\t\tconsole.debug = console.log;\n\t\t\t\t}\n\t\t\t\tif (LOG_LEVEL_DEBUG >= log_level) {\n\t\t\t\t\tconsole.debug(\"[\"+Log.getDurationString(new Date()-start,1000)+\"]\",\"[\"+module+\"]\",msg);\n\t\t\t\t}\n\t\t\t},\n\t\t\tlog : function(module, msg) {\n\t\t\t\tthis.debug(module.msg)\n\t\t\t},\n\t\t\tinfo : function(module, msg) {\n\t\t\t\tif (LOG_LEVEL_INFO >= log_level) {\n\t\t\t\t\tconsole.info(\"[\"+Log.getDurationString(new Date()-start,1000)+\"]\",\"[\"+module+\"]\",msg);\n\t\t\t\t}\n\t\t\t},\n\t\t\twarn : function(module, msg) {\n\t\t\t\tif (LOG_LEVEL_WARNING >= log_level) {\n\t\t\t\t\tconsole.warn(\"[\"+Log.getDurationString(new Date()-start,1000)+\"]\",\"[\"+module+\"]\",msg);\n\t\t\t\t}\n\t\t\t},\n\t\t\terror : function(module, msg) {\n\t\t\t\tif (LOG_LEVEL_ERROR >= log_level) {\n\t\t\t\t\tconsole.error(\"[\"+Log.getDurationString(new Date()-start,1000)+\"]\",\"[\"+module+\"]\",msg);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\treturn logObject;\n\t})();\n\t\n/* Helper function to print a duration value in the form H:MM:SS.MS */\nLog.getDurationString = function(duration, _timescale) {\n\tvar neg;\n\t/* Helper function to print a number on a fixed number of digits */\n\tfunction pad(number, length) {\n\t\tvar str = '' + number;\n\t\tvar a = str.split('.');\t\t\n\t\twhile (a[0].length < length) {\n\t\t\ta[0] = '0' + a[0];\n\t\t}\n\t\treturn a.join('.');\n\t}\n\tif (duration < 0) {\n\t\tneg = true;\n\t\tduration = -duration;\n\t} else {\n\t\tneg = false;\t\n\t}\n\tvar timescale = _timescale || 1;\n\tvar duration_sec = duration/timescale;\n\tvar hours = Math.floor(duration_sec/3600);\n\tduration_sec -= hours * 3600;\n\tvar minutes = Math.floor(duration_sec/60);\n\tduration_sec -= minutes * 60;\t\t\n\tvar msec = duration_sec*1000;\n\tduration_sec = Math.floor(duration_sec);\n\tmsec -= duration_sec*1000;\n\tmsec = Math.floor(msec);\n\treturn (neg ? \"-\": \"\")+hours+\":\"+pad(minutes,2)+\":\"+pad(duration_sec,2)+\".\"+pad(msec,3);\n}\n\t\n/* Helper function to stringify HTML5 TimeRanges objects */\t\nLog.printRanges = function(ranges) {\n\tvar length = ranges.length;\n\tif (length > 0) {\n\t\tvar str = \"\";\n\t\tfor (var i = 0; i < length; i++) {\n\t\t  if (i > 0) str += \",\";\n\t\t  str += \"[\"+Log.getDurationString(ranges.start(i))+ \",\"+Log.getDurationString(ranges.end(i))+\"]\";\n\t\t}\n\t\treturn str;\n\t} else {\n\t\treturn \"(empty)\";\n\t}\n}\n\nif (typeof exports !== 'undefined') {\n\texports.Log = Log;\n}\n// file:src/stream.js\nvar MP4BoxStream = function(arrayBuffer) {\n  if (arrayBuffer instanceof ArrayBuffer) {\n    this.buffer = arrayBuffer;\n    this.dataview = new DataView(arrayBuffer);\n  } else {\n    throw (\"Needs an array buffer\");\n  }\n  this.position = 0;\n};\n\n/*************************************************************************\n  Common API between MultiBufferStream and SimpleStream\n *************************************************************************/\nMP4BoxStream.prototype.getPosition = function() {\n  return this.position;\n}\n\nMP4BoxStream.prototype.getEndPosition = function() {\n  return this.buffer.byteLength;\n}\n\nMP4BoxStream.prototype.getLength = function() {\n  return this.buffer.byteLength;\n}\n\nMP4BoxStream.prototype.seek = function (pos) {\n  var npos = Math.max(0, Math.min(this.buffer.byteLength, pos));\n  this.position = (isNaN(npos) || !isFinite(npos)) ? 0 : npos;\n  return true;\n}\n\nMP4BoxStream.prototype.isEos = function () {\n  return this.getPosition() >= this.getEndPosition();\n}\n\n/*************************************************************************\n  Read methods, simimar to DataStream but simpler\n *************************************************************************/\nMP4BoxStream.prototype.readAnyInt = function(size, signed) {\n  var res = 0;\n  if (this.position + size <= this.buffer.byteLength) {\n    switch (size) {\n      case 1:\n        if (signed) {\n          res = this.dataview.getInt8(this.position);\n        } else {\n          res = this.dataview.getUint8(this.position);\n        }\n        break;\n      case 2:\n        if (signed) {\n          res = this.dataview.getInt16(this.position);\n        } else {\n          res = this.dataview.getUint16(this.position);\n        }\n        break;\n      case 3:\n        if (signed) {\n          throw (\"No method for reading signed 24 bits values\");\n        } else {\n          res = this.dataview.getUint8(this.position) << 16;\n          res |= this.dataview.getUint8(this.position+1) << 8;\n          res |= this.dataview.getUint8(this.position+2);\n        }\n        break;\n      case 4:\n        if (signed) {\n          res = this.dataview.getInt32(this.position);\n        } else {\n          res = this.dataview.getUint32(this.position);\n        }\n        break;\n      case 8:\n        if (signed) {\n          throw (\"No method for reading signed 64 bits values\");\n        } else {\n          res = this.dataview.getUint32(this.position) << 32;\n          res |= this.dataview.getUint32(this.position+4);\n        }\n        break;\n      default:\n        throw (\"readInt method not implemented for size: \"+size);\n    }\n    this.position+= size;\n    return res;\n  } else {\n    throw (\"Not enough bytes in buffer\");\n  }\n}\n\nMP4BoxStream.prototype.readUint8 = function() {\n  return this.readAnyInt(1, false);\n}\n\nMP4BoxStream.prototype.readUint16 = function() {\n  return this.readAnyInt(2, false);\n}\n\nMP4BoxStream.prototype.readUint24 = function() {\n  return this.readAnyInt(3, false);\n}\n\nMP4BoxStream.prototype.readUint32 = function() {\n  return this.readAnyInt(4, false);\n}\n\nMP4BoxStream.prototype.readUint64 = function() {\n  return this.readAnyInt(8, false);\n}\n\nMP4BoxStream.prototype.readString = function(length) {\n  if (this.position + length <= this.buffer.byteLength) {\n    var s = \"\";\n    for (var i = 0; i < length; i++) {\n      s += String.fromCharCode(this.readUint8());\n    }\n    return s;\n  } else {\n    throw (\"Not enough bytes in buffer\");\n  }\n}\n\nMP4BoxStream.prototype.readCString = function() {\n  var arr = [];\n  while(true) {\n    var b = this.readUint8();\n    if (b !== 0) {\n      arr.push(b);\n    } else {\n      break;\n    }\n  }\n  return String.fromCharCode.apply(null, arr); \n}\n\nMP4BoxStream.prototype.readInt8 = function() {\n  return this.readAnyInt(1, true);\n}\n\nMP4BoxStream.prototype.readInt16 = function() {\n  return this.readAnyInt(2, true);\n}\n\nMP4BoxStream.prototype.readInt32 = function() {\n  return this.readAnyInt(4, true);\n}\n\nMP4BoxStream.prototype.readInt64 = function() {\n  return this.readAnyInt(8, false);\n}\n\nMP4BoxStream.prototype.readUint8Array = function(length) {\n  var arr = new Uint8Array(length);\n  for (var i = 0; i < length; i++) {\n    arr[i] = this.readUint8();\n  }\n  return arr;\n}\n\nMP4BoxStream.prototype.readInt16Array = function(length) {\n  var arr = new Int16Array(length);\n  for (var i = 0; i < length; i++) {\n    arr[i] = this.readInt16();\n  }\n  return arr;\n}\n\nMP4BoxStream.prototype.readUint16Array = function(length) {\n  var arr = new Int16Array(length);\n  for (var i = 0; i < length; i++) {\n    arr[i] = this.readUint16();\n  }\n  return arr;\n}\n\nMP4BoxStream.prototype.readUint32Array = function(length) {\n  var arr = new Uint32Array(length);\n  for (var i = 0; i < length; i++) {\n    arr[i] = this.readUint32();\n  }\n  return arr;\n}\n\nMP4BoxStream.prototype.readInt32Array = function(length) {\n  var arr = new Int32Array(length);\n  for (var i = 0; i < length; i++) {\n    arr[i] = this.readInt32();\n  }\n  return arr;\n}\n\nif (typeof exports !== 'undefined') {\n  exports.MP4BoxStream = MP4BoxStream;\n}// file:src/DataStream.js\n/**\n  DataStream reads scalars, arrays and structs of data from an ArrayBuffer.\n  It's like a file-like DataView on steroids.\n\n  @param {ArrayBuffer} arrayBuffer ArrayBuffer to read from.\n  @param {?Number} byteOffset Offset from arrayBuffer beginning for the DataStream.\n  @param {?Boolean} endianness DataStream.BIG_ENDIAN or DataStream.LITTLE_ENDIAN (the default).\n  */\nvar DataStream = function(arrayBuffer, byteOffset, endianness) {\n  this._byteOffset = byteOffset || 0;\n  if (arrayBuffer instanceof ArrayBuffer) {\n    this.buffer = arrayBuffer;\n  } else if (typeof arrayBuffer == \"object\") {\n    this.dataView = arrayBuffer;\n    if (byteOffset) {\n      this._byteOffset += byteOffset;\n    }\n  } else {\n    this.buffer = new ArrayBuffer(arrayBuffer || 0);\n  }\n  this.position = 0;\n  this.endianness = endianness == null ? DataStream.LITTLE_ENDIAN : endianness;\n};\nDataStream.prototype = {};\n\nDataStream.prototype.getPosition = function() {\n  return this.position;\n}\n\n/**\n  Internal function to resize the DataStream buffer when required.\n  @param {number} extra Number of bytes to add to the buffer allocation.\n  @return {null}\n  */\nDataStream.prototype._realloc = function(extra) {\n  if (!this._dynamicSize) {\n    return;\n  }\n  var req = this._byteOffset + this.position + extra;\n  var blen = this._buffer.byteLength;\n  if (req <= blen) {\n    if (req > this._byteLength) {\n      this._byteLength = req;\n    }\n    return;\n  }\n  if (blen < 1) {\n    blen = 1;\n  }\n  while (req > blen) {\n    blen *= 2;\n  }\n  var buf = new ArrayBuffer(blen);\n  var src = new Uint8Array(this._buffer);\n  var dst = new Uint8Array(buf, 0, src.length);\n  dst.set(src);\n  this.buffer = buf;\n  this._byteLength = req;\n};\n\n/**\n  Internal function to trim the DataStream buffer when required.\n  Used for stripping out the extra bytes from the backing buffer when\n  the virtual byteLength is smaller than the buffer byteLength (happens after\n  growing the buffer with writes and not filling the extra space completely).\n\n  @return {null}\n  */\nDataStream.prototype._trimAlloc = function() {\n  if (this._byteLength == this._buffer.byteLength) {\n    return;\n  }\n  var buf = new ArrayBuffer(this._byteLength);\n  var dst = new Uint8Array(buf);\n  var src = new Uint8Array(this._buffer, 0, dst.length);\n  dst.set(src);\n  this.buffer = buf;\n};\n\n\n/**\n  Big-endian const to use as default endianness.\n  @type {boolean}\n  */\nDataStream.BIG_ENDIAN = false;\n\n/**\n  Little-endian const to use as default endianness.\n  @type {boolean}\n  */\nDataStream.LITTLE_ENDIAN = true;\n\n/**\n  Virtual byte length of the DataStream backing buffer.\n  Updated to be max of original buffer size and last written size.\n  If dynamicSize is false is set to buffer size.\n  @type {number}\n  */\nDataStream.prototype._byteLength = 0;\n\n/**\n  Returns the byte length of the DataStream object.\n  @type {number}\n  */\nObject.defineProperty(DataStream.prototype, 'byteLength',\n  { get: function() {\n    return this._byteLength - this._byteOffset;\n  }});\n\n/**\n  Set/get the backing ArrayBuffer of the DataStream object.\n  The setter updates the DataView to point to the new buffer.\n  @type {Object}\n  */\nObject.defineProperty(DataStream.prototype, 'buffer',\n  { get: function() {\n      this._trimAlloc();\n      return this._buffer;\n    },\n    set: function(v) {\n      this._buffer = v;\n      this._dataView = new DataView(this._buffer, this._byteOffset);\n      this._byteLength = this._buffer.byteLength;\n    } });\n\n/**\n  Set/get the byteOffset of the DataStream object.\n  The setter updates the DataView to point to the new byteOffset.\n  @type {number}\n  */\nObject.defineProperty(DataStream.prototype, 'byteOffset',\n  { get: function() {\n      return this._byteOffset;\n    },\n    set: function(v) {\n      this._byteOffset = v;\n      this._dataView = new DataView(this._buffer, this._byteOffset);\n      this._byteLength = this._buffer.byteLength;\n    } });\n\n/**\n  Set/get the backing DataView of the DataStream object.\n  The setter updates the buffer and byteOffset to point to the DataView values.\n  @type {Object}\n  */\nObject.defineProperty(DataStream.prototype, 'dataView',\n  { get: function() {\n      return this._dataView;\n    },\n    set: function(v) {\n      this._byteOffset = v.byteOffset;\n      this._buffer = v.buffer;\n      this._dataView = new DataView(this._buffer, this._byteOffset);\n      this._byteLength = this._byteOffset + v.byteLength;\n    } });\n\n/**\n  Sets the DataStream read/write position to given position.\n  Clamps between 0 and DataStream length.\n\n  @param {number} pos Position to seek to.\n  @return {null}\n  */\nDataStream.prototype.seek = function(pos) {\n  var npos = Math.max(0, Math.min(this.byteLength, pos));\n  this.position = (isNaN(npos) || !isFinite(npos)) ? 0 : npos;\n};\n\n/**\n  Returns true if the DataStream seek pointer is at the end of buffer and\n  there's no more data to read.\n\n  @return {boolean} True if the seek pointer is at the end of the buffer.\n  */\nDataStream.prototype.isEof = function() {\n  return (this.position >= this._byteLength);\n};\n\n\n/**\n  Maps a Uint8Array into the DataStream buffer.\n\n  Nice for quickly reading in data.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} Uint8Array to the DataStream backing buffer.\n  */\nDataStream.prototype.mapUint8Array = function(length) {\n  this._realloc(length * 1);\n  var arr = new Uint8Array(this._buffer, this.byteOffset+this.position, length);\n  this.position += length * 1;\n  return arr;\n};\n\n\n/**\n  Reads an Int32Array of desired length and endianness from the DataStream.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} The read Int32Array.\n */\nDataStream.prototype.readInt32Array = function(length, e) {\n  length = length == null ? (this.byteLength-this.position / 4) : length;\n  var arr = new Int32Array(length);\n  DataStream.memcpy(arr.buffer, 0,\n                    this.buffer, this.byteOffset+this.position,\n                    length*arr.BYTES_PER_ELEMENT);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += arr.byteLength;\n  return arr;\n};\n\n/**\n  Reads an Int16Array of desired length and endianness from the DataStream.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} The read Int16Array.\n */\nDataStream.prototype.readInt16Array = function(length, e) {\n  length = length == null ? (this.byteLength-this.position / 2) : length;\n  var arr = new Int16Array(length);\n  DataStream.memcpy(arr.buffer, 0,\n                    this.buffer, this.byteOffset+this.position,\n                    length*arr.BYTES_PER_ELEMENT);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += arr.byteLength;\n  return arr;\n};\n\n/**\n  Reads an Int8Array of desired length from the DataStream.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} The read Int8Array.\n */\nDataStream.prototype.readInt8Array = function(length) {\n  length = length == null ? (this.byteLength-this.position) : length;\n  var arr = new Int8Array(length);\n  DataStream.memcpy(arr.buffer, 0,\n                    this.buffer, this.byteOffset+this.position,\n                    length*arr.BYTES_PER_ELEMENT);\n  this.position += arr.byteLength;\n  return arr;\n};\n\n/**\n  Reads a Uint32Array of desired length and endianness from the DataStream.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} The read Uint32Array.\n */\nDataStream.prototype.readUint32Array = function(length, e) {\n  length = length == null ? (this.byteLength-this.position / 4) : length;\n  var arr = new Uint32Array(length);\n  DataStream.memcpy(arr.buffer, 0,\n                    this.buffer, this.byteOffset+this.position,\n                    length*arr.BYTES_PER_ELEMENT);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += arr.byteLength;\n  return arr;\n};\n\n/**\n  Reads a Uint16Array of desired length and endianness from the DataStream.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} The read Uint16Array.\n */\nDataStream.prototype.readUint16Array = function(length, e) {\n  length = length == null ? (this.byteLength-this.position / 2) : length;\n  var arr = new Uint16Array(length);\n  DataStream.memcpy(arr.buffer, 0,\n                    this.buffer, this.byteOffset+this.position,\n                    length*arr.BYTES_PER_ELEMENT);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += arr.byteLength;\n  return arr;\n};\n\n/**\n  Reads a Uint8Array of desired length from the DataStream.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} The read Uint8Array.\n */\nDataStream.prototype.readUint8Array = function(length) {\n  length = length == null ? (this.byteLength-this.position) : length;\n  var arr = new Uint8Array(length);\n  DataStream.memcpy(arr.buffer, 0,\n                    this.buffer, this.byteOffset+this.position,\n                    length*arr.BYTES_PER_ELEMENT);\n  this.position += arr.byteLength;\n  return arr;\n};\n\n/**\n  Reads a Float64Array of desired length and endianness from the DataStream.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} The read Float64Array.\n */\nDataStream.prototype.readFloat64Array = function(length, e) {\n  length = length == null ? (this.byteLength-this.position / 8) : length;\n  var arr = new Float64Array(length);\n  DataStream.memcpy(arr.buffer, 0,\n                    this.buffer, this.byteOffset+this.position,\n                    length*arr.BYTES_PER_ELEMENT);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += arr.byteLength;\n  return arr;\n};\n\n/**\n  Reads a Float32Array of desired length and endianness from the DataStream.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} The read Float32Array.\n */\nDataStream.prototype.readFloat32Array = function(length, e) {\n  length = length == null ? (this.byteLength-this.position / 4) : length;\n  var arr = new Float32Array(length);\n  DataStream.memcpy(arr.buffer, 0,\n                    this.buffer, this.byteOffset+this.position,\n                    length*arr.BYTES_PER_ELEMENT);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += arr.byteLength;\n  return arr;\n};\n\n\n/**\n  Reads a 32-bit int from the DataStream with the desired endianness.\n\n  @param {?boolean} e Endianness of the number.\n  @return {number} The read number.\n */\nDataStream.prototype.readInt32 = function(e) {\n  var v = this._dataView.getInt32(this.position, e == null ? this.endianness : e);\n  this.position += 4;\n  return v;\n};\n\n/**\n  Reads a 16-bit int from the DataStream with the desired endianness.\n\n  @param {?boolean} e Endianness of the number.\n  @return {number} The read number.\n */\nDataStream.prototype.readInt16 = function(e) {\n  var v = this._dataView.getInt16(this.position, e == null ? this.endianness : e);\n  this.position += 2;\n  return v;\n};\n\n/**\n  Reads an 8-bit int from the DataStream.\n\n  @return {number} The read number.\n */\nDataStream.prototype.readInt8 = function() {\n  var v = this._dataView.getInt8(this.position);\n  this.position += 1;\n  return v;\n};\n\n/**\n  Reads a 32-bit unsigned int from the DataStream with the desired endianness.\n\n  @param {?boolean} e Endianness of the number.\n  @return {number} The read number.\n */\nDataStream.prototype.readUint32 = function(e) {\n  var v = this._dataView.getUint32(this.position, e == null ? this.endianness : e);\n  this.position += 4;\n  return v;\n};\n\n/**\n  Reads a 16-bit unsigned int from the DataStream with the desired endianness.\n\n  @param {?boolean} e Endianness of the number.\n  @return {number} The read number.\n */\nDataStream.prototype.readUint16 = function(e) {\n  var v = this._dataView.getUint16(this.position, e == null ? this.endianness : e);\n  this.position += 2;\n  return v;\n};\n\n/**\n  Reads an 8-bit unsigned int from the DataStream.\n\n  @return {number} The read number.\n */\nDataStream.prototype.readUint8 = function() {\n  var v = this._dataView.getUint8(this.position);\n  this.position += 1;\n  return v;\n};\n\n/**\n  Reads a 32-bit float from the DataStream with the desired endianness.\n\n  @param {?boolean} e Endianness of the number.\n  @return {number} The read number.\n */\nDataStream.prototype.readFloat32 = function(e) {\n  var v = this._dataView.getFloat32(this.position, e == null ? this.endianness : e);\n  this.position += 4;\n  return v;\n};\n\n/**\n  Reads a 64-bit float from the DataStream with the desired endianness.\n\n  @param {?boolean} e Endianness of the number.\n  @return {number} The read number.\n */\nDataStream.prototype.readFloat64 = function(e) {\n  var v = this._dataView.getFloat64(this.position, e == null ? this.endianness : e);\n  this.position += 8;\n  return v;\n};\n\n/**\n  Native endianness. Either DataStream.BIG_ENDIAN or DataStream.LITTLE_ENDIAN\n  depending on the platform endianness.\n\n  @type {boolean}\n */\nDataStream.endianness = new Int8Array(new Int16Array([1]).buffer)[0] > 0;\n\n/**\n  Copies byteLength bytes from the src buffer at srcOffset to the\n  dst buffer at dstOffset.\n\n  @param {Object} dst Destination ArrayBuffer to write to.\n  @param {number} dstOffset Offset to the destination ArrayBuffer.\n  @param {Object} src Source ArrayBuffer to read from.\n  @param {number} srcOffset Offset to the source ArrayBuffer.\n  @param {number} byteLength Number of bytes to copy.\n */\nDataStream.memcpy = function(dst, dstOffset, src, srcOffset, byteLength) {\n  var dstU8 = new Uint8Array(dst, dstOffset, byteLength);\n  var srcU8 = new Uint8Array(src, srcOffset, byteLength);\n  dstU8.set(srcU8);\n};\n\n/**\n  Converts array to native endianness in-place.\n\n  @param {Object} array Typed array to convert.\n  @param {boolean} arrayIsLittleEndian True if the data in the array is\n                                       little-endian. Set false for big-endian.\n  @return {Object} The converted typed array.\n */\nDataStream.arrayToNative = function(array, arrayIsLittleEndian) {\n  if (arrayIsLittleEndian == this.endianness) {\n    return array;\n  } else {\n    return this.flipArrayEndianness(array);\n  }\n};\n\n/**\n  Converts native endianness array to desired endianness in-place.\n\n  @param {Object} array Typed array to convert.\n  @param {boolean} littleEndian True if the converted array should be\n                                little-endian. Set false for big-endian.\n  @return {Object} The converted typed array.\n */\nDataStream.nativeToEndian = function(array, littleEndian) {\n  if (this.endianness == littleEndian) {\n    return array;\n  } else {\n    return this.flipArrayEndianness(array);\n  }\n};\n\n/**\n  Flips typed array endianness in-place.\n\n  @param {Object} array Typed array to flip.\n  @return {Object} The converted typed array.\n */\nDataStream.flipArrayEndianness = function(array) {\n  var u8 = new Uint8Array(array.buffer, array.byteOffset, array.byteLength);\n  for (var i=0; i<array.byteLength; i+=array.BYTES_PER_ELEMENT) {\n    for (var j=i+array.BYTES_PER_ELEMENT-1, k=i; j>k; j--, k++) {\n      var tmp = u8[k];\n      u8[k] = u8[j];\n      u8[j] = tmp;\n    }\n  }\n  return array;\n};\n\n/**\n  Seek position where DataStream#readStruct ran into a problem.\n  Useful for debugging struct parsing.\n\n  @type {number}\n */\nDataStream.prototype.failurePosition = 0;\n\nString.fromCharCodeUint8 = function(uint8arr) {\n    var arr = [];\n    for (var i = 0; i < uint8arr.length; i++) {\n      arr[i] = uint8arr[i];\n    }\n    return String.fromCharCode.apply(null, arr);\n}\n/**\n  Read a string of desired length and encoding from the DataStream.\n\n  @param {number} length The length of the string to read in bytes.\n  @param {?string} encoding The encoding of the string data in the DataStream.\n                            Defaults to ASCII.\n  @return {string} The read string.\n */\nDataStream.prototype.readString = function(length, encoding) {\n  if (encoding == null || encoding == \"ASCII\") {\n    return String.fromCharCodeUint8.apply(null, [this.mapUint8Array(length == null ? this.byteLength-this.position : length)]);\n  } else {\n    return (new TextDecoder(encoding)).decode(this.mapUint8Array(length));\n  }\n};\n\n/**\n  Read null-terminated string of desired length from the DataStream. Truncates\n  the returned string so that the null byte is not a part of it.\n\n  @param {?number} length The length of the string to read.\n  @return {string} The read string.\n */\nDataStream.prototype.readCString = function(length) {\n  var blen = this.byteLength-this.position;\n  var u8 = new Uint8Array(this._buffer, this._byteOffset + this.position);\n  var len = blen;\n  if (length != null) {\n    len = Math.min(length, blen);\n  }\n  for (var i = 0; i < len && u8[i] !== 0; i++); // find first zero byte\n  var s = String.fromCharCodeUint8.apply(null, [this.mapUint8Array(i)]);\n  if (length != null) {\n    this.position += len-i;\n  } else if (i != blen) {\n    this.position += 1; // trailing zero if not at end of buffer\n  }\n  return s;\n};\n\n/* \n   TODO: fix endianness for 24/64-bit fields\n   TODO: check range/support for 64-bits numbers in JavaScript\n*/\nvar MAX_SIZE = Math.pow(2, 32);\n\nDataStream.prototype.readInt64 = function () {\n  return (this.readInt32()*MAX_SIZE)+this.readUint32();\n}\nDataStream.prototype.readUint64 = function () {\n\treturn (this.readUint32()*MAX_SIZE)+this.readUint32();\n}\n\nDataStream.prototype.readInt64 = function () {\n  return (this.readUint32()*MAX_SIZE)+this.readUint32();\n}\n\nDataStream.prototype.readUint24 = function () {\n\treturn (this.readUint8()<<16)+(this.readUint8()<<8)+this.readUint8();\n}\n\nif (typeof exports !== 'undefined') {\n  exports.DataStream = DataStream;  \n}\n// file:src/DataStream-write.js\n/**\n  Saves the DataStream contents to the given filename.\n  Uses Chrome's anchor download property to initiate download.\n \n  @param {string} filename Filename to save as.\n  @return {null}\n  */\nDataStream.prototype.save = function(filename) {\n  var blob = new Blob([this.buffer]);\n  if (window.URL && URL.createObjectURL) {\n      var url = window.URL.createObjectURL(blob);\n      var a = document.createElement('a');\n      // Required in Firefox:\n      document.body.appendChild(a);\n      a.setAttribute('href', url);\n      a.setAttribute('download', filename);\n      // Required in Firefox:\n      a.setAttribute('target', '_self');\n      a.click();\n      window.URL.revokeObjectURL(url);\n  } else {\n      throw(\"DataStream.save: Can't create object URL.\");\n  }\n};\n\n/**\n  Whether to extend DataStream buffer when trying to write beyond its size.\n  If set, the buffer is reallocated to twice its current size until the\n  requested write fits the buffer.\n  @type {boolean}\n  */\nDataStream.prototype._dynamicSize = true;\nObject.defineProperty(DataStream.prototype, 'dynamicSize',\n  { get: function() {\n      return this._dynamicSize;\n    },\n    set: function(v) {\n      if (!v) {\n        this._trimAlloc();\n      }\n      this._dynamicSize = v;\n    } });\n\n/**\n  Internal function to trim the DataStream buffer when required.\n  Used for stripping out the first bytes when not needed anymore.\n\n  @return {null}\n  */\nDataStream.prototype.shift = function(offset) {\n  var buf = new ArrayBuffer(this._byteLength-offset);\n  var dst = new Uint8Array(buf);\n  var src = new Uint8Array(this._buffer, offset, dst.length);\n  dst.set(src);\n  this.buffer = buf;\n  this.position -= offset;\n};\n\n/**\n  Writes an Int32Array of specified endianness to the DataStream.\n\n  @param {Object} arr The array to write.\n  @param {?boolean} e Endianness of the data to write.\n */\nDataStream.prototype.writeInt32Array = function(arr, e) {\n  this._realloc(arr.length * 4);\n  if (arr instanceof Int32Array &&\n      this.byteOffset+this.position % arr.BYTES_PER_ELEMENT === 0) {\n    DataStream.memcpy(this._buffer, this.byteOffset+this.position,\n                      arr.buffer, 0,\n                      arr.byteLength);\n    this.mapInt32Array(arr.length, e);\n  } else {\n    for (var i=0; i<arr.length; i++) {\n      this.writeInt32(arr[i], e);\n    }\n  }\n};\n\n/**\n  Writes an Int16Array of specified endianness to the DataStream.\n\n  @param {Object} arr The array to write.\n  @param {?boolean} e Endianness of the data to write.\n */\nDataStream.prototype.writeInt16Array = function(arr, e) {\n  this._realloc(arr.length * 2);\n  if (arr instanceof Int16Array &&\n      this.byteOffset+this.position % arr.BYTES_PER_ELEMENT === 0) {\n    DataStream.memcpy(this._buffer, this.byteOffset+this.position,\n                      arr.buffer, 0,\n                      arr.byteLength);\n    this.mapInt16Array(arr.length, e);\n  } else {\n    for (var i=0; i<arr.length; i++) {\n      this.writeInt16(arr[i], e);\n    }\n  }\n};\n\n/**\n  Writes an Int8Array to the DataStream.\n\n  @param {Object} arr The array to write.\n */\nDataStream.prototype.writeInt8Array = function(arr) {\n  this._realloc(arr.length * 1);\n  if (arr instanceof Int8Array &&\n      this.byteOffset+this.position % arr.BYTES_PER_ELEMENT === 0) {\n    DataStream.memcpy(this._buffer, this.byteOffset+this.position,\n                      arr.buffer, 0,\n                      arr.byteLength);\n    this.mapInt8Array(arr.length);\n  } else {\n    for (var i=0; i<arr.length; i++) {\n      this.writeInt8(arr[i]);\n    }\n  }\n};\n\n/**\n  Writes a Uint32Array of specified endianness to the DataStream.\n\n  @param {Object} arr The array to write.\n  @param {?boolean} e Endianness of the data to write.\n */\nDataStream.prototype.writeUint32Array = function(arr, e) {\n  this._realloc(arr.length * 4);\n  if (arr instanceof Uint32Array &&\n      this.byteOffset+this.position % arr.BYTES_PER_ELEMENT === 0) {\n    DataStream.memcpy(this._buffer, this.byteOffset+this.position,\n                      arr.buffer, 0,\n                      arr.byteLength);\n    this.mapUint32Array(arr.length, e);\n  } else {\n    for (var i=0; i<arr.length; i++) {\n      this.writeUint32(arr[i], e);\n    }\n  }\n};\n\n/**\n  Writes a Uint16Array of specified endianness to the DataStream.\n\n  @param {Object} arr The array to write.\n  @param {?boolean} e Endianness of the data to write.\n */\nDataStream.prototype.writeUint16Array = function(arr, e) {\n  this._realloc(arr.length * 2);\n  if (arr instanceof Uint16Array &&\n      this.byteOffset+this.position % arr.BYTES_PER_ELEMENT === 0) {\n    DataStream.memcpy(this._buffer, this.byteOffset+this.position,\n                      arr.buffer, 0,\n                      arr.byteLength);\n    this.mapUint16Array(arr.length, e);\n  } else {\n    for (var i=0; i<arr.length; i++) {\n      this.writeUint16(arr[i], e);\n    }\n  }\n};\n\n/**\n  Writes a Uint8Array to the DataStream.\n\n  @param {Object} arr The array to write.\n */\nDataStream.prototype.writeUint8Array = function(arr) {\n  this._realloc(arr.length * 1);\n  if (arr instanceof Uint8Array &&\n      this.byteOffset+this.position % arr.BYTES_PER_ELEMENT === 0) {\n    DataStream.memcpy(this._buffer, this.byteOffset+this.position,\n                      arr.buffer, 0,\n                      arr.byteLength);\n    this.mapUint8Array(arr.length);\n  } else {\n    for (var i=0; i<arr.length; i++) {\n      this.writeUint8(arr[i]);\n    }\n  }\n};\n\n/**\n  Writes a Float64Array of specified endianness to the DataStream.\n\n  @param {Object} arr The array to write.\n  @param {?boolean} e Endianness of the data to write.\n */\nDataStream.prototype.writeFloat64Array = function(arr, e) {\n  this._realloc(arr.length * 8);\n  if (arr instanceof Float64Array &&\n      this.byteOffset+this.position % arr.BYTES_PER_ELEMENT === 0) {\n    DataStream.memcpy(this._buffer, this.byteOffset+this.position,\n                      arr.buffer, 0,\n                      arr.byteLength);\n    this.mapFloat64Array(arr.length, e);\n  } else {\n    for (var i=0; i<arr.length; i++) {\n      this.writeFloat64(arr[i], e);\n    }\n  }\n};\n\n/**\n  Writes a Float32Array of specified endianness to the DataStream.\n\n  @param {Object} arr The array to write.\n  @param {?boolean} e Endianness of the data to write.\n */\nDataStream.prototype.writeFloat32Array = function(arr, e) {\n  this._realloc(arr.length * 4);\n  if (arr instanceof Float32Array &&\n      this.byteOffset+this.position % arr.BYTES_PER_ELEMENT === 0) {\n    DataStream.memcpy(this._buffer, this.byteOffset+this.position,\n                      arr.buffer, 0,\n                      arr.byteLength);\n    this.mapFloat32Array(arr.length, e);\n  } else {\n    for (var i=0; i<arr.length; i++) {\n      this.writeFloat32(arr[i], e);\n    }\n  }\n};\n\n\n/**\n  Writes a 32-bit int to the DataStream with the desired endianness.\n\n  @param {number} v Number to write.\n  @param {?boolean} e Endianness of the number.\n */\nDataStream.prototype.writeInt32 = function(v, e) {\n  this._realloc(4);\n  this._dataView.setInt32(this.position, v, e == null ? this.endianness : e);\n  this.position += 4;\n};\n\n/**\n  Writes a 16-bit int to the DataStream with the desired endianness.\n\n  @param {number} v Number to write.\n  @param {?boolean} e Endianness of the number.\n */\nDataStream.prototype.writeInt16 = function(v, e) {\n  this._realloc(2);\n  this._dataView.setInt16(this.position, v, e == null ? this.endianness : e);\n  this.position += 2;\n};\n\n/**\n  Writes an 8-bit int to the DataStream.\n\n  @param {number} v Number to write.\n */\nDataStream.prototype.writeInt8 = function(v) {\n  this._realloc(1);\n  this._dataView.setInt8(this.position, v);\n  this.position += 1;\n};\n\n/**\n  Writes a 32-bit unsigned int to the DataStream with the desired endianness.\n\n  @param {number} v Number to write.\n  @param {?boolean} e Endianness of the number.\n */\nDataStream.prototype.writeUint32 = function(v, e) {\n  this._realloc(4);\n  this._dataView.setUint32(this.position, v, e == null ? this.endianness : e);\n  this.position += 4;\n};\n\n/**\n  Writes a 16-bit unsigned int to the DataStream with the desired endianness.\n\n  @param {number} v Number to write.\n  @param {?boolean} e Endianness of the number.\n */\nDataStream.prototype.writeUint16 = function(v, e) {\n  this._realloc(2);\n  this._dataView.setUint16(this.position, v, e == null ? this.endianness : e);\n  this.position += 2;\n};\n\n/**\n  Writes an 8-bit unsigned  int to the DataStream.\n\n  @param {number} v Number to write.\n */\nDataStream.prototype.writeUint8 = function(v) {\n  this._realloc(1);\n  this._dataView.setUint8(this.position, v);\n  this.position += 1;\n};\n\n/**\n  Writes a 32-bit float to the DataStream with the desired endianness.\n\n  @param {number} v Number to write.\n  @param {?boolean} e Endianness of the number.\n */\nDataStream.prototype.writeFloat32 = function(v, e) {\n  this._realloc(4);\n  this._dataView.setFloat32(this.position, v, e == null ? this.endianness : e);\n  this.position += 4;\n};\n\n/**\n  Writes a 64-bit float to the DataStream with the desired endianness.\n\n  @param {number} v Number to write.\n  @param {?boolean} e Endianness of the number.\n */\nDataStream.prototype.writeFloat64 = function(v, e) {\n  this._realloc(8);\n  this._dataView.setFloat64(this.position, v, e == null ? this.endianness : e);\n  this.position += 8;\n};\n\n/**\n  Write a UCS-2 string of desired endianness to the DataStream. The\n  lengthOverride argument lets you define the number of characters to write.\n  If the string is shorter than lengthOverride, the extra space is padded with\n  zeroes.\n\n  @param {string} str The string to write.\n  @param {?boolean} endianness The endianness to use for the written string data.\n  @param {?number} lengthOverride The number of characters to write.\n */\nDataStream.prototype.writeUCS2String = function(str, endianness, lengthOverride) {\n  if (lengthOverride == null) {\n    lengthOverride = str.length;\n  }\n  for (var i = 0; i < str.length && i < lengthOverride; i++) {\n    this.writeUint16(str.charCodeAt(i), endianness);\n  }\n  for (; i<lengthOverride; i++) {\n    this.writeUint16(0);\n  }\n};\n\n/**\n  Writes a string of desired length and encoding to the DataStream.\n\n  @param {string} s The string to write.\n  @param {?string} encoding The encoding for the written string data.\n                            Defaults to ASCII.\n  @param {?number} length The number of characters to write.\n */\nDataStream.prototype.writeString = function(s, encoding, length) {\n  var i = 0;\n  if (encoding == null || encoding == \"ASCII\") {\n    if (length != null) {\n      var len = Math.min(s.length, length);\n      for (i=0; i<len; i++) {\n        this.writeUint8(s.charCodeAt(i));\n      }\n      for (; i<length; i++) {\n        this.writeUint8(0);\n      }\n    } else {\n      for (i=0; i<s.length; i++) {\n        this.writeUint8(s.charCodeAt(i));\n      }\n    }\n  } else {\n    this.writeUint8Array((new TextEncoder(encoding)).encode(s.substring(0, length)));\n  }\n};\n\n/**\n  Writes a null-terminated string to DataStream and zero-pads it to length\n  bytes. If length is not given, writes the string followed by a zero.\n  If string is longer than length, the written part of the string does not have\n  a trailing zero.\n\n  @param {string} s The string to write.\n  @param {?number} length The number of characters to write.\n */\nDataStream.prototype.writeCString = function(s, length) {\n  var i = 0;\n  if (length != null) {\n    var len = Math.min(s.length, length);\n    for (i=0; i<len; i++) {\n      this.writeUint8(s.charCodeAt(i));\n    }\n    for (; i<length; i++) {\n      this.writeUint8(0);\n    }\n  } else {\n    for (i=0; i<s.length; i++) {\n      this.writeUint8(s.charCodeAt(i));\n    }\n    this.writeUint8(0);\n  }\n};\n\n/**\n  Writes a struct to the DataStream. Takes a structDefinition that gives the\n  types and a struct object that gives the values. Refer to readStruct for the\n  structure of structDefinition.\n\n  @param {Object} structDefinition Type definition of the struct.\n  @param {Object} struct The struct data object.\n  */\nDataStream.prototype.writeStruct = function(structDefinition, struct) {\n  for (var i = 0; i < structDefinition.length; i+=2) {\n    var t = structDefinition[i+1];\n    this.writeType(t, struct[structDefinition[i]], struct);\n  }\n};\n\n/**\n  Writes object v of type t to the DataStream.\n\n  @param {Object} t Type of data to write.\n  @param {Object} v Value of data to write.\n  @param {Object} struct Struct to pass to write callback functions.\n  */\nDataStream.prototype.writeType = function(t, v, struct) {\n  var tp;\n  if (typeof t == \"function\") {\n    return t(this, v);\n  } else if (typeof t == \"object\" && !(t instanceof Array)) {\n    return t.set(this, v, struct);\n  }\n  var lengthOverride = null;\n  var charset = \"ASCII\";\n  var pos = this.position;\n  if (typeof(t) == 'string' && /:/.test(t)) {\n    tp = t.split(\":\");\n    t = tp[0];\n    lengthOverride = parseInt(tp[1]);\n  }\n  if (typeof t == 'string' && /,/.test(t)) {\n    tp = t.split(\",\");\n    t = tp[0];\n    charset = parseInt(tp[1]);\n  }\n\n  switch(t) {\n    case 'uint8':\n      this.writeUint8(v);\n      break;\n    case 'int8':\n      this.writeInt8(v);\n      break;\n\n    case 'uint16':\n      this.writeUint16(v, this.endianness);\n      break;\n    case 'int16':\n      this.writeInt16(v, this.endianness);\n      break;\n    case 'uint32':\n      this.writeUint32(v, this.endianness);\n      break;\n    case 'int32':\n      this.writeInt32(v, this.endianness);\n      break;\n    case 'float32':\n      this.writeFloat32(v, this.endianness);\n      break;\n    case 'float64':\n      this.writeFloat64(v, this.endianness);\n      break;\n\n    case 'uint16be':\n      this.writeUint16(v, DataStream.BIG_ENDIAN);\n      break;\n    case 'int16be':\n      this.writeInt16(v, DataStream.BIG_ENDIAN);\n      break;\n    case 'uint32be':\n      this.writeUint32(v, DataStream.BIG_ENDIAN);\n      break;\n    case 'int32be':\n      this.writeInt32(v, DataStream.BIG_ENDIAN);\n      break;\n    case 'float32be':\n      this.writeFloat32(v, DataStream.BIG_ENDIAN);\n      break;\n    case 'float64be':\n      this.writeFloat64(v, DataStream.BIG_ENDIAN);\n      break;\n\n    case 'uint16le':\n      this.writeUint16(v, DataStream.LITTLE_ENDIAN);\n      break;\n    case 'int16le':\n      this.writeInt16(v, DataStream.LITTLE_ENDIAN);\n      break;\n    case 'uint32le':\n      this.writeUint32(v, DataStream.LITTLE_ENDIAN);\n      break;\n    case 'int32le':\n      this.writeInt32(v, DataStream.LITTLE_ENDIAN);\n      break;\n    case 'float32le':\n      this.writeFloat32(v, DataStream.LITTLE_ENDIAN);\n      break;\n    case 'float64le':\n      this.writeFloat64(v, DataStream.LITTLE_ENDIAN);\n      break;\n\n    case 'cstring':\n      this.writeCString(v, lengthOverride);\n      break;\n\n    case 'string':\n      this.writeString(v, charset, lengthOverride);\n      break;\n\n    case 'u16string':\n      this.writeUCS2String(v, this.endianness, lengthOverride);\n      break;\n\n    case 'u16stringle':\n      this.writeUCS2String(v, DataStream.LITTLE_ENDIAN, lengthOverride);\n      break;\n\n    case 'u16stringbe':\n      this.writeUCS2String(v, DataStream.BIG_ENDIAN, lengthOverride);\n      break;\n\n    default:\n      if (t.length == 3) {\n        var ta = t[1];\n        for (var i=0; i<v.length; i++) {\n          this.writeType(ta, v[i]);\n        }\n        break;\n      } else {\n        this.writeStruct(t, v);\n        break;\n      }\n  }\n  if (lengthOverride != null) {\n    this.position = pos;\n    this._realloc(lengthOverride);\n    this.position = pos + lengthOverride;\n  }\n};\n\n\nDataStream.prototype.writeUint64 = function (v) {\n\tvar h = Math.floor(v / MAX_SIZE);\n\tthis.writeUint32(h);\n\tthis.writeUint32(v & 0xFFFFFFFF);\n}\n\nDataStream.prototype.writeUint24 = function (v) {\n\tthis.writeUint8((v & 0x00FF0000)>>16);\n\tthis.writeUint8((v & 0x0000FF00)>>8);\n\tthis.writeUint8((v & 0x000000FF));\n}\n\nDataStream.prototype.adjustUint32 = function(position, value) {\n\tvar pos = this.position;\n\tthis.seek(position);\n\tthis.writeUint32(value);\n\tthis.seek(pos);\n}\n// file:src/DataStream-map.js\n/**\n  Maps an Int32Array into the DataStream buffer, swizzling it to native\n  endianness in-place. The current offset from the start of the buffer needs to\n  be a multiple of element size, just like with typed array views.\n\n  Nice for quickly reading in data. Warning: potentially modifies the buffer\n  contents.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} Int32Array to the DataStream backing buffer.\n  */\nDataStream.prototype.mapInt32Array = function(length, e) {\n  this._realloc(length * 4);\n  var arr = new Int32Array(this._buffer, this.byteOffset+this.position, length);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += length * 4;\n  return arr;\n};\n\n/**\n  Maps an Int16Array into the DataStream buffer, swizzling it to native\n  endianness in-place. The current offset from the start of the buffer needs to\n  be a multiple of element size, just like with typed array views.\n\n  Nice for quickly reading in data. Warning: potentially modifies the buffer\n  contents.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} Int16Array to the DataStream backing buffer.\n  */\nDataStream.prototype.mapInt16Array = function(length, e) {\n  this._realloc(length * 2);\n  var arr = new Int16Array(this._buffer, this.byteOffset+this.position, length);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += length * 2;\n  return arr;\n};\n\n/**\n  Maps an Int8Array into the DataStream buffer.\n\n  Nice for quickly reading in data.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} Int8Array to the DataStream backing buffer.\n  */\nDataStream.prototype.mapInt8Array = function(length) {\n  this._realloc(length * 1);\n  var arr = new Int8Array(this._buffer, this.byteOffset+this.position, length);\n  this.position += length * 1;\n  return arr;\n};\n\n/**\n  Maps a Uint32Array into the DataStream buffer, swizzling it to native\n  endianness in-place. The current offset from the start of the buffer needs to\n  be a multiple of element size, just like with typed array views.\n\n  Nice for quickly reading in data. Warning: potentially modifies the buffer\n  contents.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} Uint32Array to the DataStream backing buffer.\n  */\nDataStream.prototype.mapUint32Array = function(length, e) {\n  this._realloc(length * 4);\n  var arr = new Uint32Array(this._buffer, this.byteOffset+this.position, length);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += length * 4;\n  return arr;\n};\n\n/**\n  Maps a Uint16Array into the DataStream buffer, swizzling it to native\n  endianness in-place. The current offset from the start of the buffer needs to\n  be a multiple of element size, just like with typed array views.\n\n  Nice for quickly reading in data. Warning: potentially modifies the buffer\n  contents.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} Uint16Array to the DataStream backing buffer.\n  */\nDataStream.prototype.mapUint16Array = function(length, e) {\n  this._realloc(length * 2);\n  var arr = new Uint16Array(this._buffer, this.byteOffset+this.position, length);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += length * 2;\n  return arr;\n};\n\n/**\n  Maps a Float64Array into the DataStream buffer, swizzling it to native\n  endianness in-place. The current offset from the start of the buffer needs to\n  be a multiple of element size, just like with typed array views.\n\n  Nice for quickly reading in data. Warning: potentially modifies the buffer\n  contents.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} Float64Array to the DataStream backing buffer.\n  */\nDataStream.prototype.mapFloat64Array = function(length, e) {\n  this._realloc(length * 8);\n  var arr = new Float64Array(this._buffer, this.byteOffset+this.position, length);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += length * 8;\n  return arr;\n};\n\n/**\n  Maps a Float32Array into the DataStream buffer, swizzling it to native\n  endianness in-place. The current offset from the start of the buffer needs to\n  be a multiple of element size, just like with typed array views.\n\n  Nice for quickly reading in data. Warning: potentially modifies the buffer\n  contents.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} Float32Array to the DataStream backing buffer.\n  */\nDataStream.prototype.mapFloat32Array = function(length, e) {\n  this._realloc(length * 4);\n  var arr = new Float32Array(this._buffer, this.byteOffset+this.position, length);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += length * 4;\n  return arr;\n};\n// file:src/buffer.js\n/**\n * MultiBufferStream is a class that acts as a SimpleStream for parsing \n * It holds several, possibly non-contiguous ArrayBuffer objects, each with a fileStart property \n * containing the offset for the buffer data in an original/virtual file \n *\n * It inherits also from DataStream for all read/write/alloc operations\n */\n\n/**\n * Constructor\n */\nvar MultiBufferStream = function(buffer) {\n\t/* List of ArrayBuffers, with a fileStart property, sorted in fileStart order and non overlapping */\n\tthis.buffers = [];\t\n\tthis.bufferIndex = -1;\n\tif (buffer) {\n\t\tthis.insertBuffer(buffer);\n\t\tthis.bufferIndex = 0;\n\t}\n}\nMultiBufferStream.prototype = new DataStream(new ArrayBuffer(), 0, DataStream.BIG_ENDIAN);\n\n/************************************************************************************\n  Methods for the managnement of the buffers (insertion, removal, concatenation, ...)\n ***********************************************************************************/\n\nMultiBufferStream.prototype.initialized = function() {\n\tvar firstBuffer;\n\tif (this.bufferIndex > -1) {\n\t\treturn true;\n\t} else if (this.buffers.length > 0) {\n\t\tfirstBuffer = this.buffers[0];\n\t\tif (firstBuffer.fileStart === 0) {\n\t\t\tthis.buffer = firstBuffer;\n\t\t\tthis.bufferIndex = 0;\n\t\t\tLog.debug(\"MultiBufferStream\", \"Stream ready for parsing\");\n\t\t\treturn true;\n\t\t} else {\n\t\t\tLog.warn(\"MultiBufferStream\", \"The first buffer should have a fileStart of 0\");\n\t\t\tthis.logBufferLevel();\n\t\t\treturn false;\n\t\t}\n\t} else {\n\t\tLog.warn(\"MultiBufferStream\", \"No buffer to start parsing from\");\n\t\tthis.logBufferLevel();\n\t\treturn false;\n\t}\t\t\t\n}\n\n/**\n * helper functions to concatenate two ArrayBuffer objects\n * @param  {ArrayBuffer} buffer1 \n * @param  {ArrayBuffer} buffer2 \n * @return {ArrayBuffer} the concatenation of buffer1 and buffer2 in that order\n */\nArrayBuffer.concat = function(buffer1, buffer2) {\n  Log.debug(\"ArrayBuffer\", \"Trying to create a new buffer of size: \"+(buffer1.byteLength + buffer2.byteLength));\n  var tmp = new Uint8Array(buffer1.byteLength + buffer2.byteLength);\n  tmp.set(new Uint8Array(buffer1), 0);\n  tmp.set(new Uint8Array(buffer2), buffer1.byteLength);\n  return tmp.buffer;\n};\n\n/**\n * Reduces the size of a given buffer, but taking the part between offset and offset+newlength\n * @param  {ArrayBuffer} buffer    \n * @param  {Number}      offset    the start of new buffer\n * @param  {Number}      newLength the length of the new buffer\n * @return {ArrayBuffer}           the new buffer\n */\nMultiBufferStream.prototype.reduceBuffer = function(buffer, offset, newLength) {\n\tvar smallB;\n\tsmallB = new Uint8Array(newLength);\n\tsmallB.set(new Uint8Array(buffer, offset, newLength));\n\tsmallB.buffer.fileStart = buffer.fileStart+offset;\n\tsmallB.buffer.usedBytes = 0;\n\treturn smallB.buffer;\t\n}\n\n/**\n * Inserts the new buffer in the sorted list of buffers,\n *  making sure, it is not overlapping with existing ones (possibly reducing its size).\n *  if the new buffer overrides/replaces the 0-th buffer (for instance because it is bigger), \n *  updates the DataStream buffer for parsing \n*/\nMultiBufferStream.prototype.insertBuffer = function(ab) {\t\n\tvar to_add = true;\n\t/* TODO: improve insertion if many buffers */\n\tfor (var i = 0; i < this.buffers.length; i++) {\n\t\tvar b = this.buffers[i];\n\t\tif (ab.fileStart <= b.fileStart) {\n\t\t\t/* the insertion position is found */\n\t\t\tif (ab.fileStart === b.fileStart) {\n\t\t\t\t/* The new buffer overlaps with an existing buffer */\n\t\t\t\tif (ab.byteLength >  b.byteLength) {\n\t\t\t\t\t/* the new buffer is bigger than the existing one\n\t\t\t\t\t   remove the existing buffer and try again to insert \n\t\t\t\t\t   the new buffer to check overlap with the next ones */\n\t\t\t\t\tthis.buffers.splice(i, 1);\n\t\t\t\t\ti--; \n\t\t\t\t\tcontinue;\n\t\t\t\t} else {\n\t\t\t\t\t/* the new buffer is smaller than the existing one, just drop it */\n\t\t\t\t\tLog.warn(\"MultiBufferStream\", \"Buffer (fileStart: \"+ab.fileStart+\" - Length: \"+ab.byteLength+\") already appended, ignoring\");\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t/* The beginning of the new buffer is not overlapping with an existing buffer\n\t\t\t\t   let's check the end of it */\n\t\t\t\tif (ab.fileStart + ab.byteLength <= b.fileStart) {\n\t\t\t\t\t/* no overlap, we can add it as is */\n\t\t\t\t} else {\n\t\t\t\t\t/* There is some overlap, cut the new buffer short, and add it*/\n\t\t\t\t\tab = this.reduceBuffer(ab, 0, b.fileStart - ab.fileStart);\n\t\t\t\t}\n\t\t\t\tLog.debug(\"MultiBufferStream\", \"Appending new buffer (fileStart: \"+ab.fileStart+\" - Length: \"+ab.byteLength+\")\");\n\t\t\t\tthis.buffers.splice(i, 0, ab);\n\t\t\t\t/* if this new buffer is inserted in the first place in the list of the buffer, \n\t\t\t\t   and the DataStream is initialized, make it the buffer used for parsing */\n\t\t\t\tif (i === 0) {\n\t\t\t\t\tthis.buffer = ab;\n\t\t\t\t}\n\t\t\t}\n\t\t\tto_add = false;\n\t\t\tbreak;\n\t\t} else if (ab.fileStart < b.fileStart + b.byteLength) {\n\t\t\t/* the new buffer overlaps its beginning with the end of the current buffer */\n\t\t\tvar offset = b.fileStart + b.byteLength - ab.fileStart;\n\t\t\tvar newLength = ab.byteLength - offset;\n\t\t\tif (newLength > 0) {\n\t\t\t\t/* the new buffer is bigger than the current overlap, drop the overlapping part and try again inserting the remaining buffer */\n\t\t\t\tab = this.reduceBuffer(ab, offset, newLength);\n\t\t\t} else {\n\t\t\t\t/* the content of the new buffer is entirely contained in the existing buffer, drop it entirely */\n\t\t\t\tto_add = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t/* if the buffer has not been added, we can add it at the end */\n\tif (to_add) {\n\t\tLog.debug(\"MultiBufferStream\", \"Appending new buffer (fileStart: \"+ab.fileStart+\" - Length: \"+ab.byteLength+\")\");\n\t\tthis.buffers.push(ab);\n\t\t/* if this new buffer is inserted in the first place in the list of the buffer, \n\t\t   and the DataStream is initialized, make it the buffer used for parsing */\n\t\tif (i === 0) {\n\t\t\tthis.buffer = ab;\n\t\t}\n\t}\n}\n\n/**\n * Displays the status of the buffers (number and used bytes)\n * @param  {Object} info callback method for display\n */\nMultiBufferStream.prototype.logBufferLevel = function(info) {\n\tvar i;\n\tvar buffer;\n\tvar used, total;\n\tvar ranges = [];\n\tvar range;\n\tvar bufferedString = \"\";\n\tused = 0;\n\ttotal = 0;\n\tfor (i = 0; i < this.buffers.length; i++) {\n\t\tbuffer = this.buffers[i];\n\t\tif (i === 0) {\n\t\t\trange = {};\n\t\t\tranges.push(range);\n\t\t\trange.start = buffer.fileStart;\n\t\t\trange.end = buffer.fileStart+buffer.byteLength;\n\t\t\tbufferedString += \"[\"+range.start+\"-\";\n\t\t} else if (range.end === buffer.fileStart) {\n\t\t\trange.end = buffer.fileStart+buffer.byteLength;\n\t\t} else {\n\t\t\trange = {};\n\t\t\trange.start = buffer.fileStart;\n\t\t\tbufferedString += (ranges[ranges.length-1].end-1)+\"], [\"+range.start+\"-\";\n\t\t\trange.end = buffer.fileStart+buffer.byteLength;\n\t\t\tranges.push(range);\n\t\t}\n\t\tused += buffer.usedBytes;\n\t\ttotal += buffer.byteLength;\n\t}\n\tif (ranges.length > 0) {\n\t\tbufferedString += (range.end-1)+\"]\";\n\t}\n\tvar log = (info ? Log.info : Log.debug)\n\tif (this.buffers.length === 0) {\n\t\tlog(\"MultiBufferStream\", \"No more buffer in memory\");\n\t} else {\n\t\tlog(\"MultiBufferStream\", \"\"+this.buffers.length+\" stored buffer(s) (\"+used+\"/\"+total+\" bytes), continuous ranges: \"+bufferedString);\n\t}\n}\n\nMultiBufferStream.prototype.cleanBuffers = function () {\n\tvar i;\n\tvar buffer;\n\tfor (i = 0; i < this.buffers.length; i++) {\n\t\tbuffer = this.buffers[i];\n\t\tif (buffer.usedBytes === buffer.byteLength) {\n\t\t\tLog.debug(\"MultiBufferStream\", \"Removing buffer #\"+i);\n\t\t\tthis.buffers.splice(i, 1);\n\t\t\ti--;\n\t\t}\n\t}\n}\n\nMultiBufferStream.prototype.mergeNextBuffer = function() {\n\tvar next_buffer;\n\tif (this.bufferIndex+1 < this.buffers.length) {\n\t\tnext_buffer = this.buffers[this.bufferIndex+1];\n\t\tif (next_buffer.fileStart === this.buffer.fileStart + this.buffer.byteLength) {\n\t\t\tvar oldLength = this.buffer.byteLength;\n\t\t\tvar oldUsedBytes = this.buffer.usedBytes;\n\t\t\tvar oldFileStart = this.buffer.fileStart;\n\t\t\tthis.buffers[this.bufferIndex] = ArrayBuffer.concat(this.buffer, next_buffer);\n\t\t\tthis.buffer = this.buffers[this.bufferIndex];\n\t\t\tthis.buffers.splice(this.bufferIndex+1, 1);\n\t\t\tthis.buffer.usedBytes = oldUsedBytes; /* TODO: should it be += ? */\n\t\t\tthis.buffer.fileStart = oldFileStart;\n\t\t\tLog.debug(\"ISOFile\", \"Concatenating buffer for box parsing (length: \"+oldLength+\"->\"+this.buffer.byteLength+\")\");\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t} else {\n\t\treturn false;\n\t}\n}\n\n\n/*************************************************************************\n  Seek-related functions\n *************************************************************************/\n\n/**\n * Finds the buffer that holds the given file position\n * @param  {Boolean} fromStart    indicates if the search should start from the current buffer (false) \n *                                or from the first buffer (true)\n * @param  {Number}  filePosition position in the file to seek to\n * @param  {Boolean} markAsUsed   indicates if the bytes in between the current position and the seek position \n *                                should be marked as used for garbage collection\n * @return {Number}               the index of the buffer holding the seeked file position, -1 if not found.\n */\nMultiBufferStream.prototype.findPosition = function(fromStart, filePosition, markAsUsed) {\n\tvar i;\n\tvar abuffer = null;\n\tvar index = -1;\n\n\t/* find the buffer with the largest position smaller than the given position */\n\tif (fromStart === true) {\n\t   /* the reposition can be in the past, we need to check from the beginning of the list of buffers */\n\t\ti = 0;\n\t} else {\n\t\ti = this.bufferIndex;\n\t}\n\n\twhile (i < this.buffers.length) {\n\t\tabuffer = this.buffers[i];\n\t\tif (abuffer.fileStart <= filePosition) {\n\t\t\tindex = i;\n\t\t\tif (markAsUsed) {\n\t\t\t\tif (abuffer.fileStart + abuffer.byteLength <= filePosition) {\n\t\t\t\t\tabuffer.usedBytes = abuffer.byteLength;\t\n\t\t\t\t} else {\n\t\t\t\t\tabuffer.usedBytes = filePosition - abuffer.fileStart;\n\t\t\t\t}\t\t\n\t\t\t\tthis.logBufferLevel();\t\n\t\t\t}\n\t\t} else {\n\t\t\tbreak;\n\t\t}\n\t\ti++;\n\t}\n\n\tif (index !== -1) {\n\t\tabuffer = this.buffers[index];\n\t\tif (abuffer.fileStart + abuffer.byteLength >= filePosition) {\t\t\t\n\t\t\tLog.debug(\"MultiBufferStream\", \"Found position in existing buffer #\"+index);\n\t\t\treturn index;\n\t\t} else {\n\t\t\treturn -1;\n\t\t}\n\t} else {\n\t\treturn -1;\n\t}\n}\n\n/**\n * Finds the largest file position contained in a buffer or in the next buffers if they are contiguous (no gap)\n * starting from the given buffer index or from the current buffer if the index is not given\n *\n * @param  {Number} inputindex Index of the buffer to start from\n * @return {Number}            The largest file position found in the buffers\n */\nMultiBufferStream.prototype.findEndContiguousBuf = function(inputindex) {\n\tvar i;\n\tvar currentBuf;\n\tvar nextBuf;\n\tvar index = (inputindex !== undefined ? inputindex : this.bufferIndex);\n\tcurrentBuf = this.buffers[index];\n\t/* find the end of the contiguous range of data */\n\tif (this.buffers.length > index+1) {\n\t\tfor (i = index+1; i < this.buffers.length; i++) {\n\t\t\tnextBuf = this.buffers[i];\n\t\t\tif (nextBuf.fileStart === currentBuf.fileStart + currentBuf.byteLength) {\n\t\t\t\tcurrentBuf = nextBuf;\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t/* return the position of last byte in the file that we have */\n\treturn currentBuf.fileStart + currentBuf.byteLength;\n}\n\n/**\n * Returns the largest file position contained in the buffers, larger than the given position\n * @param  {Number} pos the file position to start from\n * @return {Number}     the largest position in the current buffer or in the buffer and the next contiguous \n *                      buffer that holds the given position\n */\nMultiBufferStream.prototype.getEndFilePositionAfter = function(pos) {\n\tvar index = this.findPosition(true, pos, false);\n\tif (index !== -1) {\n\t\treturn this.findEndContiguousBuf(index);\n\t} else {\n\t\treturn pos;\n\t}\n}\n\n/*************************************************************************\n  Garbage collection related functions\n *************************************************************************/\n\n/**\n * Marks a given number of bytes as used in the current buffer for garbage collection\n * @param {Number} nbBytes \n */\nMultiBufferStream.prototype.addUsedBytes = function(nbBytes) {\n\tthis.buffer.usedBytes += nbBytes;\n\tthis.logBufferLevel();\n}\n\n/**\n * Marks the entire current buffer as used, ready for garbage collection\n */\nMultiBufferStream.prototype.setAllUsedBytes = function() {\n\tthis.buffer.usedBytes = this.buffer.byteLength;\n\tthis.logBufferLevel();\n}\n\n/*************************************************************************\n  Common API between MultiBufferStream and SimpleStream\n *************************************************************************/\n\n/**\n * Tries to seek to a given file position\n * if possible, repositions the parsing from there and returns true \n * if not possible, does not change anything and returns false \n * @param  {Number}  filePosition position in the file to seek to\n * @param  {Boolean} fromStart    indicates if the search should start from the current buffer (false) \n *                                or from the first buffer (true)\n * @param  {Boolean} markAsUsed   indicates if the bytes in between the current position and the seek position \n *                                should be marked as used for garbage collection\n * @return {Boolean}              true if the seek succeeded, false otherwise\n */\nMultiBufferStream.prototype.seek = function(filePosition, fromStart, markAsUsed) {\n\tvar index;\n\tindex = this.findPosition(fromStart, filePosition, markAsUsed);\n\tif (index !== -1) {\n\t\tthis.buffer = this.buffers[index];\n\t\tthis.bufferIndex = index;\n\t\tthis.position = filePosition - this.buffer.fileStart;\n\t\tLog.debug(\"MultiBufferStream\", \"Repositioning parser at buffer position: \"+this.position);\n\t\treturn true;\n\t} else {\n\t\tLog.debug(\"MultiBufferStream\", \"Position \"+filePosition+\" not found in buffered data\");\n\t\treturn false;\n\t}\n}\n\n/**\n * Returns the current position in the file\n * @return {Number} the position in the file\n */\nMultiBufferStream.prototype.getPosition = function() {\n\tif (this.bufferIndex === -1 || this.buffers[this.bufferIndex] === null) {\n\t\tthrow \"Error accessing position in the MultiBufferStream\";\n\t}\n\treturn this.buffers[this.bufferIndex].fileStart+this.position;\n}\n\n/**\n * Returns the length of the current buffer\n * @return {Number} the length of the current buffer\n */\nMultiBufferStream.prototype.getLength = function() {\n\treturn this.byteLength;\n}\n\nMultiBufferStream.prototype.getEndPosition = function() {\n\tif (this.bufferIndex === -1 || this.buffers[this.bufferIndex] === null) {\n\t\tthrow \"Error accessing position in the MultiBufferStream\";\n\t}\n\treturn this.buffers[this.bufferIndex].fileStart+this.byteLength;\n}\n\nif (typeof exports !== 'undefined') {\n\texports.MultiBufferStream = MultiBufferStream;\n}// file:src/descriptor.js\n/*\n * Copyright (c) 2012-2013. Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nvar MPEG4DescriptorParser = function () {\n\tvar ES_DescrTag \t\t\t= 0x03;\n\tvar DecoderConfigDescrTag \t= 0x04;\n\tvar DecSpecificInfoTag \t\t= 0x05;\n\tvar SLConfigDescrTag \t\t= 0x06;\n\n\tvar descTagToName = [];\n\tdescTagToName[ES_DescrTag] \t\t\t\t= \"ES_Descriptor\";\n\tdescTagToName[DecoderConfigDescrTag] \t= \"DecoderConfigDescriptor\";\n\tdescTagToName[DecSpecificInfoTag] \t\t= \"DecoderSpecificInfo\";\n\tdescTagToName[SLConfigDescrTag] \t\t= \"SLConfigDescriptor\";\n\n\tthis.getDescriptorName = function(tag) {\n\t\treturn descTagToName[tag];\n\t}\n\n\tvar that = this;\n\tvar classes = {};\n\n\tthis.parseOneDescriptor = function (stream) {\n\t\tvar hdrSize = 0;\n\t\tvar size = 0;\n\t\tvar tag;\n\t\tvar desc;\n\t\tvar byteRead;\n\t\ttag = stream.readUint8();\n\t\thdrSize++;\n\t\tbyteRead = stream.readUint8();\n\t\thdrSize++;\n\t\twhile (byteRead & 0x80) {\n\t\t\tsize = (byteRead & 0x7F)<<7;\n\t\t\tbyteRead = stream.readUint8();\n\t\t\thdrSize++;\n\t\t}\n\t\tsize += byteRead & 0x7F;\n\t\tLog.debug(\"MPEG4DescriptorParser\", \"Found \"+(descTagToName[tag] || \"Descriptor \"+tag)+\", size \"+size+\" at position \"+stream.getPosition());\n\t\tif (descTagToName[tag]) {\n\t\t\tdesc = new classes[descTagToName[tag]](size);\n\t\t} else {\n\t\t\tdesc = new classes.Descriptor(size);\n\t\t}\n\t\tdesc.parse(stream);\n\t\treturn desc;\n\t}\n\n\tclasses.Descriptor = function(_tag, _size) {\n\t\tthis.tag = _tag;\n\t\tthis.size = _size;\n\t\tthis.descs = [];\n\t}\n\n\tclasses.Descriptor.prototype.parse = function (stream) {\n\t\tthis.data = stream.readUint8Array(this.size);\n\t}\n\n\tclasses.Descriptor.prototype.findDescriptor = function (tag) {\n\t\tfor (var i = 0; i < this.descs.length; i++) {\n\t\t\tif (this.descs[i].tag == tag) {\n\t\t\t\treturn this.descs[i];\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tclasses.Descriptor.prototype.parseRemainingDescriptors = function (stream) {\n\t\tvar start = stream.position;\n\t\twhile (stream.position < start+this.size) {\n\t\t\tvar desc = that.parseOneDescriptor(stream);\n\t\t\tthis.descs.push(desc);\n\t\t}\n\t}\n\n\tclasses.ES_Descriptor = function (size) {\n\t\tclasses.Descriptor.call(this, ES_DescrTag, size);\n\t}\n\n\tclasses.ES_Descriptor.prototype = new classes.Descriptor();\n\n\tclasses.ES_Descriptor.prototype.parse = function(stream) {\n\t\tthis.ES_ID = stream.readUint16();\n\t\tthis.flags = stream.readUint8();\n\t\tthis.size -= 3;\n\t\tif (this.flags & 0x80) {\n\t\t\tthis.dependsOn_ES_ID = stream.readUint16();\n\t\t\tthis.size -= 2;\n\t\t} else {\n\t\t\tthis.dependsOn_ES_ID = 0;\n\t\t}\n\t\tif (this.flags & 0x40) {\n\t\t\tvar l = stream.readUint8();\n\t\t\tthis.URL = stream.readString(l);\n\t\t\tthis.size -= l+1;\n\t\t} else {\n\t\t\tthis.URL = \"\";\n\t\t}\n\t\tif (this.flags & 0x20) {\n\t\t\tthis.OCR_ES_ID = stream.readUint16();\n\t\t\tthis.size -= 2;\n\t\t} else {\n\t\t\tthis.OCR_ES_ID = 0;\n\t\t}\n\t\tthis.parseRemainingDescriptors(stream);\n\t}\n\n\tclasses.ES_Descriptor.prototype.getOTI = function(stream) {\n\t\tvar dcd = this.findDescriptor(DecoderConfigDescrTag);\n\t\tif (dcd) {\n\t\t\treturn dcd.oti;\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t}\n\n\tclasses.ES_Descriptor.prototype.getAudioConfig = function(stream) {\n\t\tvar dcd = this.findDescriptor(DecoderConfigDescrTag);\n\t\tif (!dcd) return null;\n\t\tvar dsi = dcd.findDescriptor(DecSpecificInfoTag);\n\t\tif (dsi && dsi.data) {\n\t\t\tvar audioObjectType = (dsi.data[0]& 0xF8) >> 3;\n\t\t\tif (audioObjectType === 31 && dsi.data.length >= 2) {\n\t\t\t\taudioObjectType = 32 + ((dsi.data[0] & 0x7) << 3) + ((dsi.data[1] & 0xE0) >> 5);\n\t\t\t}\n\t\t\treturn audioObjectType;\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tclasses.DecoderConfigDescriptor = function (size) {\n\t\tclasses.Descriptor.call(this, DecoderConfigDescrTag, size);\n\t}\n\tclasses.DecoderConfigDescriptor.prototype = new classes.Descriptor();\n\n\tclasses.DecoderConfigDescriptor.prototype.parse = function(stream) {\n\t\tthis.oti = stream.readUint8();\n\t\tthis.streamType = stream.readUint8();\n\t\tthis.bufferSize = stream.readUint24();\n\t\tthis.maxBitrate = stream.readUint32();\n\t\tthis.avgBitrate = stream.readUint32();\n\t\tthis.size -= 13;\n\t\tthis.parseRemainingDescriptors(stream);\n\t}\n\n\tclasses.DecoderSpecificInfo = function (size) {\n\t\tclasses.Descriptor.call(this, DecSpecificInfoTag, size);\n\t}\n\tclasses.DecoderSpecificInfo.prototype = new classes.Descriptor();\n\n\tclasses.SLConfigDescriptor = function (size) {\n\t\tclasses.Descriptor.call(this, SLConfigDescrTag, size);\n\t}\n\tclasses.SLConfigDescriptor.prototype = new classes.Descriptor();\n\n\treturn this;\n}\n\nif (typeof exports !== 'undefined') {\n\texports.MPEG4DescriptorParser = MPEG4DescriptorParser;\n}// file:src/box.js\n/*\n * Copyright (c) 2012-2013. Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nvar BoxParser = {\n\tERR_INVALID_DATA : -1,\n\tERR_NOT_ENOUGH_DATA : 0,\n\tOK : 1,\n\n\t// Boxes to be created with default parsing\n\tBASIC_BOXES: [ \"mdat\", \"idat\", \"free\", \"skip\", \"meco\", \"strk\" ],\n\tFULL_BOXES: [ \"hmhd\", \"nmhd\", \"iods\", \"xml \", \"bxml\", \"ipro\", \"mere\" ],\n\tCONTAINER_BOXES: [\n\t\t[ \"moov\", [ \"trak\", \"pssh\" ] ],\n\t\t[ \"trak\" ],\n\t\t[ \"edts\" ],\n\t\t[ \"mdia\" ],\n\t\t[ \"minf\" ],\n\t\t[ \"dinf\" ],\n\t\t[ \"stbl\", [ \"sgpd\", \"sbgp\" ] ],\n\t\t[ \"mvex\", [ \"trex\" ] ],\n\t\t[ \"moof\", [ \"traf\" ] ],\n\t\t[ \"traf\", [ \"trun\", \"sgpd\", \"sbgp\" ] ],\n\t\t[ \"vttc\" ],\n\t\t[ \"tref\" ],\n\t\t[ \"iref\" ],\n\t\t[ \"mfra\", [ \"tfra\" ] ],\n\t\t[ \"meco\" ],\n\t\t[ \"hnti\" ],\n\t\t[ \"hinf\" ],\n\t\t[ \"strk\" ],\n\t\t[ \"strd\" ],\n\t\t[ \"sinf\" ],\n\t\t[ \"rinf\" ],\n\t\t[ \"schi\" ],\n\t\t[ \"trgr\" ],\n\t\t[ \"udta\", [\"kind\"] ],\n\t\t[ \"iprp\", [\"ipma\"] ],\n\t\t[ \"ipco\"]\n\t],\n\t// Boxes effectively created\n\tboxCodes : [],\n\tfullBoxCodes : [],\n\tcontainerBoxCodes : [],\n\tsampleEntryCodes : {},\n\tsampleGroupEntryCodes: [],\n\ttrackGroupTypes: [],\n\tUUIDBoxes: {},\n\tUUIDs: [],\n\tinitialize: function() {\n\t\tBoxParser.FullBox.prototype = new BoxParser.Box();\n\t\tBoxParser.ContainerBox.prototype = new BoxParser.Box();\n\t\tBoxParser.SampleEntry.prototype = new BoxParser.Box();\n\t\tBoxParser.TrackGroupTypeBox.prototype = new BoxParser.FullBox();\n\n\t\t/* creating constructors for simple boxes */\n\t\tBoxParser.BASIC_BOXES.forEach(function(type) {\n\t\t\tBoxParser.createBoxCtor(type)\n\t\t});\n\t\tBoxParser.FULL_BOXES.forEach(function(type) {\n\t\t\tBoxParser.createFullBoxCtor(type);\n\t\t});\n\t\tBoxParser.CONTAINER_BOXES.forEach(function(types) {\n\t\t\tBoxParser.createContainerBoxCtor(types[0], null, types[1]);\n\t\t});\n\t},\n\tBox: function(_type, _size, _uuid) {\n\t\tthis.type = _type;\n\t\tthis.size = _size;\n\t\tthis.uuid = _uuid;\n\t},\n\tFullBox: function(type, size, uuid) {\n\t\tBoxParser.Box.call(this, type, size, uuid);\n\t\tthis.flags = 0;\n\t\tthis.version = 0;\n\t},\n\tContainerBox: function(type, size, uuid) {\n\t\tBoxParser.Box.call(this, type, size, uuid);\n\t\tthis.boxes = [];\n\t},\n\tSampleEntry: function(type, size, hdr_size, start) {\n\t\tBoxParser.ContainerBox.call(this, type, size);\n\t\tthis.hdr_size = hdr_size;\n\t\tthis.start = start;\n\t},\n\tSampleGroupEntry: function(type) {\n\t\tthis.grouping_type = type;\n\t},\n\tTrackGroupTypeBox: function(type, size) {\n\t\tBoxParser.FullBox.call(this, type, size);\n\t},\n\tcreateBoxCtor: function(type, parseMethod){\n\t\tBoxParser.boxCodes.push(type);\n\t\tBoxParser[type+\"Box\"] = function(size) {\n\t\t\tBoxParser.Box.call(this, type, size);\n\t\t}\n\t\tBoxParser[type+\"Box\"].prototype = new BoxParser.Box();\n\t\tif (parseMethod) BoxParser[type+\"Box\"].prototype.parse = parseMethod;\n\t},\n\tcreateFullBoxCtor: function(type, parseMethod) {\n\t\t//BoxParser.fullBoxCodes.push(type);\n\t\tBoxParser[type+\"Box\"] = function(size) {\n\t\t\tBoxParser.FullBox.call(this, type, size);\n\t\t}\n\t\tBoxParser[type+\"Box\"].prototype = new BoxParser.FullBox();\n\t\tBoxParser[type+\"Box\"].prototype.parse = function(stream) {\n\t\t\tthis.parseFullHeader(stream);\n\t\t\tif (parseMethod) {\n\t\t\t\tparseMethod.call(this, stream);\n\t\t\t}\n\t\t};\n\t},\n\taddSubBoxArrays: function(subBoxNames) {\n\t\tif (subBoxNames) {\n\t\t\tthis.subBoxNames = subBoxNames;\n\t\t\tvar nbSubBoxes = subBoxNames.length;\n\t\t\tfor (var k = 0; k<nbSubBoxes; k++) {\n\t\t\t\tthis[subBoxNames[k]+\"s\"] = [];\n\t\t\t}\n\t\t}\n\t},\n\tcreateContainerBoxCtor: function(type, parseMethod, subBoxNames) {\n\t\t//BoxParser.containerBoxCodes.push(type);\n\t\tBoxParser[type+\"Box\"] = function(size) {\n\t\t\tBoxParser.ContainerBox.call(this, type, size);\n\t\t\tBoxParser.addSubBoxArrays.call(this, subBoxNames);\n\t\t}\n\t\tBoxParser[type+\"Box\"].prototype = new BoxParser.ContainerBox();\n\t\tif (parseMethod) BoxParser[type+\"Box\"].prototype.parse = parseMethod;\n\t},\n\tcreateMediaSampleEntryCtor: function(mediaType, parseMethod, subBoxNames) {\n\t\tBoxParser.sampleEntryCodes[mediaType] = [];\n\t\tBoxParser[mediaType+\"SampleEntry\"] = function(type, size) {\n\t\t\tBoxParser.SampleEntry.call(this, type, size);\n\t\t\tBoxParser.addSubBoxArrays.call(this, subBoxNames);\n\t\t};\n\t\tBoxParser[mediaType+\"SampleEntry\"].prototype = new BoxParser.SampleEntry();\n\t\tif (parseMethod) BoxParser[mediaType+\"SampleEntry\"].prototype .parse = parseMethod;\n\t},\n\tcreateSampleEntryCtor: function(mediaType, type, parseMethod, subBoxNames) {\n\t\tBoxParser.sampleEntryCodes[mediaType].push(type);\n\t\tBoxParser[type+\"SampleEntry\"] = function(size) {\n\t\t\tBoxParser[mediaType+\"SampleEntry\"].call(this, type, size);\n\t\t\tBoxParser.addSubBoxArrays.call(this, subBoxNames);\n\t\t};\n\t\tBoxParser[type+\"SampleEntry\"].prototype = new BoxParser[mediaType+\"SampleEntry\"]();\n\t\tif (parseMethod) BoxParser[type+\"SampleEntry\"].prototype.parse = parseMethod;\n\t},\n\tcreateEncryptedSampleEntryCtor: function(mediaType, type, parseMethod) {\n\t\tBoxParser.createSampleEntryCtor.call(this, mediaType, type, parseMethod, [\"sinf\"]);\n\t},\n\tcreateSampleGroupCtor: function(type, parseMethod) {\n\t\t//BoxParser.sampleGroupEntryCodes.push(type);\n\t\tBoxParser[type+\"SampleGroupEntry\"] = function(size) {\n\t\t\tBoxParser.SampleGroupEntry.call(this, type, size);\n\t\t}\n\t\tBoxParser[type+\"SampleGroupEntry\"].prototype = new BoxParser.SampleGroupEntry();\n\t\tif (parseMethod) BoxParser[type+\"SampleGroupEntry\"].prototype.parse = parseMethod;\n\t},\n\tcreateTrackGroupCtor: function(type, parseMethod) {\n\t\t//BoxParser.trackGroupTypes.push(type);\n\t\tBoxParser[type+\"TrackGroupTypeBox\"] = function(size) {\n\t\t\tBoxParser.TrackGroupTypeBox.call(this, type, size);\n\t\t}\n\t\tBoxParser[type+\"TrackGroupTypeBox\"].prototype = new BoxParser.TrackGroupTypeBox();\n\t\tif (parseMethod) BoxParser[type+\"TrackGroupTypeBox\"].prototype.parse = parseMethod;\n\t},\n\tcreateUUIDBox: function(uuid, isFullBox, isContainerBox, parseMethod) {\n\t\tBoxParser.UUIDs.push(uuid);\n\t\tBoxParser.UUIDBoxes[uuid] = function(size) {\n\t\t\tif (isFullBox) {\n\t\t\t\tBoxParser.FullBox.call(this, \"uuid\", size, uuid);\n\t\t\t} else {\n\t\t\t\tif (isContainerBox) {\n\t\t\t\t\tBoxParser.ContainerBox.call(this, \"uuid\", size, uuid);\n\t\t\t\t} else {\n\t\t\t\t\tBoxParser.Box.call(this, \"uuid\", size, uuid);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tBoxParser.UUIDBoxes[uuid].prototype = (isFullBox ? new BoxParser.FullBox() : (isContainerBox ? new BoxParser.ContainerBox() : new BoxParser.Box()));\n\t\tif (parseMethod) {\n\t\t\tif (isFullBox) {\n\t\t\t\tBoxParser.UUIDBoxes[uuid].prototype.parse = function(stream) {\n\t\t\t\t\tthis.parseFullHeader(stream);\n\t\t\t\t\tif (parseMethod) {\n\t\t\t\t\t\tparseMethod.call(this, stream);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tBoxParser.UUIDBoxes[uuid].prototype.parse = parseMethod;\n\t\t\t}\n\t\t}\n\t}\n}\n\nBoxParser.initialize();\n\nBoxParser.TKHD_FLAG_ENABLED    = 0x000001;\nBoxParser.TKHD_FLAG_IN_MOVIE   = 0x000002;\nBoxParser.TKHD_FLAG_IN_PREVIEW = 0x000004;\n\nBoxParser.TFHD_FLAG_BASE_DATA_OFFSET\t= 0x01;\nBoxParser.TFHD_FLAG_SAMPLE_DESC\t\t\t= 0x02;\nBoxParser.TFHD_FLAG_SAMPLE_DUR\t\t\t= 0x08;\nBoxParser.TFHD_FLAG_SAMPLE_SIZE\t\t\t= 0x10;\nBoxParser.TFHD_FLAG_SAMPLE_FLAGS\t\t= 0x20;\nBoxParser.TFHD_FLAG_DUR_EMPTY\t\t\t= 0x10000;\nBoxParser.TFHD_FLAG_DEFAULT_BASE_IS_MOOF= 0x20000;\n\nBoxParser.TRUN_FLAGS_DATA_OFFSET= 0x01;\nBoxParser.TRUN_FLAGS_FIRST_FLAG\t= 0x04;\nBoxParser.TRUN_FLAGS_DURATION\t= 0x100;\nBoxParser.TRUN_FLAGS_SIZE\t\t= 0x200;\nBoxParser.TRUN_FLAGS_FLAGS\t\t= 0x400;\nBoxParser.TRUN_FLAGS_CTS_OFFSET\t= 0x800;\n\nBoxParser.Box.prototype.add = function(name) {\n\treturn this.addBox(new BoxParser[name+\"Box\"]());\n}\n\nBoxParser.Box.prototype.addBox = function(box) {\n\tthis.boxes.push(box);\n\tif (this[box.type+\"s\"]) {\n\t\tthis[box.type+\"s\"].push(box);\n\t} else {\n\t\tthis[box.type] = box;\n\t}\n\treturn box;\n}\n\nBoxParser.Box.prototype.set = function(prop, value) {\n\tthis[prop] = value;\n\treturn this;\n}\n\nBoxParser.Box.prototype.addEntry = function(value, _prop) {\n\tvar prop = _prop || \"entries\";\n\tif (!this[prop]) {\n\t\tthis[prop] = [];\n\t}\n\tthis[prop].push(value);\n\treturn this;\n}\n\nif (typeof exports !== \"undefined\") {\n\texports.BoxParser = BoxParser;\n}\n// file:src/box-parse.js\n/* \n * Copyright (c) Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nBoxParser.parseUUID = function(stream) {\n\treturn BoxParser.parseHex16(stream);\n}\n\nBoxParser.parseHex16 = function(stream) {\n\tvar hex16 = \"\"\n\tfor (var i = 0; i <16; i++) {\n\t\tvar hex = stream.readUint8().toString(16);\n\t\thex16 += (hex.length === 1 ? \"0\"+hex : hex);\n\t}\n\treturn hex16;\n}\n\nBoxParser.parseOneBox = function(stream, headerOnly, parentSize) {\n\tvar box;\n\tvar start = stream.getPosition();\n\tvar hdr_size = 0;\n\tvar diff;\n\tvar uuid;\n\tif (stream.getEndPosition() - start < 8) {\n\t\tLog.debug(\"BoxParser\", \"Not enough data in stream to parse the type and size of the box\");\n\t\treturn { code: BoxParser.ERR_NOT_ENOUGH_DATA };\n\t}\n\tif (parentSize && parentSize < 8) {\n\t\tLog.debug(\"BoxParser\", \"Not enough bytes left in the parent box to parse a new box\");\n\t\treturn { code: BoxParser.ERR_NOT_ENOUGH_DATA };\n\t}\n\tvar size = stream.readUint32();\n\tvar type = stream.readString(4);\n\tvar box_type = type;\n\tLog.debug(\"BoxParser\", \"Found box of type '\"+type+\"' and size \"+size+\" at position \"+start);\n\thdr_size = 8;\n\tif (type == \"uuid\") {\n\t\tif ((stream.getEndPosition() - stream.getPosition() < 16) || (parentSize -hdr_size < 16)) {\n\t\t\tstream.seek(start);\n\t\t\tLog.debug(\"BoxParser\", \"Not enough bytes left in the parent box to parse a UUID box\");\n\t\t\treturn { code: BoxParser.ERR_NOT_ENOUGH_DATA };\n\t\t}\n\t\tuuid = BoxParser.parseUUID(stream);\n\t\thdr_size += 16;\n\t\tbox_type = uuid;\n\t}\n\tif (size == 1) {\n\t\tif ((stream.getEndPosition() - stream.getPosition() < 8) || (parentSize && (parentSize - hdr_size) < 8)) {\n\t\t\tstream.seek(start);\n\t\t\tLog.warn(\"BoxParser\", \"Not enough data in stream to parse the extended size of the \\\"\"+type+\"\\\" box\");\n\t\t\treturn { code: BoxParser.ERR_NOT_ENOUGH_DATA };\n\t\t}\n\t\tsize = stream.readUint64();\n\t\thdr_size += 8;\n\t} else if (size === 0) {\n\t\t/* box extends till the end of file or invalid file */\n\t\tif (parentSize) {\n\t\t\tsize = parentSize;\n\t\t} else {\n\t\t\t/* box extends till the end of file */\n\t\t\tif (type !== \"mdat\") {\n\t\t\t\tLog.error(\"BoxParser\", \"Unlimited box size not supported for type: '\"+type+\"'\");\n\t\t\t\tbox = new BoxParser.Box(type, size);\n\t\t\t\treturn { code: BoxParser.OK, box: box, size: box.size };\n\t\t\t}\n\t\t}\n\t}\n\tif (size !== 0 && size < hdr_size) {\n\t\tLog.error(\"BoxParser\", \"Box of type \"+type+\" has an invalid size \"+size+\" (too small to be a box)\");\n\t\treturn { code: BoxParser.ERR_NOT_ENOUGH_DATA, type: type, size: size, hdr_size: hdr_size, start: start };\n\t}\n\tif (size !== 0 && parentSize && size > parentSize) {\n\t\tLog.error(\"BoxParser\", \"Box of type '\"+type+\"' has a size \"+size+\" greater than its container size \"+parentSize);\n\t\treturn { code: BoxParser.ERR_NOT_ENOUGH_DATA, type: type, size: size, hdr_size: hdr_size, start: start };\n\t}\n\tif (size !== 0 && start + size > stream.getEndPosition()) {\n\t\tstream.seek(start);\n\t\tLog.info(\"BoxParser\", \"Not enough data in stream to parse the entire '\"+type+\"' box\");\n\t\treturn { code: BoxParser.ERR_NOT_ENOUGH_DATA, type: type, size: size, hdr_size: hdr_size, start: start };\n\t}\n\tif (headerOnly) {\n\t\treturn { code: BoxParser.OK, type: type, size: size, hdr_size: hdr_size, start: start };\n\t} else {\n\t\tif (BoxParser[type+\"Box\"]) {\n\t\t\tbox = new BoxParser[type+\"Box\"](size);\n\t\t} else {\n\t\t\tif (type !== \"uuid\") {\n\t\t\t\tLog.warn(\"BoxParser\", \"Unknown box type: '\"+type+\"'\");\n\t\t\t\tbox = new BoxParser.Box(type, size);\n\t\t\t\tbox.has_unparsed_data = true;\n\t\t\t} else {\n\t\t\t\tif (BoxParser.UUIDBoxes[uuid]) {\n\t\t\t\t\tbox = new BoxParser.UUIDBoxes[uuid](size);\n\t\t\t\t} else {\n\t\t\t\t\tLog.warn(\"BoxParser\", \"Unknown uuid type: '\"+uuid+\"'\");\n\t\t\t\t\tbox = new BoxParser.Box(type, size);\n\t\t\t\t\tbox.uuid = uuid;\n\t\t\t\t\tbox.has_unparsed_data = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tbox.hdr_size = hdr_size;\n\t/* recording the position of the box in the input stream */\n\tbox.start = start;\n\tif (box.write === BoxParser.Box.prototype.write && box.type !== \"mdat\") {\n\t\tLog.info(\"BoxParser\", \"'\"+box_type+\"' box writing not yet implemented, keeping unparsed data in memory for later write\");\n\t\tbox.parseDataAndRewind(stream);\n\t}\n\tbox.parse(stream);\n\tdiff = stream.getPosition() - (box.start+box.size);\n\tif (diff < 0) {\n\t\tLog.warn(\"BoxParser\", \"Parsing of box '\"+box_type+\"' did not read the entire indicated box data size (missing \"+(-diff)+\" bytes), seeking forward\");\n\t\tstream.seek(box.start+box.size);\n\t} else if (diff > 0) {\n\t\tLog.error(\"BoxParser\", \"Parsing of box '\"+box_type+\"' read \"+diff+\" more bytes than the indicated box data size, seeking backwards\");\n\t\tif (box.size !== 0) stream.seek(box.start+box.size);\n\t}\n\treturn { code: BoxParser.OK, box: box, size: box.size };\n}\n\nBoxParser.Box.prototype.parse = function(stream) {\n\tif (this.type != \"mdat\") {\n\t\tthis.data = stream.readUint8Array(this.size-this.hdr_size);\n\t} else {\n\t\tif (this.size === 0) {\n\t\t\tstream.seek(stream.getEndPosition());\n\t\t} else {\n\t\t\tstream.seek(this.start+this.size);\n\t\t}\n\t}\n}\n\n/* Used to parse a box without consuming its data, to allow detailled parsing\n   Useful for boxes for which a write method is not yet implemented */\nBoxParser.Box.prototype.parseDataAndRewind = function(stream) {\n\tthis.data = stream.readUint8Array(this.size-this.hdr_size);\n\t// rewinding\n\tstream.position -= this.size-this.hdr_size;\n}\n\nBoxParser.FullBox.prototype.parseDataAndRewind = function(stream) {\n\tthis.parseFullHeader(stream);\n\tthis.data = stream.readUint8Array(this.size-this.hdr_size);\n\t// restore the header size as if the full header had not been parsed\n\tthis.hdr_size -= 4;\n\t// rewinding\n\tstream.position -= this.size-this.hdr_size;\n}\n\nBoxParser.FullBox.prototype.parseFullHeader = function (stream) {\n\tthis.version = stream.readUint8();\n\tthis.flags = stream.readUint24();\n\tthis.hdr_size += 4;\n}\n\nBoxParser.FullBox.prototype.parse = function (stream) {\n\tthis.parseFullHeader(stream);\n\tthis.data = stream.readUint8Array(this.size-this.hdr_size);\n}\n\nBoxParser.ContainerBox.prototype.parse = function(stream) {\n\tvar ret;\n\tvar box;\n\twhile (stream.getPosition() < this.start+this.size) {\n\t\tret = BoxParser.parseOneBox(stream, false, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tbox = ret.box;\n\t\t\t/* store the box in the 'boxes' array to preserve box order (for offset) but also store box in a property for more direct access */\n\t\t\tthis.boxes.push(box);\n\t\t\tif (this.subBoxNames && this.subBoxNames.indexOf(box.type) != -1) {\n\t\t\t\tthis[this.subBoxNames[this.subBoxNames.indexOf(box.type)]+\"s\"].push(box);\n\t\t\t} else {\n\t\t\t\tvar box_type = box.type !== \"uuid\" ? box.type : box.uuid;\n\t\t\t\tif (this[box_type]) {\n\t\t\t\t\tLog.warn(\"Box of type \"+box_type+\" already stored in field of this type\");\n\t\t\t\t} else {\n\t\t\t\t\tthis[box_type] = box;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n}\n\nBoxParser.Box.prototype.parseLanguage = function(stream) {\n\tthis.language = stream.readUint16();\n\tvar chars = [];\n\tchars[0] = (this.language>>10)&0x1F;\n\tchars[1] = (this.language>>5)&0x1F;\n\tchars[2] = (this.language)&0x1F;\n\tthis.languageString = String.fromCharCode(chars[0]+0x60, chars[1]+0x60, chars[2]+0x60);\n}\n\n// file:src/parsing/sampleentries/sampleentry.js\nBoxParser.SAMPLE_ENTRY_TYPE_VISUAL \t\t= \"Visual\";\nBoxParser.SAMPLE_ENTRY_TYPE_AUDIO \t\t= \"Audio\";\nBoxParser.SAMPLE_ENTRY_TYPE_HINT \t\t= \"Hint\";\nBoxParser.SAMPLE_ENTRY_TYPE_METADATA \t= \"Metadata\";\nBoxParser.SAMPLE_ENTRY_TYPE_SUBTITLE \t= \"Subtitle\";\nBoxParser.SAMPLE_ENTRY_TYPE_SYSTEM \t\t= \"System\";\nBoxParser.SAMPLE_ENTRY_TYPE_TEXT \t\t= \"Text\";\n\nBoxParser.SampleEntry.prototype.parseHeader = function(stream) {\n\tstream.readUint8Array(6);\n\tthis.data_reference_index = stream.readUint16();\n\tthis.hdr_size += 8;\n}\n\nBoxParser.SampleEntry.prototype.parse = function(stream) {\n\tthis.parseHeader(stream);\n\tthis.data = stream.readUint8Array(this.size - this.hdr_size);\n}\n\nBoxParser.SampleEntry.prototype.parseDataAndRewind = function(stream) {\n\tthis.parseHeader(stream);\n\tthis.data = stream.readUint8Array(this.size - this.hdr_size);\n\t// restore the header size as if the sample entry header had not been parsed\n\tthis.hdr_size -= 8;\n\t// rewinding\n\tstream.position -= this.size-this.hdr_size;\n}\n\nBoxParser.SampleEntry.prototype.parseFooter = function(stream) {\n\tBoxParser.ContainerBox.prototype.parse.call(this, stream);\n}\n\n// Base SampleEntry types with default parsing\nBoxParser.createMediaSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_HINT);\nBoxParser.createMediaSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_METADATA);\nBoxParser.createMediaSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_SUBTITLE);\nBoxParser.createMediaSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_SYSTEM);\nBoxParser.createMediaSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_TEXT);\n\n//Base SampleEntry types for Audio and Video with specific parsing\nBoxParser.createMediaSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, function(stream) {\n\tvar compressorname_length;\n\tthis.parseHeader(stream);\n\tstream.readUint16();\n\tstream.readUint16();\n\tstream.readUint32Array(3);\n\tthis.width = stream.readUint16();\n\tthis.height = stream.readUint16();\n\tthis.horizresolution = stream.readUint32();\n\tthis.vertresolution = stream.readUint32();\n\tstream.readUint32();\n\tthis.frame_count = stream.readUint16();\n\tcompressorname_length = Math.min(31, stream.readUint8());\n\tthis.compressorname = stream.readString(compressorname_length);\n\tif (compressorname_length < 31) {\n\t\tstream.readString(31 - compressorname_length);\n\t}\n\tthis.depth = stream.readUint16();\n\tstream.readUint16();\n\tthis.parseFooter(stream);\n});\n\nBoxParser.createMediaSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_AUDIO, function(stream) {\n\tthis.parseHeader(stream);\n\tstream.readUint32Array(2);\n\tthis.channel_count = stream.readUint16();\n\tthis.samplesize = stream.readUint16();\n\tstream.readUint16();\n\tstream.readUint16();\n\tthis.samplerate = (stream.readUint32()/(1<<16));\n\tthis.parseFooter(stream);\n});\n\n// Sample entries inheriting from Audio and Video\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"avc1\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"avc2\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"avc3\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"avc4\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"av01\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"hvc1\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"hev1\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"vvc1\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"vvi1\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"vvs1\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"vvcN\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"vp08\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \"vp09\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_AUDIO, \t\"mp4a\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_AUDIO, \t\"ac-3\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_AUDIO, \t\"ec-3\");\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_AUDIO, \t\"Opus\");\n\n// Encrypted sample entries\nBoxParser.createEncryptedSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_VISUAL, \t\"encv\");\nBoxParser.createEncryptedSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_AUDIO, \t\"enca\");\nBoxParser.createEncryptedSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_SUBTITLE, \t\"encu\");\nBoxParser.createEncryptedSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_SYSTEM, \t\"encs\");\nBoxParser.createEncryptedSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_TEXT, \t\t\"enct\");\nBoxParser.createEncryptedSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_METADATA, \t\"encm\");\n// file:src/parsing/a1lx.js\nBoxParser.createBoxCtor(\"a1lx\", function(stream) {\n\tvar large_size = stream.readUint8() & 1;\n\tvar FieldLength = ((large_size & 1) + 1) * 16;\n\tthis.layer_size = [];\n\tfor (var i = 0; i < 3; i++) {\n\t\tif (FieldLength == 16) {\n\t\t\tthis.layer_size[i] = stream.readUint16();\n\t\t} else {\n\t\t\tthis.layer_size[i] = stream.readUint32();\n\t\t}\n\t}\n});// file:src/parsing/a1op.js\nBoxParser.createBoxCtor(\"a1op\", function(stream) {\n\tthis.op_index = stream.readUint8();\n});// file:src/parsing/auxC.js\nBoxParser.createFullBoxCtor(\"auxC\", function(stream) {\n\tthis.aux_type = stream.readCString();\n\tvar aux_subtype_length = this.size - this.hdr_size - (this.aux_type.length + 1);\n\tthis.aux_subtype = stream.readUint8Array(aux_subtype_length);\n});// file:src/parsing/av1C.js\nBoxParser.createBoxCtor(\"av1C\", function(stream) {\n\tvar i;\n\tvar toparse;\n\tvar tmp = stream.readUint8();\n\tif ((tmp >> 7) & 0x1 !== 1) {\n\t\tLog.error(\"av1C marker problem\");\n\t\treturn;\n\t}\n\tthis.version = tmp & 0x7F;\n\tif (this.version !== 1) {\n\t\tLog.error(\"av1C version \"+this.version+\" not supported\");\n\t\treturn;\n\t}\n\ttmp = stream.readUint8();\n\tthis.seq_profile = (tmp >> 5) & 0x7;\n\tthis.seq_level_idx_0 = tmp & 0x1F;\n\ttmp = stream.readUint8();\n\tthis.seq_tier_0 = (tmp >> 7) & 0x1;\n\tthis.high_bitdepth = (tmp >> 6) & 0x1;\n\tthis.twelve_bit = (tmp >> 5) & 0x1;\n\tthis.monochrome = (tmp >> 4) & 0x1;\n\tthis.chroma_subsampling_x = (tmp >> 3) & 0x1;\n\tthis.chroma_subsampling_y = (tmp >> 2) & 0x1;\n\tthis.chroma_sample_position = (tmp & 0x3);\n\ttmp = stream.readUint8();\n\tthis.reserved_1 = (tmp >> 5) & 0x7;\n\tif (this.reserved_1 !== 0) {\n\t\tLog.error(\"av1C reserved_1 parsing problem\");\n\t\treturn;\n\t}\n\tthis.initial_presentation_delay_present = (tmp >> 4) & 0x1;\n\tif (this.initial_presentation_delay_present === 1) {\n\t\tthis.initial_presentation_delay_minus_one = (tmp & 0xF);\n\t} else {\n\t\tthis.reserved_2 = (tmp & 0xF);\n\t\tif (this.reserved_2 !== 0) {\n\t\t\tLog.error(\"av1C reserved_2 parsing problem\");\n\t\t\treturn;\n\t\t}\n\t}\n\n\tvar configOBUs_length = this.size - this.hdr_size - 4;\n\tthis.configOBUs = stream.readUint8Array(configOBUs_length);\n});\n\n// file:src/parsing/avcC.js\nBoxParser.createBoxCtor(\"avcC\", function(stream) {\n\tvar i;\n\tvar toparse;\n\tthis.configurationVersion = stream.readUint8();\n\tthis.AVCProfileIndication = stream.readUint8();\n\tthis.profile_compatibility = stream.readUint8();\n\tthis.AVCLevelIndication = stream.readUint8();\n\tthis.lengthSizeMinusOne = (stream.readUint8() & 0x3);\n\tthis.nb_SPS_nalus = (stream.readUint8() & 0x1F);\n\ttoparse = this.size - this.hdr_size - 6;\n\tthis.SPS = [];\n\tfor (i = 0; i < this.nb_SPS_nalus; i++) {\n\t\tthis.SPS[i] = {};\n\t\tthis.SPS[i].length = stream.readUint16();\n\t\tthis.SPS[i].nalu = stream.readUint8Array(this.SPS[i].length);\n\t\ttoparse -= 2+this.SPS[i].length;\n\t}\n\tthis.nb_PPS_nalus = stream.readUint8();\n\ttoparse--;\n\tthis.PPS = [];\n\tfor (i = 0; i < this.nb_PPS_nalus; i++) {\n\t\tthis.PPS[i] = {};\n\t\tthis.PPS[i].length = stream.readUint16();\n\t\tthis.PPS[i].nalu = stream.readUint8Array(this.PPS[i].length);\n\t\ttoparse -= 2+this.PPS[i].length;\n\t}\n\tif (toparse>0) {\n\t\tthis.ext = stream.readUint8Array(toparse);\n\t}\n});\n\n// file:src/parsing/btrt.js\nBoxParser.createBoxCtor(\"btrt\", function(stream) {\n\tthis.bufferSizeDB = stream.readUint32();\n\tthis.maxBitrate = stream.readUint32();\n\tthis.avgBitrate = stream.readUint32();\n});\n\n// file:src/parsing/clap.js\nBoxParser.createBoxCtor(\"clap\", function(stream) {\n\tthis.cleanApertureWidthN = stream.readUint32();\n\tthis.cleanApertureWidthD = stream.readUint32();\n\tthis.cleanApertureHeightN = stream.readUint32();\n\tthis.cleanApertureHeightD = stream.readUint32();\n\tthis.horizOffN = stream.readUint32();\n\tthis.horizOffD = stream.readUint32();\n\tthis.vertOffN = stream.readUint32();\n\tthis.vertOffD = stream.readUint32();\n});// file:src/parsing/clli.js\nBoxParser.createBoxCtor(\"clli\", function(stream) {\n\tthis.max_content_light_level = stream.readUint16();\n    this.max_pic_average_light_level = stream.readUint16();\n});\n\n// file:src/parsing/co64.js\nBoxParser.createFullBoxCtor(\"co64\", function(stream) {\n\tvar entry_count;\n\tvar i;\n\tentry_count = stream.readUint32();\n\tthis.chunk_offsets = [];\n\tif (this.version === 0) {\n\t\tfor(i=0; i<entry_count; i++) {\n\t\t\tthis.chunk_offsets.push(stream.readUint64());\n\t\t}\n\t}\n});\n\n// file:src/parsing/CoLL.js\nBoxParser.createFullBoxCtor(\"CoLL\", function(stream) {\n\tthis.maxCLL = stream.readUint16();\n    this.maxFALL = stream.readUint16();\n});\n\n// file:src/parsing/colr.js\nBoxParser.createBoxCtor(\"colr\", function(stream) {\n\tthis.colour_type = stream.readString(4);\n\tif (this.colour_type === 'nclx') {\n\t\tthis.colour_primaries = stream.readUint16();\n\t\tthis.transfer_characteristics = stream.readUint16();\n\t\tthis.matrix_coefficients = stream.readUint16();\n\t\tvar tmp = stream.readUint8();\n\t\tthis.full_range_flag = tmp >> 7;\n\t} else if (this.colour_type === 'rICC') {\n\t\tthis.ICC_profile = stream.readUint8Array(this.size - 4);\n\t} else if (this.colour_type === 'prof') {\n\t\tthis.ICC_profile = stream.readUint8Array(this.size - 4);\n\t}\n});// file:src/parsing/cprt.js\nBoxParser.createFullBoxCtor(\"cprt\", function (stream) {\n\tthis.parseLanguage(stream);\n\tthis.notice = stream.readCString();\n});\n\n// file:src/parsing/cslg.js\nBoxParser.createFullBoxCtor(\"cslg\", function(stream) {\n\tvar entry_count;\n\tif (this.version === 0) {\n\t\tthis.compositionToDTSShift = stream.readInt32(); /* signed */\n\t\tthis.leastDecodeToDisplayDelta = stream.readInt32(); /* signed */\n\t\tthis.greatestDecodeToDisplayDelta = stream.readInt32(); /* signed */\n\t\tthis.compositionStartTime = stream.readInt32(); /* signed */\n\t\tthis.compositionEndTime = stream.readInt32(); /* signed */\n\t}\n});\n\n// file:src/parsing/ctts.js\nBoxParser.createFullBoxCtor(\"ctts\", function(stream) {\n\tvar entry_count;\n\tvar i;\n\tentry_count = stream.readUint32();\n\tthis.sample_counts = [];\n\tthis.sample_offsets = [];\n\tif (this.version === 0) {\n\t\tfor(i=0; i<entry_count; i++) {\n\t\t\tthis.sample_counts.push(stream.readUint32());\n\t\t\t/* some files are buggy and declare version=0 while using signed offsets.\n\t\t\t   The likelyhood of using the most significant bit in a 32-bits time offset is very low,\n\t\t\t   so using signed value here as well */\n\t\t\t   var value = stream.readInt32();\n\t\t\t   if (value < 0) {\n\t\t\t   \t\tLog.warn(\"BoxParser\", \"ctts box uses negative values without using version 1\");\n\t\t\t   }\n\t\t\tthis.sample_offsets.push(value);\n\t\t}\n\t} else if (this.version == 1) {\n\t\tfor(i=0; i<entry_count; i++) {\n\t\t\tthis.sample_counts.push(stream.readUint32());\n\t\t\tthis.sample_offsets.push(stream.readInt32()); /* signed */\n\t\t}\n\t}\n});\n\n// file:src/parsing/dac3.js\nBoxParser.createBoxCtor(\"dac3\", function(stream) {\n\tvar tmp_byte1 = stream.readUint8();\n\tvar tmp_byte2 = stream.readUint8();\n\tvar tmp_byte3 = stream.readUint8();\n\tthis.fscod = tmp_byte1 >> 6;\n\tthis.bsid  = ((tmp_byte1 >> 1) & 0x1F);\n\tthis.bsmod = ((tmp_byte1 & 0x1) <<  2) | ((tmp_byte2 >> 6) & 0x3);\n\tthis.acmod = ((tmp_byte2 >> 3) & 0x7);\n\tthis.lfeon = ((tmp_byte2 >> 2) & 0x1);\n\tthis.bit_rate_code = (tmp_byte2 & 0x3) | ((tmp_byte3 >> 5) & 0x7);\n});\n\n// file:src/parsing/dec3.js\nBoxParser.createBoxCtor(\"dec3\", function(stream) {\n\tvar tmp_16 = stream.readUint16();\n\tthis.data_rate = tmp_16 >> 3;\n\tthis.num_ind_sub = tmp_16 & 0x7;\n\tthis.ind_subs = [];\n\tfor (var i = 0; i < this.num_ind_sub+1; i++) {\n\t\tvar ind_sub = {};\n\t\tthis.ind_subs.push(ind_sub);\n\t\tvar tmp_byte1 = stream.readUint8();\n\t\tvar tmp_byte2 = stream.readUint8();\n\t\tvar tmp_byte3 = stream.readUint8();\n\t\tind_sub.fscod = tmp_byte1 >> 6;\n\t\tind_sub.bsid  = ((tmp_byte1 >> 1) & 0x1F);\n\t\tind_sub.bsmod = ((tmp_byte1 & 0x1) << 4) | ((tmp_byte2 >> 4) & 0xF);\n\t\tind_sub.acmod = ((tmp_byte2 >> 1) & 0x7);\n\t\tind_sub.lfeon = (tmp_byte2 & 0x1);\n\t\tind_sub.num_dep_sub = ((tmp_byte3 >> 1) & 0xF);\n\t\tif (ind_sub.num_dep_sub > 0) {\n\t\t\tind_sub.chan_loc = ((tmp_byte3 & 0x1) << 8) | stream.readUint8();\n\t\t}\n\t}\n});\n\n// file:src/parsing/dfLa.js\nBoxParser.createFullBoxCtor(\"dfLa\", function(stream) {\n    var BLOCKTYPE_MASK = 0x7F;\n    var LASTMETADATABLOCKFLAG_MASK = 0x80;\n\n    var boxesFound = [];\n    var knownBlockTypes = [\n        \"STREAMINFO\",\n        \"PADDING\",\n        \"APPLICATION\",\n        \"SEEKTABLE\",\n        \"VORBIS_COMMENT\",\n        \"CUESHEET\",\n        \"PICTURE\",\n        \"RESERVED\"\n    ];\n\n    // dfLa is a FullBox\n    this.parseFullHeader(stream);\n\n    // for (i=0; ; i++) { // to end of box\n    do {\n        var flagAndType = stream.readUint8();\n\n        var type = Math.min(\n            (flagAndType & BLOCKTYPE_MASK),\n            (knownBlockTypes.length - 1)\n        );\n\n        // if this is a STREAMINFO block, read the true samplerate since this\n        // can be different to the AudioSampleEntry samplerate.\n        if (!(type)) {\n            // read past all the other stuff\n            stream.readUint8Array(13);\n\n            // extract samplerate\n            this.samplerate = (stream.readUint32() >> 12);\n\n            // read to end of STREAMINFO\n            stream.readUint8Array(20);\n        } else {\n            // not interested in other block types so just discard length bytes\n            stream.readUint8Array(stream.readUint24());\n        }\n\n        boxesFound.push(knownBlockTypes[type]);\n\n        if (!!(flagAndType & LASTMETADATABLOCKFLAG_MASK)) {\n            break;\n        }\n    } while (true);\n\n    this.numMetadataBlocks =\n        boxesFound.length + \" (\" + boxesFound.join(\", \") + \")\";\n});\n// file:src/parsing/dimm.js\nBoxParser.createBoxCtor(\"dimm\", function(stream) {\n\tthis.bytessent = stream.readUint64();\n});\n\n// file:src/parsing/dmax.js\nBoxParser.createBoxCtor(\"dmax\", function(stream) {\n\tthis.time = stream.readUint32();\n});\n\n// file:src/parsing/dmed.js\nBoxParser.createBoxCtor(\"dmed\", function(stream) {\n\tthis.bytessent = stream.readUint64();\n});\n\n// file:src/parsing/dOps.js\nBoxParser.createBoxCtor(\"dOps\", function(stream) {\n\tthis.Version = stream.readUint8();\n\tthis.OutputChannelCount = stream.readUint8();\n\tthis.PreSkip = stream.readUint16();\n\tthis.InputSampleRate = stream.readUint32();\n\tthis.OutputGain = stream.readInt16();\n\tthis.ChannelMappingFamily = stream.readUint8();\n\tif (this.ChannelMappingFamily !== 0) {\n\t\tthis.StreamCount = stream.readUint8();\n\t\tthis.CoupledCount = stream.readUint8();\n\t\tthis.ChannelMapping = [];\n\t\tfor (var i = 0; i < this.OutputChannelCount; i++) {\n\t\t\tthis.ChannelMapping[i] = stream.readUint8();\n\t\t}\n\t}\n});\n\n// file:src/parsing/dref.js\nBoxParser.createFullBoxCtor(\"dref\", function(stream) {\n\tvar ret;\n\tvar box;\n\tthis.entries = [];\n\tvar entry_count = stream.readUint32();\n\tfor (var i = 0; i < entry_count; i++) {\n\t\tret = BoxParser.parseOneBox(stream, false, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tbox = ret.box;\n\t\t\tthis.entries.push(box);\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n});\n\n// file:src/parsing/drep.js\nBoxParser.createBoxCtor(\"drep\", function(stream) {\n\tthis.bytessent = stream.readUint64();\n});\n\n// file:src/parsing/elng.js\nBoxParser.createFullBoxCtor(\"elng\", function(stream) {\n\tthis.extended_language = stream.readString(this.size-this.hdr_size);\n});\n\n// file:src/parsing/elst.js\nBoxParser.createFullBoxCtor(\"elst\", function(stream) {\n\tthis.entries = [];\n\tvar entry_count = stream.readUint32();\n\tfor (var i = 0; i < entry_count; i++) {\n\t\tvar entry = {};\n\t\tthis.entries.push(entry);\n\t\tif (this.version === 1) {\n\t\t\tentry.segment_duration = stream.readUint64();\n\t\t\tentry.media_time = stream.readInt64();\n\t\t} else {\n\t\t\tentry.segment_duration = stream.readUint32();\n\t\t\tentry.media_time = stream.readInt32();\n\t\t}\n\t\tentry.media_rate_integer = stream.readInt16();\n\t\tentry.media_rate_fraction = stream.readInt16();\n\t}\n});\n\n// file:src/parsing/emsg.js\nBoxParser.createFullBoxCtor(\"emsg\", function(stream) {\n\tif (this.version == 1) {\n\t\tthis.timescale \t\t\t\t\t= stream.readUint32();\n\t\tthis.presentation_time \t\t\t= stream.readUint64();\n\t\tthis.event_duration\t\t\t \t= stream.readUint32();\n\t\tthis.id \t\t\t\t\t\t= stream.readUint32();\n\t\tthis.scheme_id_uri \t\t\t\t= stream.readCString();\n\t\tthis.value \t\t\t\t\t\t= stream.readCString();\n\t} else {\n\t\tthis.scheme_id_uri \t\t\t\t= stream.readCString();\n\t\tthis.value \t\t\t\t\t\t= stream.readCString();\n\t\tthis.timescale \t\t\t\t\t= stream.readUint32();\n\t\tthis.presentation_time_delta \t= stream.readUint32();\n\t\tthis.event_duration\t\t\t \t= stream.readUint32();\n\t\tthis.id \t\t\t\t\t\t= stream.readUint32();\n\t}\n\tvar message_size = this.size - this.hdr_size - (4*4 + (this.scheme_id_uri.length+1) + (this.value.length+1));\n\tif (this.version == 1) {\n\t\tmessage_size -= 4;\n\t}\n\tthis.message_data = stream.readUint8Array(message_size);\n});\n\n// file:src/parsing/esds.js\nBoxParser.createFullBoxCtor(\"esds\", function(stream) {\n\tvar esd_data = stream.readUint8Array(this.size-this.hdr_size);\n\tif (typeof MPEG4DescriptorParser !== \"undefined\") {\n\t\tvar esd_parser = new MPEG4DescriptorParser();\n\t\tthis.esd = esd_parser.parseOneDescriptor(new DataStream(esd_data.buffer, 0, DataStream.BIG_ENDIAN));\n\t}\n});\n\n// file:src/parsing/fiel.js\nBoxParser.createBoxCtor(\"fiel\", function(stream) {\n\tthis.fieldCount = stream.readUint8();\n\tthis.fieldOrdering = stream.readUint8();\n});\n\n// file:src/parsing/frma.js\nBoxParser.createBoxCtor(\"frma\", function(stream) {\n\tthis.data_format = stream.readString(4);\n});\n\n// file:src/parsing/ftyp.js\nBoxParser.createBoxCtor(\"ftyp\", function(stream) {\n\tvar toparse = this.size - this.hdr_size;\n\tthis.major_brand = stream.readString(4);\n\tthis.minor_version = stream.readUint32();\n\ttoparse -= 8;\n\tthis.compatible_brands = [];\n\tvar i = 0;\n\twhile (toparse>=4) {\n\t\tthis.compatible_brands[i] = stream.readString(4);\n\t\ttoparse -= 4;\n\t\ti++;\n\t}\n});\n\n// file:src/parsing/hdlr.js\nBoxParser.createFullBoxCtor(\"hdlr\", function(stream) {\n\tif (this.version === 0) {\n\t\tstream.readUint32();\n\t\tthis.handler = stream.readString(4);\n\t\tstream.readUint32Array(3);\n\t\tthis.name = stream.readString(this.size-this.hdr_size-20);\n\t\tif (this.name[this.name.length-1]==='\\0') {\n\t\t\tthis.name = this.name.slice(0,-1);\n\t\t}\n\t}\n});\n\n// file:src/parsing/hvcC.js\nBoxParser.createBoxCtor(\"hvcC\", function(stream) {\n\tvar i, j;\n\tvar nb_nalus;\n\tvar length;\n\tvar tmp_byte;\n\tthis.configurationVersion = stream.readUint8();\n\ttmp_byte = stream.readUint8();\n\tthis.general_profile_space = tmp_byte >> 6;\n\tthis.general_tier_flag = (tmp_byte & 0x20) >> 5;\n\tthis.general_profile_idc = (tmp_byte & 0x1F);\n\tthis.general_profile_compatibility = stream.readUint32();\n\tthis.general_constraint_indicator = stream.readUint8Array(6);\n\tthis.general_level_idc = stream.readUint8();\n\tthis.min_spatial_segmentation_idc = stream.readUint16() & 0xFFF;\n\tthis.parallelismType = (stream.readUint8() & 0x3);\n\tthis.chroma_format_idc = (stream.readUint8() & 0x3);\n\tthis.bit_depth_luma_minus8 = (stream.readUint8() & 0x7);\n\tthis.bit_depth_chroma_minus8 = (stream.readUint8() & 0x7);\n\tthis.avgFrameRate = stream.readUint16();\n\ttmp_byte = stream.readUint8();\n\tthis.constantFrameRate = (tmp_byte >> 6);\n\tthis.numTemporalLayers = (tmp_byte & 0XD) >> 3;\n\tthis.temporalIdNested = (tmp_byte & 0X4) >> 2;\n\tthis.lengthSizeMinusOne = (tmp_byte & 0X3);\n\n\tthis.nalu_arrays = [];\n\tvar numOfArrays = stream.readUint8();\n\tfor (i = 0; i < numOfArrays; i++) {\n\t\tvar nalu_array = [];\n\t\tthis.nalu_arrays.push(nalu_array);\n\t\ttmp_byte = stream.readUint8()\n\t\tnalu_array.completeness = (tmp_byte & 0x80) >> 7;\n\t\tnalu_array.nalu_type = tmp_byte & 0x3F;\n\t\tvar numNalus = stream.readUint16();\n\t\tfor (j = 0; j < numNalus; j++) {\n\t\t\tvar nalu = {}\n\t\t\tnalu_array.push(nalu);\n\t\t\tlength = stream.readUint16();\n\t\t\tnalu.data   = stream.readUint8Array(length);\n\t\t}\n\t}\n});\n\n// file:src/parsing/iinf.js\nBoxParser.createFullBoxCtor(\"iinf\", function(stream) {\n\tvar ret;\n\tif (this.version === 0) {\n\t\tthis.entry_count = stream.readUint16();\n\t} else {\n\t\tthis.entry_count = stream.readUint32();\n\t}\n\tthis.item_infos = [];\n\tfor (var i = 0; i < this.entry_count; i++) {\n\t\tret = BoxParser.parseOneBox(stream, false, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tif (ret.box.type !== \"infe\") {\n\t\t\t\tLog.error(\"BoxParser\", \"Expected 'infe' box, got \"+ret.box.type);\n\t\t\t}\n\t\t\tthis.item_infos[i] = ret.box;\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n});\n\n// file:src/parsing/iloc.js\nBoxParser.createFullBoxCtor(\"iloc\", function(stream) {\n\tvar byte;\n\tbyte = stream.readUint8();\n\tthis.offset_size = (byte >> 4) & 0xF;\n\tthis.length_size = byte & 0xF;\n\tbyte = stream.readUint8();\n\tthis.base_offset_size = (byte >> 4) & 0xF;\n\tif (this.version === 1 || this.version === 2) {\n\t\tthis.index_size = byte & 0xF;\n\t} else {\n\t\tthis.index_size = 0;\n\t\t// reserved = byte & 0xF;\n\t}\n\tthis.items = [];\n\tvar item_count = 0;\n\tif (this.version < 2) {\n\t\titem_count = stream.readUint16();\n\t} else if (this.version === 2) {\n\t\titem_count = stream.readUint32();\n\t} else {\n\t\tthrow \"version of iloc box not supported\";\n\t}\n\tfor (var i = 0; i < item_count; i++) {\n\t\tvar item = {};\n\t\tthis.items.push(item);\n\t\tif (this.version < 2) {\n\t\t\titem.item_ID = stream.readUint16();\n\t\t} else if (this.version === 2) {\n\t\t\titem.item_ID = stream.readUint16();\n\t\t} else {\n\t\t\tthrow \"version of iloc box not supported\";\n\t\t}\n\t\tif (this.version === 1 || this.version === 2) {\n\t\t\titem.construction_method = (stream.readUint16() & 0xF);\n\t\t} else {\n\t\t\titem.construction_method = 0;\n\t\t}\n\t\titem.data_reference_index = stream.readUint16();\n\t\tswitch(this.base_offset_size) {\n\t\t\tcase 0:\n\t\t\t\titem.base_offset = 0;\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\titem.base_offset = stream.readUint32();\n\t\t\t\tbreak;\n\t\t\tcase 8:\n\t\t\t\titem.base_offset = stream.readUint64();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow \"Error reading base offset size\";\n\t\t}\n\t\tvar extent_count = stream.readUint16();\n\t\titem.extents = [];\n\t\tfor (var j=0; j < extent_count; j++) {\n\t\t\tvar extent = {};\n\t\t\titem.extents.push(extent);\n\t\t\tif (this.version === 1 || this.version === 2) {\n\t\t\t\tswitch(this.index_size) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\textent.extent_index = 0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\textent.extent_index = stream.readUint32();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\textent.extent_index = stream.readUint64();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthrow \"Error reading extent index\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tswitch(this.offset_size) {\n\t\t\t\tcase 0:\n\t\t\t\t\textent.extent_offset = 0;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\textent.extent_offset = stream.readUint32();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 8:\n\t\t\t\t\textent.extent_offset = stream.readUint64();\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow \"Error reading extent index\";\n\t\t\t}\n\t\t\tswitch(this.length_size) {\n\t\t\t\tcase 0:\n\t\t\t\t\textent.extent_length = 0;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\textent.extent_length = stream.readUint32();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 8:\n\t\t\t\t\textent.extent_length = stream.readUint64();\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow \"Error reading extent index\";\n\t\t\t}\n\t\t}\n\t}\n});\n\n// file:src/parsing/imir.js\nBoxParser.createBoxCtor(\"imir\", function(stream) {\n\tvar tmp = stream.readUint8();\n\tthis.reserved = tmp >> 7;\n\tthis.axis = tmp & 1;\n});// file:src/parsing/infe.js\nBoxParser.createFullBoxCtor(\"infe\", function(stream) {\n\tif (this.version === 0 || this.version === 1) {\n\t\tthis.item_ID = stream.readUint16();\n\t\tthis.item_protection_index = stream.readUint16();\n\t\tthis.item_name = stream.readCString();\n\t\tthis.content_type = stream.readCString();\n\t\tthis.content_encoding = stream.readCString();\n\t}\n\tif (this.version === 1) {\n\t\tthis.extension_type = stream.readString(4);\n\t\tLog.warn(\"BoxParser\", \"Cannot parse extension type\");\n\t\tstream.seek(this.start+this.size);\n\t\treturn;\n\t}\n\tif (this.version >= 2) {\n\t\tif (this.version === 2) {\n\t\t\tthis.item_ID = stream.readUint16();\n\t\t} else if (this.version === 3) {\n\t\t\tthis.item_ID = stream.readUint32();\n\t\t}\n\t\tthis.item_protection_index = stream.readUint16();\n\t\tthis.item_type = stream.readString(4);\n\t\tthis.item_name = stream.readCString();\n\t\tif (this.item_type === \"mime\") {\n\t\t\tthis.content_type = stream.readCString();\n\t\t\tthis.content_encoding = stream.readCString();\n\t\t} else if (this.item_type === \"uri \") {\n\t\t\tthis.item_uri_type = stream.readCString();\n\t\t}\n\t}\n});\n// file:src/parsing/ipma.js\nBoxParser.createFullBoxCtor(\"ipma\", function(stream) {\n\tvar i, j;\n\tentry_count = stream.readUint32();\n\tthis.associations = [];\n\tfor(i=0; i<entry_count; i++) {\n\t\tvar item_assoc = {};\n\t\tthis.associations.push(item_assoc);\n\t\tif (this.version < 1) {\n\t\t\titem_assoc.id = stream.readUint16();\n\t\t} else {\n\t\t\titem_assoc.id = stream.readUint32();\n\t\t}\n\t\tvar association_count = stream.readUint8();\n\t\titem_assoc.props = [];\n\t\tfor (j = 0; j < association_count; j++) {\n\t\t\tvar tmp = stream.readUint8();\n\t\t\tvar p = {};\n\t\t\titem_assoc.props.push(p);\n\t\t\tp.essential = ((tmp & 0x80) >> 7) === 1;\n\t\t\tif (this.flags & 0x1) {\n\t\t\t\tp.property_index = (tmp & 0x7F) << 8 | stream.readUint8();\n\t\t\t} else {\n\t\t\t\tp.property_index = (tmp & 0x7F);\n\t\t\t}\n\t\t}\n\t}\n});\n\n// file:src/parsing/iref.js\nBoxParser.createFullBoxCtor(\"iref\", function(stream) {\n\tvar ret;\n\tvar entryCount;\n\tvar box;\n\tthis.references = [];\n\n\twhile (stream.getPosition() < this.start+this.size) {\n\t\tret = BoxParser.parseOneBox(stream, true, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tif (this.version === 0) {\n\t\t\t\tbox = new BoxParser.SingleItemTypeReferenceBox(ret.type, ret.size, ret.hdr_size, ret.start);\n\t\t\t} else {\n\t\t\t\tbox = new BoxParser.SingleItemTypeReferenceBoxLarge(ret.type, ret.size, ret.hdr_size, ret.start);\n\t\t\t}\n\t\t\tif (box.write === BoxParser.Box.prototype.write && box.type !== \"mdat\") {\n\t\t\t\tLog.warn(\"BoxParser\", box.type+\" box writing not yet implemented, keeping unparsed data in memory for later write\");\n\t\t\t\tbox.parseDataAndRewind(stream);\n\t\t\t}\n\t\t\tbox.parse(stream);\n\t\t\tthis.references.push(box);\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n});\n// file:src/parsing/irot.js\nBoxParser.createBoxCtor(\"irot\", function(stream) {\n\tthis.angle = stream.readUint8() & 0x3;\n});\n\n// file:src/parsing/ispe.js\nBoxParser.createFullBoxCtor(\"ispe\", function(stream) {\n\tthis.image_width = stream.readUint32();\n\tthis.image_height = stream.readUint32();\n});// file:src/parsing/kind.js\nBoxParser.createFullBoxCtor(\"kind\", function(stream) {\n\tthis.schemeURI = stream.readCString();\n\tthis.value = stream.readCString();\n});\n// file:src/parsing/leva.js\nBoxParser.createFullBoxCtor(\"leva\", function(stream) {\n\tvar count = stream.readUint8();\n\tthis.levels = [];\n\tfor (var i = 0; i < count; i++) {\n\t\tvar level = {};\n\t\tthis.levels[i] = level;\n\t\tlevel.track_ID = stream.readUint32();\n\t\tvar tmp_byte = stream.readUint8();\n\t\tlevel.padding_flag = tmp_byte >> 7;\n\t\tlevel.assignment_type = tmp_byte & 0x7F;\n\t\tswitch (level.assignment_type) {\n\t\t\tcase 0:\n\t\t\t\tlevel.grouping_type = stream.readString(4);\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tlevel.grouping_type = stream.readString(4);\n\t\t\t\tlevel.grouping_type_parameter = stream.readUint32();\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tlevel.sub_track_id = stream.readUint32();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tLog.warn(\"BoxParser\", \"Unknown leva assignement type\");\n\t\t}\n\t}\n});\n\n// file:src/parsing/lsel.js\nBoxParser.createBoxCtor(\"lsel\", function(stream) {\n\tthis.layer_id = stream.readUint16();\n});// file:src/parsing/maxr.js\nBoxParser.createBoxCtor(\"maxr\", function(stream) {\n\tthis.period = stream.readUint32();\n\tthis.bytes = stream.readUint32();\n});\n\n// file:src/parsing/mdcv.js\nBoxParser.createBoxCtor(\"mdcv\", function(stream) {\n    this.display_primaries = [];\n    this.display_primaries[0] = {};\n    this.display_primaries[0].x = stream.readUint16();\n    this.display_primaries[0].y = stream.readUint16();\n    this.display_primaries[1] = {};\n    this.display_primaries[1].x = stream.readUint16();\n    this.display_primaries[1].y = stream.readUint16();\n    this.display_primaries[2] = {};\n    this.display_primaries[2].x = stream.readUint16();\n    this.display_primaries[2].y = stream.readUint16();\n    this.white_point = {};\n    this.white_point.x = stream.readUint16();\n    this.white_point.y = stream.readUint16();\n    this.max_display_mastering_luminance = stream.readUint32();\n    this.min_display_mastering_luminance = stream.readUint32();\n});\n\n// file:src/parsing/mdhd.js\nBoxParser.createFullBoxCtor(\"mdhd\", function(stream) {\n\tif (this.version == 1) {\n\t\tthis.creation_time = stream.readUint64();\n\t\tthis.modification_time = stream.readUint64();\n\t\tthis.timescale = stream.readUint32();\n\t\tthis.duration = stream.readUint64();\n\t} else {\n\t\tthis.creation_time = stream.readUint32();\n\t\tthis.modification_time = stream.readUint32();\n\t\tthis.timescale = stream.readUint32();\n\t\tthis.duration = stream.readUint32();\n\t}\n\tthis.parseLanguage(stream);\n\tstream.readUint16();\n});\n\n// file:src/parsing/mehd.js\nBoxParser.createFullBoxCtor(\"mehd\", function(stream) {\n\tif (this.flags & 0x1) {\n\t\tLog.warn(\"BoxParser\", \"mehd box incorrectly uses flags set to 1, converting version to 1\");\n\t\tthis.version = 1;\n\t}\n\tif (this.version == 1) {\n\t\tthis.fragment_duration = stream.readUint64();\n\t} else {\n\t\tthis.fragment_duration = stream.readUint32();\n\t}\n});\n\n// file:src/parsing/meta.js\nBoxParser.createFullBoxCtor(\"meta\", function(stream) {\n\tthis.boxes = [];\n\tBoxParser.ContainerBox.prototype.parse.call(this, stream);\n});\n// file:src/parsing/mfhd.js\nBoxParser.createFullBoxCtor(\"mfhd\", function(stream) {\n\tthis.sequence_number = stream.readUint32();\n});\n\n// file:src/parsing/mfro.js\nBoxParser.createFullBoxCtor(\"mfro\", function(stream) {\n\tthis._size = stream.readUint32();\n});\n\n// file:src/parsing/mvhd.js\nBoxParser.createFullBoxCtor(\"mvhd\", function(stream) {\n\tif (this.version == 1) {\n\t\tthis.creation_time = stream.readUint64();\n\t\tthis.modification_time = stream.readUint64();\n\t\tthis.timescale = stream.readUint32();\n\t\tthis.duration = stream.readUint64();\n\t} else {\n\t\tthis.creation_time = stream.readUint32();\n\t\tthis.modification_time = stream.readUint32();\n\t\tthis.timescale = stream.readUint32();\n\t\tthis.duration = stream.readUint32();\n\t}\n\tthis.rate = stream.readUint32();\n\tthis.volume = stream.readUint16()>>8;\n\tstream.readUint16();\n\tstream.readUint32Array(2);\n\tthis.matrix = stream.readUint32Array(9);\n\tstream.readUint32Array(6);\n\tthis.next_track_id = stream.readUint32();\n});\n// file:src/parsing/npck.js\nBoxParser.createBoxCtor(\"npck\", function(stream) {\n\tthis.packetssent = stream.readUint32();\n});\n\n// file:src/parsing/nump.js\nBoxParser.createBoxCtor(\"nump\", function(stream) {\n\tthis.packetssent = stream.readUint64();\n});\n\n// file:src/parsing/padb.js\nBoxParser.createFullBoxCtor(\"padb\", function(stream) {\n\tvar sample_count = stream.readUint32();\n\tthis.padbits = [];\n\tfor (var i = 0; i < Math.floor((sample_count+1)/2); i++) {\n\t\tthis.padbits = stream.readUint8();\n\t}\n});\n\n// file:src/parsing/pasp.js\nBoxParser.createBoxCtor(\"pasp\", function(stream) {\n\tthis.hSpacing = stream.readUint32();\n\tthis.vSpacing = stream.readUint32();\n});// file:src/parsing/payl.js\nBoxParser.createBoxCtor(\"payl\", function(stream) {\n\tthis.text = stream.readString(this.size - this.hdr_size);\n});\n\n// file:src/parsing/payt.js\nBoxParser.createBoxCtor(\"payt\", function(stream) {\n\tthis.payloadID = stream.readUint32();\n\tvar count = stream.readUint8();\n\tthis.rtpmap_string = stream.readString(count);\n});\n\n// file:src/parsing/pdin.js\nBoxParser.createFullBoxCtor(\"pdin\", function(stream) {\n\tvar count = (this.size - this.hdr_size)/8;\n\tthis.rate = [];\n\tthis.initial_delay = [];\n\tfor (var i = 0; i < count; i++) {\n\t\tthis.rate[i] = stream.readUint32();\n\t\tthis.initial_delay[i] = stream.readUint32();\n\t}\n});\n\n// file:src/parsing/pitm.js\nBoxParser.createFullBoxCtor(\"pitm\", function(stream) {\n\tif (this.version === 0) {\n\t\tthis.item_id = stream.readUint16();\n\t} else {\n\t\tthis.item_id = stream.readUint32();\n\t}\n});\n\n// file:src/parsing/pixi.js\nBoxParser.createFullBoxCtor(\"pixi\", function(stream) {\n\tvar i;\n\tthis.num_channels = stream.readUint8();\n\tthis.bits_per_channels = [];\n\tfor (i = 0; i < this.num_channels; i++) {\n\t\tthis.bits_per_channels[i] = stream.readUint8();\n\t}\n});\n\n// file:src/parsing/pmax.js\nBoxParser.createBoxCtor(\"pmax\", function(stream) {\n\tthis.bytes = stream.readUint32();\n});\n\n// file:src/parsing/prft.js\nBoxParser.createFullBoxCtor(\"prft\", function(stream) {\n\tthis.ref_track_id = stream.readUint32();\n\tthis.ntp_timestamp = stream.readUint64();\n\tif (this.version === 0) {\n\t\tthis.media_time = stream.readUint32();\n\t} else {\n\t\tthis.media_time = stream.readUint64();\n\t}\n});\n\n// file:src/parsing/pssh.js\nBoxParser.createFullBoxCtor(\"pssh\", function(stream) {\n\tthis.system_id = BoxParser.parseHex16(stream);\n\tif (this.version > 0) {\n\t\tvar count = stream.readUint32();\n\t\tthis.kid = [];\n\t\tfor (var i = 0; i < count; i++) {\n\t\t\tthis.kid[i] = BoxParser.parseHex16(stream);\n\t\t}\n\t}\n\tvar datasize = stream.readUint32();\n\tif (datasize > 0) {\n\t\tthis.data = stream.readUint8Array(datasize);\n\t}\n});\n\n// file:src/parsing/qt/clef.js\nBoxParser.createFullBoxCtor(\"clef\", function(stream) {\n\tthis.width = stream.readUint32();\n\tthis.height = stream.readUint32();\n});// file:src/parsing/qt/enof.js\nBoxParser.createFullBoxCtor(\"enof\", function(stream) {\n\tthis.width = stream.readUint32();\n\tthis.height = stream.readUint32();\n});// file:src/parsing/qt/prof.js\nBoxParser.createFullBoxCtor(\"prof\", function(stream) {\n\tthis.width = stream.readUint32();\n\tthis.height = stream.readUint32();\n});// file:src/parsing/qt/tapt.js\nBoxParser.createContainerBoxCtor(\"tapt\", null, [ \"clef\", \"prof\", \"enof\"]);// file:src/parsing/rtp.js\nBoxParser.createBoxCtor(\"rtp \", function(stream) {\n\tthis.descriptionformat = stream.readString(4);\n\tthis.sdptext = stream.readString(this.size - this.hdr_size - 4);\n});\n\n// file:src/parsing/saio.js\nBoxParser.createFullBoxCtor(\"saio\", function(stream) {\n\tif (this.flags & 0x1) {\n\t\tthis.aux_info_type = stream.readUint32();\n\t\tthis.aux_info_type_parameter = stream.readUint32();\n\t}\n\tvar count = stream.readUint32();\n\tthis.offset = [];\n\tfor (var i = 0; i < count; i++) {\n\t\tif (this.version === 0) {\n\t\t\tthis.offset[i] = stream.readUint32();\n\t\t} else {\n\t\t\tthis.offset[i] = stream.readUint64();\n\t\t}\n\t}\n});\n// file:src/parsing/saiz.js\nBoxParser.createFullBoxCtor(\"saiz\", function(stream) {\n\tif (this.flags & 0x1) {\n\t\tthis.aux_info_type = stream.readUint32();\n\t\tthis.aux_info_type_parameter = stream.readUint32();\n\t}\n\tthis.default_sample_info_size = stream.readUint8();\n\tvar count = stream.readUint32();\n\tthis.sample_info_size = [];\n\tif (this.default_sample_info_size === 0) {\n\t\tfor (var i = 0; i < count; i++) {\n\t\t\tthis.sample_info_size[i] = stream.readUint8();\n\t\t}\n\t}\n});\n\n// file:src/parsing/sampleentries/mett.js\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_METADATA, \"mett\", function(stream) {\n\tthis.parseHeader(stream);\n\tthis.content_encoding = stream.readCString();\n\tthis.mime_format = stream.readCString();\n\tthis.parseFooter(stream);\n});\n\n// file:src/parsing/sampleentries/metx.js\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_METADATA, \"metx\", function(stream) {\n\tthis.parseHeader(stream);\n\tthis.content_encoding = stream.readCString();\n\tthis.namespace = stream.readCString();\n\tthis.schema_location = stream.readCString();\n\tthis.parseFooter(stream);\n});\n\n// file:src/parsing/sampleentries/sbtt.js\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_SUBTITLE, \"sbtt\", function(stream) {\n\tthis.parseHeader(stream);\n\tthis.content_encoding = stream.readCString();\n\tthis.mime_format = stream.readCString();\n\tthis.parseFooter(stream);\n});\n\n// file:src/parsing/sampleentries/stpp.js\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_SUBTITLE, \"stpp\", function(stream) {\n\tthis.parseHeader(stream);\n\tthis.namespace = stream.readCString();\n\tthis.schema_location = stream.readCString();\n\tthis.auxiliary_mime_types = stream.readCString();\n\tthis.parseFooter(stream);\n});\n\n// file:src/parsing/sampleentries/stxt.js\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_SUBTITLE, \"stxt\", function(stream) {\n\tthis.parseHeader(stream);\n\tthis.content_encoding = stream.readCString();\n\tthis.mime_format = stream.readCString();\n\tthis.parseFooter(stream);\n});\n\n// file:src/parsing/sampleentries/tx3g.js\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_SUBTITLE, \"tx3g\", function(stream) {\n\tthis.parseHeader(stream);\n\tthis.displayFlags = stream.readUint32();\n\tthis.horizontal_justification = stream.readInt8();\n\tthis.vertical_justification = stream.readInt8();\n\tthis.bg_color_rgba = stream.readUint8Array(4);\n\tthis.box_record = stream.readInt16Array(4);\n\tthis.style_record = stream.readUint8Array(12);\n\tthis.parseFooter(stream);\n});\n// file:src/parsing/sampleentries/wvtt.js\nBoxParser.createSampleEntryCtor(BoxParser.SAMPLE_ENTRY_TYPE_METADATA, \"wvtt\", function(stream) {\n\tthis.parseHeader(stream);\n\tthis.parseFooter(stream);\n});\n\n// file:src/parsing/samplegroups/alst.js\nBoxParser.createSampleGroupCtor(\"alst\", function(stream) {\n\tvar i;\n\tvar roll_count = stream.readUint16();\n\tthis.first_output_sample = stream.readUint16();\n\tthis.sample_offset = [];\n\tfor (i = 0; i < roll_count; i++) {\n\t\tthis.sample_offset[i] = stream.readUint32();\n\t}\n\tvar remaining = this.description_length - 4 - 4*roll_count;\n\tthis.num_output_samples = [];\n\tthis.num_total_samples = [];\n\tfor (i = 0; i < remaining/4; i++) {\n\t\tthis.num_output_samples[i] = stream.readUint16();\n\t\tthis.num_total_samples[i] = stream.readUint16();\n\t}\n});\n\n// file:src/parsing/samplegroups/avll.js\nBoxParser.createSampleGroupCtor(\"avll\", function(stream) {\n\tthis.layerNumber = stream.readUint8();\n\tthis.accurateStatisticsFlag = stream.readUint8();\n\tthis.avgBitRate = stream.readUint16();\n\tthis.avgFrameRate = stream.readUint16();\n});\n\n// file:src/parsing/samplegroups/avss.js\nBoxParser.createSampleGroupCtor(\"avss\", function(stream) {\n\tthis.subSequenceIdentifier = stream.readUint16();\n\tthis.layerNumber = stream.readUint8();\n\tvar tmp_byte = stream.readUint8();\n\tthis.durationFlag = tmp_byte >> 7;\n\tthis.avgRateFlag = (tmp_byte >> 6) & 0x1;\n\tif (this.durationFlag) {\n\t\tthis.duration = stream.readUint32();\n\t}\n\tif (this.avgRateFlag) {\n\t\tthis.accurateStatisticsFlag = stream.readUint8();\n\t\tthis.avgBitRate = stream.readUint16();\n\t\tthis.avgFrameRate = stream.readUint16();\n\t}\n\tthis.dependency = [];\n\tvar numReferences = stream.readUint8();\n\tfor (var i = 0; i < numReferences; i++) {\n\t\tvar dependencyInfo = {};\n\t\tthis.dependency.push(dependencyInfo);\n\t\tdependencyInfo.subSeqDirectionFlag = stream.readUint8();\n\t\tdependencyInfo.layerNumber = stream.readUint8();\n\t\tdependencyInfo.subSequenceIdentifier = stream.readUint16();\n\t}\n});\n\n// file:src/parsing/samplegroups/dtrt.js\nBoxParser.createSampleGroupCtor(\"dtrt\", function(stream) {\n\tLog.warn(\"BoxParser\", \"Sample Group type: \"+this.grouping_type+\" not fully parsed\");\n});\n\n// file:src/parsing/samplegroups/mvif.js\nBoxParser.createSampleGroupCtor(\"mvif\", function(stream) {\n\tLog.warn(\"BoxParser\", \"Sample Group type: \"+this.grouping_type+\" not fully parsed\");\n});\n\n// file:src/parsing/samplegroups/prol.js\nBoxParser.createSampleGroupCtor(\"prol\", function(stream) {\n\tthis.roll_distance = stream.readInt16();\n});\n\n// file:src/parsing/samplegroups/rap.js\nBoxParser.createSampleGroupCtor(\"rap \", function(stream) {\n\tvar tmp_byte = stream.readUint8();\n\tthis.num_leading_samples_known = tmp_byte >> 7;\n\tthis.num_leading_samples = tmp_byte & 0x7F;\n});\n\n// file:src/parsing/samplegroups/rash.js\nBoxParser.createSampleGroupCtor(\"rash\", function(stream) {\n\tthis.operation_point_count = stream.readUint16();\n\tif (this.description_length !== 2+(this.operation_point_count === 1?2:this.operation_point_count*6)+9) {\n\t\tLog.warn(\"BoxParser\", \"Mismatch in \"+this.grouping_type+\" sample group length\");\n\t\tthis.data =  stream.readUint8Array(this.description_length-2);\n\t} else {\n\t\tif (this.operation_point_count === 1) {\n\t\t\tthis.target_rate_share = stream.readUint16();\n\t\t} else {\n\t\t\tthis.target_rate_share = [];\n\t\t\tthis.available_bitrate = [];\n\t\t\tfor (var i = 0; i < this.operation_point_count; i++) {\n\t\t\t\tthis.available_bitrate[i] = stream.readUint32();\n\t\t\t\tthis.target_rate_share[i] = stream.readUint16();\n\t\t\t}\n\t\t}\n\t\tthis.maximum_bitrate = stream.readUint32();\n\t\tthis.minimum_bitrate = stream.readUint32();\n\t\tthis.discard_priority = stream.readUint8();\n\t}\n});\n\n// file:src/parsing/samplegroups/roll.js\nBoxParser.createSampleGroupCtor(\"roll\", function(stream) {\n\tthis.roll_distance = stream.readInt16();\n});\n\n// file:src/parsing/samplegroups/samplegroup.js\nBoxParser.SampleGroupEntry.prototype.parse = function(stream) {\n\tLog.warn(\"BoxParser\", \"Unknown Sample Group type: \"+this.grouping_type);\n\tthis.data =  stream.readUint8Array(this.description_length);\n}\n\n// file:src/parsing/samplegroups/scif.js\nBoxParser.createSampleGroupCtor(\"scif\", function(stream) {\n\tLog.warn(\"BoxParser\", \"Sample Group type: \"+this.grouping_type+\" not fully parsed\");\n});\n\n// file:src/parsing/samplegroups/scnm.js\nBoxParser.createSampleGroupCtor(\"scnm\", function(stream) {\n\tLog.warn(\"BoxParser\", \"Sample Group type: \"+this.grouping_type+\" not fully parsed\");\n});\n\n// file:src/parsing/samplegroups/seig.js\nBoxParser.createSampleGroupCtor(\"seig\", function(stream) {\n\tthis.reserved = stream.readUint8();\n\tvar tmp = stream.readUint8();\n\tthis.crypt_byte_block = tmp >> 4;\n\tthis.skip_byte_block = tmp & 0xF;\n\tthis.isProtected = stream.readUint8();\n\tthis.Per_Sample_IV_Size = stream.readUint8();\n\tthis.KID = BoxParser.parseHex16(stream);\n\tthis.constant_IV_size = 0;\n\tthis.constant_IV = 0;\n\tif (this.isProtected === 1 && this.Per_Sample_IV_Size === 0) {\n\t\tthis.constant_IV_size = stream.readUint8();\n\t\tthis.constant_IV = stream.readUint8Array(this.constant_IV_size);\n\t}\n});\n\n// file:src/parsing/samplegroups/stsa.js\nBoxParser.createSampleGroupCtor(\"stsa\", function(stream) {\n\tLog.warn(\"BoxParser\", \"Sample Group type: \"+this.grouping_type+\" not fully parsed\");\n});\n\n// file:src/parsing/samplegroups/sync.js\nBoxParser.createSampleGroupCtor(\"sync\", function(stream) {\n\tvar tmp_byte = stream.readUint8();\n\tthis.NAL_unit_type = tmp_byte & 0x3F;\n});\n\n// file:src/parsing/samplegroups/tele.js\nBoxParser.createSampleGroupCtor(\"tele\", function(stream) {\n\tvar tmp_byte = stream.readUint8();\n\tthis.level_independently_decodable = tmp_byte >> 7;\n});\n\n// file:src/parsing/samplegroups/tsas.js\nBoxParser.createSampleGroupCtor(\"tsas\", function(stream) {\n\tLog.warn(\"BoxParser\", \"Sample Group type: \"+this.grouping_type+\" not fully parsed\");\n});\n\n// file:src/parsing/samplegroups/tscl.js\nBoxParser.createSampleGroupCtor(\"tscl\", function(stream) {\n\tLog.warn(\"BoxParser\", \"Sample Group type: \"+this.grouping_type+\" not fully parsed\");\n});\n\n// file:src/parsing/samplegroups/vipr.js\nBoxParser.createSampleGroupCtor(\"vipr\", function(stream) {\n\tLog.warn(\"BoxParser\", \"Sample Group type: \"+this.grouping_type+\" not fully parsed\");\n});\n\n// file:src/parsing/sbgp.js\nBoxParser.createFullBoxCtor(\"sbgp\", function(stream) {\n\tthis.grouping_type = stream.readString(4);\n\tif (this.version === 1) {\n\t\tthis.grouping_type_parameter = stream.readUint32();\n\t} else {\n\t\tthis.grouping_type_parameter = 0;\n\t}\n\tthis.entries = [];\n\tvar entry_count = stream.readUint32();\n\tfor (var i = 0; i < entry_count; i++) {\n\t\tvar entry = {};\n\t\tthis.entries.push(entry);\n\t\tentry.sample_count = stream.readInt32();\n\t\tentry.group_description_index = stream.readInt32();\n\t}\n});\n\n// file:src/parsing/schm.js\nBoxParser.createFullBoxCtor(\"schm\", function(stream) {\n\tthis.scheme_type = stream.readString(4);\n\tthis.scheme_version = stream.readUint32();\n\tif (this.flags & 0x000001) {\n\t\tthis.scheme_uri = stream.readString(this.size - this.hdr_size - 8);\n\t}\n});\n\n// file:src/parsing/sdp.js\nBoxParser.createBoxCtor(\"sdp \", function(stream) {\n\tthis.sdptext = stream.readString(this.size - this.hdr_size);\n});\n\n// file:src/parsing/sdtp.js\nBoxParser.createFullBoxCtor(\"sdtp\", function(stream) {\n\tvar tmp_byte;\n\tvar count = (this.size - this.hdr_size);\n\tthis.is_leading = [];\n\tthis.sample_depends_on = [];\n\tthis.sample_is_depended_on = [];\n\tthis.sample_has_redundancy = [];\n\tfor (var i = 0; i < count; i++) {\n\t\ttmp_byte = stream.readUint8();\n\t\tthis.is_leading[i] = tmp_byte >> 6;\n\t\tthis.sample_depends_on[i] = (tmp_byte >> 4) & 0x3;\n\t\tthis.sample_is_depended_on[i] = (tmp_byte >> 2) & 0x3;\n\t\tthis.sample_has_redundancy[i] = tmp_byte & 0x3;\n\t}\n});\n\n// file:src/parsing/senc.js\n// Cannot be fully parsed because Per_Sample_IV_Size needs to be known\r\nBoxParser.createFullBoxCtor(\"senc\" /*, function(stream) {\r\n\tthis.parseFullHeader(stream);\r\n\tvar sample_count = stream.readUint32();\r\n\tthis.samples = [];\r\n\tfor (var i = 0; i < sample_count; i++) {\r\n\t\tvar sample = {};\r\n\t\t// tenc.default_Per_Sample_IV_Size or seig.Per_Sample_IV_Size\r\n\t\tsample.InitializationVector = this.readUint8Array(Per_Sample_IV_Size*8);\r\n\t\tif (this.flags & 0x2) {\r\n\t\t\tsample.subsamples = [];\r\n\t\t\tsubsample_count = stream.readUint16();\r\n\t\t\tfor (var j = 0; j < subsample_count; j++) {\r\n\t\t\t\tvar subsample = {};\r\n\t\t\t\tsubsample.BytesOfClearData = stream.readUint16();\r\n\t\t\t\tsubsample.BytesOfProtectedData = stream.readUint32();\r\n\t\t\t\tsample.subsamples.push(subsample);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// TODO\r\n\t\tthis.samples.push(sample);\r\n\t}\r\n}*/);\r\n// file:src/parsing/sgpd.js\nBoxParser.createFullBoxCtor(\"sgpd\", function(stream) {\n\tthis.grouping_type = stream.readString(4);\n\tLog.debug(\"BoxParser\", \"Found Sample Groups of type \"+this.grouping_type);\n\tif (this.version === 1) {\n\t\tthis.default_length = stream.readUint32();\n\t} else {\n\t\tthis.default_length = 0;\n\t}\n\tif (this.version >= 2) {\n\t\tthis.default_group_description_index = stream.readUint32();\n\t}\n\tthis.entries = [];\n\tvar entry_count = stream.readUint32();\n\tfor (var i = 0; i < entry_count; i++) {\n\t\tvar entry;\n\t\tif (BoxParser[this.grouping_type+\"SampleGroupEntry\"]) {\n\t\t\tentry = new BoxParser[this.grouping_type+\"SampleGroupEntry\"](this.grouping_type);\n\t\t}  else {\n\t\t\tentry = new BoxParser.SampleGroupEntry(this.grouping_type);\n\t\t}\n\t\tthis.entries.push(entry);\n\t\tif (this.version === 1) {\n\t\t\tif (this.default_length === 0) {\n\t\t\t\tentry.description_length = stream.readUint32();\n\t\t\t} else {\n\t\t\t\tentry.description_length = this.default_length;\n\t\t\t}\n\t\t} else {\n\t\t\tentry.description_length = this.default_length;\n\t\t}\n\t\tif (entry.write === BoxParser.SampleGroupEntry.prototype.write) {\n\t\t\tLog.info(\"BoxParser\", \"SampleGroup for type \"+this.grouping_type+\" writing not yet implemented, keeping unparsed data in memory for later write\");\n\t\t\t// storing data\n\t\t\tentry.data = stream.readUint8Array(entry.description_length);\n\t\t\t// rewinding\n\t\t\tstream.position -= entry.description_length;\n\t\t}\n\t\tentry.parse(stream);\n\t}\n});\n\n// file:src/parsing/sidx.js\nBoxParser.createFullBoxCtor(\"sidx\", function(stream) {\n\tthis.reference_ID = stream.readUint32();\n\tthis.timescale = stream.readUint32();\n\tif (this.version === 0) {\n\t\tthis.earliest_presentation_time = stream.readUint32();\n\t\tthis.first_offset = stream.readUint32();\n\t} else {\n\t\tthis.earliest_presentation_time = stream.readUint64();\n\t\tthis.first_offset = stream.readUint64();\n\t}\n\tstream.readUint16();\n\tthis.references = [];\n\tvar count = stream.readUint16();\n\tfor (var i = 0; i < count; i++) {\n\t\tvar ref = {};\n\t\tthis.references.push(ref);\n\t\tvar tmp_32 = stream.readUint32();\n\t\tref.reference_type = (tmp_32 >> 31) & 0x1;\n\t\tref.referenced_size = tmp_32 & 0x7FFFFFFF;\n\t\tref.subsegment_duration = stream.readUint32();\n\t\ttmp_32 = stream.readUint32();\n\t\tref.starts_with_SAP = (tmp_32 >> 31) & 0x1;\n\t\tref.SAP_type = (tmp_32 >> 28) & 0x7;\n\t\tref.SAP_delta_time = tmp_32 & 0xFFFFFFF;\n\t}\n});\n\n// file:src/parsing/singleitemtypereference.js\nBoxParser.SingleItemTypeReferenceBox = function(type, size, hdr_size, start) {\n\tBoxParser.Box.call(this, type, size);\n\tthis.hdr_size = hdr_size;\n\tthis.start = start;\n}\nBoxParser.SingleItemTypeReferenceBox.prototype = new BoxParser.Box();\nBoxParser.SingleItemTypeReferenceBox.prototype.parse = function(stream) {\n\tthis.from_item_ID = stream.readUint16();\n\tvar count =  stream.readUint16();\n\tthis.references = [];\n\tfor(var i = 0; i < count; i++) {\n\t\tthis.references[i] = stream.readUint16();\n\t}\n}\n\n// file:src/parsing/singleitemtypereferencelarge.js\nBoxParser.SingleItemTypeReferenceBoxLarge = function(type, size, hdr_size, start) {\n\tBoxParser.Box.call(this, type, size);\n\tthis.hdr_size = hdr_size;\n\tthis.start = start;\n}\nBoxParser.SingleItemTypeReferenceBoxLarge.prototype = new BoxParser.Box();\nBoxParser.SingleItemTypeReferenceBoxLarge.prototype.parse = function(stream) {\n\tthis.from_item_ID = stream.readUint32();\n\tvar count =  stream.readUint16();\n\tthis.references = [];\n\tfor(var i = 0; i < count; i++) {\n\t\tthis.references[i] = stream.readUint32();\n\t}\n}\n\n// file:src/parsing/SmDm.js\nBoxParser.createFullBoxCtor(\"SmDm\", function(stream) {\n\tthis.primaryRChromaticity_x = stream.readUint16();\n    this.primaryRChromaticity_y = stream.readUint16();\n    this.primaryGChromaticity_x = stream.readUint16();\n    this.primaryGChromaticity_y = stream.readUint16();\n    this.primaryBChromaticity_x = stream.readUint16();\n    this.primaryBChromaticity_y = stream.readUint16();\n    this.whitePointChromaticity_x = stream.readUint16();\n    this.whitePointChromaticity_y = stream.readUint16();\n    this.luminanceMax = stream.readUint32();\n    this.luminanceMin = stream.readUint32();\n});\n\n// file:src/parsing/smhd.js\nBoxParser.createFullBoxCtor(\"smhd\", function(stream) {\n\tthis.balance = stream.readUint16();\n\tstream.readUint16();\n});\n\n// file:src/parsing/ssix.js\nBoxParser.createFullBoxCtor(\"ssix\", function(stream) {\n\tthis.subsegments = [];\n\tvar subsegment_count = stream.readUint32();\n\tfor (var i = 0; i < subsegment_count; i++) {\n\t\tvar subsegment = {};\n\t\tthis.subsegments.push(subsegment);\n\t\tsubsegment.ranges = [];\n\t\tvar range_count = stream.readUint32();\n\t\tfor (var j = 0; j < range_count; j++) {\n\t\t\tvar range = {};\n\t\t\tsubsegment.ranges.push(range);\n\t\t\trange.level = stream.readUint8();\n\t\t\trange.range_size = stream.readUint24();\n\t\t}\n\t}\n});\n\n// file:src/parsing/stco.js\nBoxParser.createFullBoxCtor(\"stco\", function(stream) {\n\tvar entry_count;\n\tentry_count = stream.readUint32();\n\tthis.chunk_offsets = [];\n\tif (this.version === 0) {\n\t\tfor (var i = 0; i < entry_count; i++) {\n\t\t\tthis.chunk_offsets.push(stream.readUint32());\n\t\t}\n\t}\n});\n\n// file:src/parsing/stdp.js\nBoxParser.createFullBoxCtor(\"stdp\", function(stream) {\n\tvar count = (this.size - this.hdr_size)/2;\n\tthis.priority = [];\n\tfor (var i = 0; i < count; i++) {\n\t\tthis.priority[i] = stream.readUint16();\n\t}\n});\n\n// file:src/parsing/sthd.js\nBoxParser.createFullBoxCtor(\"sthd\");\n\n// file:src/parsing/stri.js\nBoxParser.createFullBoxCtor(\"stri\", function(stream) {\n\tthis.switch_group = stream.readUint16();\n\tthis.alternate_group = stream.readUint16();\n\tthis.sub_track_id = stream.readUint32();\n\tvar count = (this.size - this.hdr_size - 8)/4;\n\tthis.attribute_list = [];\n\tfor (var i = 0; i < count; i++) {\n\t\tthis.attribute_list[i] = stream.readUint32();\n\t}\n});\n\n// file:src/parsing/stsc.js\nBoxParser.createFullBoxCtor(\"stsc\", function(stream) {\n\tvar entry_count;\n\tvar i;\n\tentry_count = stream.readUint32();\n\tthis.first_chunk = [];\n\tthis.samples_per_chunk = [];\n\tthis.sample_description_index = [];\n\tif (this.version === 0) {\n\t\tfor(i=0; i<entry_count; i++) {\n\t\t\tthis.first_chunk.push(stream.readUint32());\n\t\t\tthis.samples_per_chunk.push(stream.readUint32());\n\t\t\tthis.sample_description_index.push(stream.readUint32());\n\t\t}\n\t}\n});\n\n// file:src/parsing/stsd.js\nBoxParser.createFullBoxCtor(\"stsd\", function(stream) {\n\tvar i;\n\tvar ret;\n\tvar entryCount;\n\tvar box;\n\tthis.entries = [];\n\tentryCount = stream.readUint32();\n\tfor (i = 1; i <= entryCount; i++) {\n\t\tret = BoxParser.parseOneBox(stream, true, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tif (BoxParser[ret.type+\"SampleEntry\"]) {\n\t\t\t\tbox = new BoxParser[ret.type+\"SampleEntry\"](ret.size);\n\t\t\t\tbox.hdr_size = ret.hdr_size;\n\t\t\t\tbox.start = ret.start;\n\t\t\t} else {\n\t\t\t\tLog.warn(\"BoxParser\", \"Unknown sample entry type: \"+ret.type);\n\t\t\t\tbox = new BoxParser.SampleEntry(ret.type, ret.size, ret.hdr_size, ret.start);\n\t\t\t}\n\t\t\tif (box.write === BoxParser.SampleEntry.prototype.write) {\n\t\t\t\tLog.info(\"BoxParser\", \"SampleEntry \"+box.type+\" box writing not yet implemented, keeping unparsed data in memory for later write\");\n\t\t\t\tbox.parseDataAndRewind(stream);\n\t\t\t}\n\t\t\tbox.parse(stream);\n\t\t\tthis.entries.push(box);\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n});\n\n// file:src/parsing/stsg.js\nBoxParser.createFullBoxCtor(\"stsg\", function(stream) {\n\tthis.grouping_type = stream.readUint32();\n\tvar count = stream.readUint16();\n\tthis.group_description_index = [];\n\tfor (var i = 0; i < count; i++) {\n\t\tthis.group_description_index[i] = stream.readUint32();\n\t}\n});\n\n// file:src/parsing/stsh.js\nBoxParser.createFullBoxCtor(\"stsh\", function(stream) {\n\tvar entry_count;\n\tvar i;\n\tentry_count = stream.readUint32();\n\tthis.shadowed_sample_numbers = [];\n\tthis.sync_sample_numbers = [];\n\tif (this.version === 0) {\n\t\tfor(i=0; i<entry_count; i++) {\n\t\t\tthis.shadowed_sample_numbers.push(stream.readUint32());\n\t\t\tthis.sync_sample_numbers.push(stream.readUint32());\n\t\t}\n\t}\n});\n\n// file:src/parsing/stss.js\nBoxParser.createFullBoxCtor(\"stss\", function(stream) {\n\tvar i;\n\tvar entry_count;\n\tentry_count = stream.readUint32();\n\tif (this.version === 0) {\n\t\tthis.sample_numbers = [];\n\t\tfor(i=0; i<entry_count; i++) {\n\t\t\tthis.sample_numbers.push(stream.readUint32());\n\t\t}\n\t}\n});\n\n// file:src/parsing/stsz.js\nBoxParser.createFullBoxCtor(\"stsz\", function(stream) {\n\tvar i;\n\tthis.sample_sizes = [];\n\tif (this.version === 0) {\n\t\tthis.sample_size = stream.readUint32();\n\t\tthis.sample_count = stream.readUint32();\n\t\tfor (i = 0; i < this.sample_count; i++) {\n\t\t\tif (this.sample_size === 0) {\n\t\t\t\tthis.sample_sizes.push(stream.readUint32());\n\t\t\t} else {\n\t\t\t\tthis.sample_sizes[i] = this.sample_size;\n\t\t\t}\n\t\t}\n\t}\n});\n\n// file:src/parsing/stts.js\nBoxParser.createFullBoxCtor(\"stts\", function(stream) {\n\tvar entry_count;\n\tvar i;\n\tvar delta;\n\tentry_count = stream.readUint32();\n\tthis.sample_counts = [];\n\tthis.sample_deltas = [];\n\tif (this.version === 0) {\n\t\tfor(i=0; i<entry_count; i++) {\n\t\t\tthis.sample_counts.push(stream.readUint32());\n\t\t\tdelta = stream.readInt32();\n\t\t\tif (delta < 0) {\n\t\t\t\tLog.warn(\"BoxParser\", \"File uses negative stts sample delta, using value 1 instead, sync may be lost!\");\n\t\t\t\tdelta = 1;\n\t\t\t}\n\t\t\tthis.sample_deltas.push(delta);\n\t\t}\n\t}\n});\n\n// file:src/parsing/stvi.js\nBoxParser.createFullBoxCtor(\"stvi\", function(stream) {\n\tvar tmp32 = stream.readUint32();\n\tthis.single_view_allowed = tmp32 & 0x3;\n\tthis.stereo_scheme = stream.readUint32();\n\tvar length = stream.readUint32();\n\tthis.stereo_indication_type = stream.readString(length);\n\tvar ret;\n\tvar box;\n\tthis.boxes = [];\n\twhile (stream.getPosition() < this.start+this.size) {\n\t\tret = BoxParser.parseOneBox(stream, false, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tbox = ret.box;\n\t\t\tthis.boxes.push(box);\n\t\t\tthis[box.type] = box;\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n});\n\n// file:src/parsing/styp.js\nBoxParser.createBoxCtor(\"styp\", function(stream) {\n\tBoxParser.ftypBox.prototype.parse.call(this, stream);\n});\n\n// file:src/parsing/stz2.js\nBoxParser.createFullBoxCtor(\"stz2\", function(stream) {\n\tvar i;\n\tvar sample_size;\n\tvar sample_count;\n\tthis.sample_sizes = [];\n\tif (this.version === 0) {\n\t\tthis.reserved = stream.readUint24();\n\t\tthis.field_size = stream.readUint8();\n\t\tsample_count = stream.readUint32();\n\t\tif (this.field_size === 4) {\n\t\t\tfor (i = 0; i < sample_count; i+=2) {\n\t\t\t\tvar tmp = stream.readUint8();\n\t\t\t\tthis.sample_sizes[i] = (tmp >> 4) & 0xF;\n\t\t\t\tthis.sample_sizes[i+1] = tmp & 0xF;\n\t\t\t}\n\t\t} else if (this.field_size === 8) {\n\t\t\tfor (i = 0; i < sample_count; i++) {\n\t\t\t\tthis.sample_sizes[i] = stream.readUint8();\n\t\t\t}\n\t\t} else if (this.field_size === 16) {\n\t\t\tfor (i = 0; i < sample_count; i++) {\n\t\t\t\tthis.sample_sizes[i] = stream.readUint16();\n\t\t\t}\n\t\t} else {\n\t\t\tLog.error(\"BoxParser\", \"Error in length field in stz2 box\");\n\t\t}\n\t}\n});\n\n// file:src/parsing/subs.js\nBoxParser.createFullBoxCtor(\"subs\", function(stream) {\n\tvar i,j;\n\tvar entry_count;\n\tvar subsample_count;\n\tentry_count = stream.readUint32();\n\tthis.entries = [];\n\tfor (i = 0; i < entry_count; i++) {\n\t\tvar sampleInfo = {};\n\t\tthis.entries[i] = sampleInfo;\n\t\tsampleInfo.sample_delta = stream.readUint32();\n\t\tsampleInfo.subsamples = [];\n\t\tsubsample_count = stream.readUint16();\n\t\tif (subsample_count>0) {\n\t\t\tfor (j = 0; j < subsample_count; j++) {\n\t\t\t\tvar subsample = {};\n\t\t\t\tsampleInfo.subsamples.push(subsample);\n\t\t\t\tif (this.version == 1) {\n\t\t\t\t\tsubsample.size = stream.readUint32();\n\t\t\t\t} else {\n\t\t\t\t\tsubsample.size = stream.readUint16();\n\t\t\t\t}\n\t\t\t\tsubsample.priority = stream.readUint8();\n\t\t\t\tsubsample.discardable = stream.readUint8();\n\t\t\t\tsubsample.codec_specific_parameters = stream.readUint32();\n\t\t\t}\n\t\t}\n\t}\n});\n\n// file:src/parsing/tenc.js\nBoxParser.createFullBoxCtor(\"tenc\", function(stream) {\n\tstream.readUint8(); // reserved\n\tif (this.version === 0) {\n\t\tstream.readUint8();\n\t} else {\n\t\tvar tmp = stream.readUint8();\n\t\tthis.default_crypt_byte_block = (tmp >> 4) & 0xF;\n\t\tthis.default_skip_byte_block = tmp & 0xF;\n\t}\n\tthis.default_isProtected = stream.readUint8();\n\tthis.default_Per_Sample_IV_Size = stream.readUint8();\n\tthis.default_KID = BoxParser.parseHex16(stream);\n\tif (this.default_isProtected === 1 && this.default_Per_Sample_IV_Size === 0) {\n\t\tthis.default_constant_IV_size = stream.readUint8();\n\t\tthis.default_constant_IV = stream.readUint8Array(this.default_constant_IV_size);\n\t}\n});// file:src/parsing/tfdt.js\nBoxParser.createFullBoxCtor(\"tfdt\", function(stream) {\n\tif (this.version == 1) {\n\t\tthis.baseMediaDecodeTime = stream.readUint64();\n\t} else {\n\t\tthis.baseMediaDecodeTime = stream.readUint32();\n\t}\n});\n\n// file:src/parsing/tfhd.js\nBoxParser.createFullBoxCtor(\"tfhd\", function(stream) {\n\tvar readBytes = 0;\n\tthis.track_id = stream.readUint32();\n\tif (this.size - this.hdr_size > readBytes && (this.flags & BoxParser.TFHD_FLAG_BASE_DATA_OFFSET)) {\n\t\tthis.base_data_offset = stream.readUint64();\n\t\treadBytes += 8;\n\t} else {\n\t\tthis.base_data_offset = 0;\n\t}\n\tif (this.size - this.hdr_size > readBytes && (this.flags & BoxParser.TFHD_FLAG_SAMPLE_DESC)) {\n\t\tthis.default_sample_description_index = stream.readUint32();\n\t\treadBytes += 4;\n\t} else {\n\t\tthis.default_sample_description_index = 0;\n\t}\n\tif (this.size - this.hdr_size > readBytes && (this.flags & BoxParser.TFHD_FLAG_SAMPLE_DUR)) {\n\t\tthis.default_sample_duration = stream.readUint32();\n\t\treadBytes += 4;\n\t} else {\n\t\tthis.default_sample_duration = 0;\n\t}\n\tif (this.size - this.hdr_size > readBytes && (this.flags & BoxParser.TFHD_FLAG_SAMPLE_SIZE)) {\n\t\tthis.default_sample_size = stream.readUint32();\n\t\treadBytes += 4;\n\t} else {\n\t\tthis.default_sample_size = 0;\n\t}\n\tif (this.size - this.hdr_size > readBytes && (this.flags & BoxParser.TFHD_FLAG_SAMPLE_FLAGS)) {\n\t\tthis.default_sample_flags = stream.readUint32();\n\t\treadBytes += 4;\n\t} else {\n\t\tthis.default_sample_flags = 0;\n\t}\n});\n\n// file:src/parsing/tfra.js\nBoxParser.createFullBoxCtor(\"tfra\", function(stream) {\n\tthis.track_ID = stream.readUint32();\n\tstream.readUint24();\n\tvar tmp_byte = stream.readUint8();\n\tthis.length_size_of_traf_num = (tmp_byte >> 4) & 0x3;\n\tthis.length_size_of_trun_num = (tmp_byte >> 2) & 0x3;\n\tthis.length_size_of_sample_num = (tmp_byte) & 0x3;\n\tthis.entries = [];\n\tvar number_of_entries = stream.readUint32();\n\tfor (var i = 0; i < number_of_entries; i++) {\n\t\tif (this.version === 1) {\n\t\t\tthis.time = stream.readUint64();\n\t\t\tthis.moof_offset = stream.readUint64();\n\t\t} else {\n\t\t\tthis.time = stream.readUint32();\n\t\t\tthis.moof_offset = stream.readUint32();\n\t\t}\n\t\tthis.traf_number = stream[\"readUint\"+(8*(this.length_size_of_traf_num+1))]();\n\t\tthis.trun_number = stream[\"readUint\"+(8*(this.length_size_of_trun_num+1))]();\n\t\tthis.sample_number = stream[\"readUint\"+(8*(this.length_size_of_sample_num+1))]();\n\t}\n});\n\n// file:src/parsing/tkhd.js\nBoxParser.createFullBoxCtor(\"tkhd\", function(stream) {\n\tif (this.version == 1) {\n\t\tthis.creation_time = stream.readUint64();\n\t\tthis.modification_time = stream.readUint64();\n\t\tthis.track_id = stream.readUint32();\n\t\tstream.readUint32();\n\t\tthis.duration = stream.readUint64();\n\t} else {\n\t\tthis.creation_time = stream.readUint32();\n\t\tthis.modification_time = stream.readUint32();\n\t\tthis.track_id = stream.readUint32();\n\t\tstream.readUint32();\n\t\tthis.duration = stream.readUint32();\n\t}\n\tstream.readUint32Array(2);\n\tthis.layer = stream.readInt16();\n\tthis.alternate_group = stream.readInt16();\n\tthis.volume = stream.readInt16()>>8;\n\tstream.readUint16();\n\tthis.matrix = stream.readInt32Array(9);\n\tthis.width = stream.readUint32();\n\tthis.height = stream.readUint32();\n});\n\n// file:src/parsing/tmax.js\nBoxParser.createBoxCtor(\"tmax\", function(stream) {\n\tthis.time = stream.readUint32();\n});\n\n// file:src/parsing/tmin.js\nBoxParser.createBoxCtor(\"tmin\", function(stream) {\n\tthis.time = stream.readUint32();\n});\n\n// file:src/parsing/totl.js\nBoxParser.createBoxCtor(\"totl\",function(stream) {\n\tthis.bytessent = stream.readUint32();\n});\n\n// file:src/parsing/tpay.js\nBoxParser.createBoxCtor(\"tpay\", function(stream) {\n\tthis.bytessent = stream.readUint32();\n});\n\n// file:src/parsing/tpyl.js\nBoxParser.createBoxCtor(\"tpyl\", function(stream) {\n\tthis.bytessent = stream.readUint64();\n});\n\n// file:src/parsing/TrackGroup.js\nBoxParser.TrackGroupTypeBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tthis.track_group_id = stream.readUint32();\n}\n\n// file:src/parsing/trackgroups/msrc.js\nBoxParser.createTrackGroupCtor(\"msrc\");// file:src/parsing/TrakReference.js\nBoxParser.TrackReferenceTypeBox = function(type, size, hdr_size, start) {\n\tBoxParser.Box.call(this, type, size);\n\tthis.hdr_size = hdr_size;\n\tthis.start = start;\n}\nBoxParser.TrackReferenceTypeBox.prototype = new BoxParser.Box();\nBoxParser.TrackReferenceTypeBox.prototype.parse = function(stream) {\n\tthis.track_ids = stream.readUint32Array((this.size-this.hdr_size)/4);\n}\n\n// file:src/parsing/tref.js\nBoxParser.trefBox.prototype.parse = function(stream) {\n\tvar ret;\n\tvar box;\n\twhile (stream.getPosition() < this.start+this.size) {\n\t\tret = BoxParser.parseOneBox(stream, true, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tbox = new BoxParser.TrackReferenceTypeBox(ret.type, ret.size, ret.hdr_size, ret.start);\n\t\t\tif (box.write === BoxParser.Box.prototype.write && box.type !== \"mdat\") {\n\t\t\t\tLog.info(\"BoxParser\", \"TrackReference \"+box.type+\" box writing not yet implemented, keeping unparsed data in memory for later write\");\n\t\t\t\tbox.parseDataAndRewind(stream);\n\t\t\t}\n\t\t\tbox.parse(stream);\n\t\t\tthis.boxes.push(box);\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n}\n\n// file:src/parsing/trep.js\nBoxParser.createFullBoxCtor(\"trep\", function(stream) {\n\tthis.track_ID = stream.readUint32();\n\tthis.boxes = [];\n\twhile (stream.getPosition() < this.start+this.size) {\n\t\tret = BoxParser.parseOneBox(stream, false, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tbox = ret.box;\n\t\t\tthis.boxes.push(box);\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n});\n\n// file:src/parsing/trex.js\nBoxParser.createFullBoxCtor(\"trex\", function(stream) {\n\tthis.track_id = stream.readUint32();\n\tthis.default_sample_description_index = stream.readUint32();\n\tthis.default_sample_duration = stream.readUint32();\n\tthis.default_sample_size = stream.readUint32();\n\tthis.default_sample_flags = stream.readUint32();\n});\n\n// file:src/parsing/trpy.js\nBoxParser.createBoxCtor(\"trpy\", function(stream) {\n\tthis.bytessent = stream.readUint64();\n});\n\n// file:src/parsing/trun.js\nBoxParser.createFullBoxCtor(\"trun\", function(stream) {\n\tvar readBytes = 0;\n\tthis.sample_count = stream.readUint32();\n\treadBytes+= 4;\n\tif (this.size - this.hdr_size > readBytes && (this.flags & BoxParser.TRUN_FLAGS_DATA_OFFSET) ) {\n\t\tthis.data_offset = stream.readInt32(); //signed\n\t\treadBytes += 4;\n\t} else {\n\t\tthis.data_offset = 0;\n\t}\n\tif (this.size - this.hdr_size > readBytes && (this.flags & BoxParser.TRUN_FLAGS_FIRST_FLAG) ) {\n\t\tthis.first_sample_flags = stream.readUint32();\n\t\treadBytes += 4;\n\t} else {\n\t\tthis.first_sample_flags = 0;\n\t}\n\tthis.sample_duration = [];\n\tthis.sample_size = [];\n\tthis.sample_flags = [];\n\tthis.sample_composition_time_offset = [];\n\tif (this.size - this.hdr_size > readBytes) {\n\t\tfor (var i = 0; i < this.sample_count; i++) {\n\t\t\tif (this.flags & BoxParser.TRUN_FLAGS_DURATION) {\n\t\t\t\tthis.sample_duration[i] = stream.readUint32();\n\t\t\t}\n\t\t\tif (this.flags & BoxParser.TRUN_FLAGS_SIZE) {\n\t\t\t\tthis.sample_size[i] = stream.readUint32();\n\t\t\t}\n\t\t\tif (this.flags & BoxParser.TRUN_FLAGS_FLAGS) {\n\t\t\t\tthis.sample_flags[i] = stream.readUint32();\n\t\t\t}\n\t\t\tif (this.flags & BoxParser.TRUN_FLAGS_CTS_OFFSET) {\n\t\t\t\tif (this.version === 0) {\n\t\t\t\t\tthis.sample_composition_time_offset[i] = stream.readUint32();\n\t\t\t\t} else {\n\t\t\t\t\tthis.sample_composition_time_offset[i] = stream.readInt32(); //signed\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n});\n\n// file:src/parsing/tsel.js\nBoxParser.createFullBoxCtor(\"tsel\", function(stream) {\n\tthis.switch_group = stream.readUint32();\n\tvar count = (this.size - this.hdr_size - 4)/4;\n\tthis.attribute_list = [];\n\tfor (var i = 0; i < count; i++) {\n\t\tthis.attribute_list[i] = stream.readUint32();\n\t}\n});\n\n// file:src/parsing/txtC.js\nBoxParser.createFullBoxCtor(\"txtC\", function(stream) {\n\tthis.config = stream.readCString();\n});\n\n// file:src/parsing/url.js\nBoxParser.createFullBoxCtor(\"url \", function(stream) {\n\tif (this.flags !== 0x000001) {\n\t\tthis.location = stream.readCString();\n\t}\n});\n\n// file:src/parsing/urn.js\nBoxParser.createFullBoxCtor(\"urn \", function(stream) {\n\tthis.name = stream.readCString();\n\tif (this.size - this.hdr_size - this.name.length - 1 > 0) {\n\t\tthis.location = stream.readCString();\n\t}\n});\n\n// file:src/parsing/uuid/piff/piffLsm.js\nBoxParser.createUUIDBox(\"a5d40b30e81411ddba2f0800200c9a66\", true, false, function(stream) {\n    this.LiveServerManifest = stream.readString(this.size - this.hdr_size)\n        .replace(/&/g, \"&amp;\")\n        .replace(/</g, \"&lt;\")\n        .replace(/>/g, \"&gt;\")\n        .replace(/\"/g, \"&quot;\")\n        .replace(/'/g, \"&#039;\");\n});// file:src/parsing/uuid/piff/piffPssh.js\nBoxParser.createUUIDBox(\"d08a4f1810f34a82b6c832d8aba183d3\", true, false, function(stream) {\n\tthis.system_id = BoxParser.parseHex16(stream);\n\tvar datasize = stream.readUint32();\n\tif (datasize > 0) {\n\t\tthis.data = stream.readUint8Array(datasize);\n\t}\n});\n\n// file:src/parsing/uuid/piff/piffSenc.js\nBoxParser.createUUIDBox(\"a2394f525a9b4f14a2446c427c648df4\", true, false /*, function(stream) {\n\tif (this.flags & 0x1) {\n\t\tthis.AlgorithmID = stream.readUint24();\n\t\tthis.IV_size = stream.readUint8();\n\t\tthis.KID = BoxParser.parseHex16(stream);\n\t}\n\tvar sample_count = stream.readUint32();\n\tthis.samples = [];\n\tfor (var i = 0; i < sample_count; i++) {\n\t\tvar sample = {};\n\t\tsample.InitializationVector = this.readUint8Array(this.IV_size*8);\n\t\tif (this.flags & 0x2) {\n\t\t\tsample.subsamples = [];\n\t\t\tsample.NumberOfEntries = stream.readUint16();\n\t\t\tfor (var j = 0; j < sample.NumberOfEntries; j++) {\n\t\t\t\tvar subsample = {};\n\t\t\t\tsubsample.BytesOfClearData = stream.readUint16();\n\t\t\t\tsubsample.BytesOfProtectedData = stream.readUint32();\n\t\t\t\tsample.subsamples.push(subsample);\n\t\t\t}\n\t\t}\n\t\tthis.samples.push(sample);\n\t}\n}*/);\n// file:src/parsing/uuid/piff/piffTenc.js\nBoxParser.createUUIDBox(\"8974dbce7be74c5184f97148f9882554\", true, false, function(stream) {\n\tthis.default_AlgorithmID = stream.readUint24();\n\tthis.default_IV_size = stream.readUint8();\n\tthis.default_KID = BoxParser.parseHex16(stream);\n});// file:src/parsing/uuid/piff/piffTfrf.js\nBoxParser.createUUIDBox(\"d4807ef2ca3946958e5426cb9e46a79f\", true, false, function(stream) {\n    this.fragment_count = stream.readUint8();\n    this.entries = [];\n\n    for (var i = 0; i < this.fragment_count; i++) {\n        var entry = {};\n        var absolute_time = 0;\n        var absolute_duration = 0;\n\n        if (this.version === 1) {\n            absolute_time = stream.readUint64();\n            absolute_duration = stream.readUint64();\n        } else {\n            absolute_time = stream.readUint32();\n            absolute_duration = stream.readUint32();\n        }\n\n        entry.absolute_time = absolute_time;\n        entry.absolute_duration = absolute_duration;\n\n        this.entries.push(entry);\n    }\n});// file:src/parsing/uuid/piff/piffTfxd.js\nBoxParser.createUUIDBox(\"6d1d9b0542d544e680e2141daff757b2\", true, false, function(stream) {\n    if (this.version === 1) {\n       this.absolute_time = stream.readUint64();\n       this.duration = stream.readUint64();\n    } else {\n       this.absolute_time = stream.readUint32();\n       this.duration = stream.readUint32();\n    }\n});// file:src/parsing/vmhd.js\nBoxParser.createFullBoxCtor(\"vmhd\", function(stream) {\n\tthis.graphicsmode = stream.readUint16();\n\tthis.opcolor = stream.readUint16Array(3);\n});\n\n// file:src/parsing/vpcC.js\nBoxParser.createFullBoxCtor(\"vpcC\", function (stream) {\n\tvar tmp;\n\tif (this.version === 1) {\n\t\tthis.profile = stream.readUint8();\n\t\tthis.level = stream.readUint8();\n\t\ttmp = stream.readUint8();\n\t\tthis.bitDepth = tmp >> 4;\n\t\tthis.chromaSubsampling = (tmp >> 1) & 0x7;\n\t\tthis.videoFullRangeFlag = tmp & 0x1;\n\t\tthis.colourPrimaries = stream.readUint8();\n\t\tthis.transferCharacteristics = stream.readUint8();\n\t\tthis.matrixCoefficients = stream.readUint8();\n\t\tthis.codecIntializationDataSize = stream.readUint16();\n\t\tthis.codecIntializationData = stream.readUint8Array(this.codecIntializationDataSize);\n\t} else {\n\t\tthis.profile = stream.readUint8();\n\t\tthis.level = stream.readUint8();\n\t\ttmp = stream.readUint8();\n\t\tthis.bitDepth = (tmp >> 4) & 0xF;\n\t\tthis.colorSpace = tmp & 0xF;\n\t\ttmp = stream.readUint8();\n\t\tthis.chromaSubsampling = (tmp >> 4) & 0xF;\n\t\tthis.transferFunction = (tmp >> 1) & 0x7;\n\t\tthis.videoFullRangeFlag = tmp & 0x1;\n\t\tthis.codecIntializationDataSize = stream.readUint16();\n\t\tthis.codecIntializationData = stream.readUint8Array(this.codecIntializationDataSize);\n\t}\n});// file:src/parsing/vttC.js\nBoxParser.createBoxCtor(\"vttC\", function(stream) {\n\tthis.text = stream.readString(this.size - this.hdr_size);\n});\n\n// file:src/parsing/vvcC.js\nBoxParser.createFullBoxCtor(\"vvcC\", function (stream) {\n  var i, j;\n\n  // helper object to simplify extracting individual bits\n  var bitReader = {\n    held_bits: undefined,\n    num_held_bits: 0,\n\n    stream_read_1_bytes: function (strm) {\n      this.held_bits = strm.readUint8();\n      this.num_held_bits = 1 * 8;\n    },\n    stream_read_2_bytes: function (strm) {\n      this.held_bits = strm.readUint16();\n      this.num_held_bits = 2 * 8;\n    },\n\n    extract_bits: function (num_bits) {\n      var ret = (this.held_bits >> (this.num_held_bits - num_bits)) & ((1 << num_bits) - 1);\n      this.num_held_bits -= num_bits;\n      return ret;\n    }\n  };\n\n  // VvcDecoderConfigurationRecord\n  bitReader.stream_read_1_bytes(stream);\n  bitReader.extract_bits(5);  // reserved\n  this.lengthSizeMinusOne = bitReader.extract_bits(2);\n  this.ptl_present_flag = bitReader.extract_bits(1);\n\n  if (this.ptl_present_flag) {\n    bitReader.stream_read_2_bytes(stream);\n    this.ols_idx = bitReader.extract_bits(9);\n    this.num_sublayers = bitReader.extract_bits(3);\n    this.constant_frame_rate = bitReader.extract_bits(2);\n    this.chroma_format_idc = bitReader.extract_bits(2);\n\n    bitReader.stream_read_1_bytes(stream);\n    this.bit_depth_minus8 = bitReader.extract_bits(3);\n    bitReader.extract_bits(5);  // reserved\n\n    // VvcPTLRecord\n    {\n      bitReader.stream_read_2_bytes(stream);\n      bitReader.extract_bits(2);  // reserved\n      this.num_bytes_constraint_info = bitReader.extract_bits(6);\n      this.general_profile_idc = bitReader.extract_bits(7);\n      this.general_tier_flag = bitReader.extract_bits(1);\n\n      this.general_level_idc = stream.readUint8();\n\n      bitReader.stream_read_1_bytes(stream);\n      this.ptl_frame_only_constraint_flag = bitReader.extract_bits(1);\n      this.ptl_multilayer_enabled_flag = bitReader.extract_bits(1);\n\n      this.general_constraint_info = new Uint8Array(this.num_bytes_constraint_info);\n      if (this.num_bytes_constraint_info) {\n        for (i = 0; i < this.num_bytes_constraint_info - 1; i++) {\n          var cnstr1 = bitReader.extract_bits(6);\n          bitReader.stream_read_1_bytes(stream);\n          var cnstr2 = bitReader.extract_bits(2);\n\n          this.general_constraint_info[i] = ((cnstr1 << 2) | cnstr2);\n        }\n        this.general_constraint_info[this.num_bytes_constraint_info - 1] = bitReader.extract_bits(6);\n      } else {\n        //forbidden in spec!\n        bitReader.extract_bits(6);\n      }\n\n      bitReader.stream_read_1_bytes(stream);\n      this.ptl_sublayer_present_mask = 0;\n      for (j = this.num_sublayers - 2; j >= 0; --j) {\n        var val = bitReader.extract_bits(1);\n        this.ptl_sublayer_present_mask |= val << j;\n      }\n      for (j = this.num_sublayers; j <= 8 && this.num_sublayers > 1; ++j) {\n        bitReader.extract_bits(1);  // ptl_reserved_zero_bit\n      }\n\n      for (j = this.num_sublayers - 2; j >= 0; --j) {\n        if (this.ptl_sublayer_present_mask & (1 << j)) {\n          this.sublayer_level_idc[j] = stream.readUint8();\n        }\n      }\n\n      this.ptl_num_sub_profiles = stream.readUint8();\n      this.general_sub_profile_idc = [];\n      if (this.ptl_num_sub_profiles) {\n        for (i = 0; i < this.ptl_num_sub_profiles; i++) {\n          this.general_sub_profile_idc.push(stream.readUint32());\n        }\n      }\n    }  // end VvcPTLRecord\n\n    this.max_picture_width = stream.readUint16();\n    this.max_picture_height = stream.readUint16();\n    this.avg_frame_rate = stream.readUint16();\n  }\n\n  var VVC_NALU_OPI = 12;\n  var VVC_NALU_DEC_PARAM = 13;\n\n  this.nalu_arrays = [];\n  var num_of_arrays = stream.readUint8();\n  for (i = 0; i < num_of_arrays; i++) {\n    var nalu_array = [];\n    this.nalu_arrays.push(nalu_array);\n\n    bitReader.stream_read_1_bytes(stream);\n    nalu_array.completeness = bitReader.extract_bits(1);\n    bitReader.extract_bits(2);  // reserved\n    nalu_array.nalu_type = bitReader.extract_bits(5);\n\n    var numNalus = 1;\n    if (nalu_array.nalu_type != VVC_NALU_DEC_PARAM && nalu_array.nalu_type != VVC_NALU_OPI) {\n      numNalus = stream.readUint16();\n    }\n\n    for (j = 0; j < numNalus; j++) {\n      var len = stream.readUint16();\n      nalu_array.push({\n        data: stream.readUint8Array(len),\n        length: len\n      });\n    }\n  }\n});\n// file:src/parsing/vvnC.js\nBoxParser.createFullBoxCtor(\"vvnC\", function (stream) {\n  // VvcNALUConfigBox\n  var tmp = strm.readUint8();\n  this.lengthSizeMinusOne = (tmp & 0x3);\n});\n// file:src/box-codecs.js\nBoxParser.SampleEntry.prototype.isVideo = function() {\n\treturn false;\n}\n\nBoxParser.SampleEntry.prototype.isAudio = function() {\n\treturn false;\n}\n\nBoxParser.SampleEntry.prototype.isSubtitle = function() {\n\treturn false;\n}\n\nBoxParser.SampleEntry.prototype.isMetadata = function() {\n\treturn false;\n}\n\nBoxParser.SampleEntry.prototype.isHint = function() {\n\treturn false;\n}\n\nBoxParser.SampleEntry.prototype.getCodec = function() {\n\treturn this.type.replace('.','');\n}\n\nBoxParser.SampleEntry.prototype.getWidth = function() {\n\treturn \"\";\n}\n\nBoxParser.SampleEntry.prototype.getHeight = function() {\n\treturn \"\";\n}\n\nBoxParser.SampleEntry.prototype.getChannelCount = function() {\n\treturn \"\";\n}\n\nBoxParser.SampleEntry.prototype.getSampleRate = function() {\n\treturn \"\";\n}\n\nBoxParser.SampleEntry.prototype.getSampleSize = function() {\n\treturn \"\";\n}\n\nBoxParser.VisualSampleEntry.prototype.isVideo = function() {\n\treturn true;\n}\n\nBoxParser.VisualSampleEntry.prototype.getWidth = function() {\n\treturn this.width;\n}\n\nBoxParser.VisualSampleEntry.prototype.getHeight = function() {\n\treturn this.height;\n}\n\nBoxParser.AudioSampleEntry.prototype.isAudio = function() {\n\treturn true;\n}\n\nBoxParser.AudioSampleEntry.prototype.getChannelCount = function() {\n\treturn this.channel_count;\n}\n\nBoxParser.AudioSampleEntry.prototype.getSampleRate = function() {\n\treturn this.samplerate;\n}\n\nBoxParser.AudioSampleEntry.prototype.getSampleSize = function() {\n\treturn this.samplesize;\n}\n\nBoxParser.SubtitleSampleEntry.prototype.isSubtitle = function() {\n\treturn true;\n}\n\nBoxParser.MetadataSampleEntry.prototype.isMetadata = function() {\n\treturn true;\n}\n\n\nBoxParser.decimalToHex = function(d, padding) {\n\tvar hex = Number(d).toString(16);\n\tpadding = typeof (padding) === \"undefined\" || padding === null ? padding = 2 : padding;\n\twhile (hex.length < padding) {\n\t\thex = \"0\" + hex;\n\t}\n\treturn hex;\n}\n\nBoxParser.avc1SampleEntry.prototype.getCodec =\nBoxParser.avc2SampleEntry.prototype.getCodec =\nBoxParser.avc3SampleEntry.prototype.getCodec =\nBoxParser.avc4SampleEntry.prototype.getCodec = function() {\n\tvar baseCodec = BoxParser.SampleEntry.prototype.getCodec.call(this);\n\tif (this.avcC) {\n\t\treturn baseCodec+\".\"+BoxParser.decimalToHex(this.avcC.AVCProfileIndication)+\n\t\t\t\t\t\t  \"\"+BoxParser.decimalToHex(this.avcC.profile_compatibility)+\n\t\t\t\t\t\t  \"\"+BoxParser.decimalToHex(this.avcC.AVCLevelIndication);\n\t} else {\n\t\treturn baseCodec;\n\t}\n}\n\nBoxParser.hev1SampleEntry.prototype.getCodec =\nBoxParser.hvc1SampleEntry.prototype.getCodec = function() {\n\tvar i;\n\tvar baseCodec = BoxParser.SampleEntry.prototype.getCodec.call(this);\n\tif (this.hvcC) {\n\t\tbaseCodec += '.';\n\t\tswitch (this.hvcC.general_profile_space) {\n\t\t\tcase 0:\n\t\t\t\tbaseCodec += '';\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tbaseCodec += 'A';\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tbaseCodec += 'B';\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tbaseCodec += 'C';\n\t\t\t\tbreak;\n\t\t}\n\t\tbaseCodec += this.hvcC.general_profile_idc;\n\t\tbaseCodec += '.';\n\t\tvar val = this.hvcC.general_profile_compatibility;\n\t\tvar reversed = 0;\n\t\tfor (i=0; i<32; i++) {\n\t\t\treversed |= val & 1;\n\t\t\tif (i==31) break;\n\t\t\treversed <<= 1;\n\t\t\tval >>=1;\n\t\t}\n\t\tbaseCodec += BoxParser.decimalToHex(reversed, 0);\n\t\tbaseCodec += '.';\n\t\tif (this.hvcC.general_tier_flag === 0) {\n\t\t\tbaseCodec += 'L';\n\t\t} else {\n\t\t\tbaseCodec += 'H';\n\t\t}\n\t\tbaseCodec += this.hvcC.general_level_idc;\n\t\tvar hasByte = false;\n\t\tvar constraint_string = \"\";\n\t\tfor (i = 5; i >= 0; i--) {\n\t\t\tif (this.hvcC.general_constraint_indicator[i] || hasByte) {\n\t\t\t\tconstraint_string = \".\"+BoxParser.decimalToHex(this.hvcC.general_constraint_indicator[i], 0)+constraint_string;\n\t\t\t\thasByte = true;\n\t\t\t}\n\t\t}\n\t\tbaseCodec += constraint_string;\n\t}\n\treturn baseCodec;\n}\n\nBoxParser.vvc1SampleEntry.prototype.getCodec =\nBoxParser.vvi1SampleEntry.prototype.getCodec = function () {\n\tvar i;\n\tvar baseCodec = BoxParser.SampleEntry.prototype.getCodec.call(this);\n\tif (this.vvcC) {\n\t\tbaseCodec += '.' + this.vvcC.general_profile_idc;\n\t\tif (this.vvcC.general_tier_flag) {\n\t\t\tbaseCodec += '.H';\n\t\t} else {\n\t\t\tbaseCodec += '.L';\n\t\t}\n\t\tbaseCodec += this.vvcC.general_level_idc;\n\n\t\tvar constraint_string = \"\";\n\t\tif (this.vvcC.general_constraint_info) {\n\t\t\tvar bytes = [];\n\t\t\tvar byte = 0;\n\t\t\tbyte |= this.vvcC.ptl_frame_only_constraint << 7;\n\t\t\tbyte |= this.vvcC.ptl_multilayer_enabled << 6;\n\t\t\tvar last_nonzero;\n\t\t\tfor (i = 0; i < this.vvcC.general_constraint_info.length; ++i) {\n\t\t\t\tbyte |= (this.vvcC.general_constraint_info[i] >> 2) & 0x3f;\n\t\t\t\tbytes.push(byte);\n\t\t\t\tif (byte) {\n\t\t\t\t\tlast_nonzero = i;\n\t\t\t\t}\n\n\t\t\t\tbyte = (this.vvcC.general_constraint_info[i] >> 2) & 0x03;\n\t\t\t}\n\n\t\t\tif (last_nonzero === undefined) {\n\t\t\t\tconstraint_string = \".CA\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\tconstraint_string = \".C\"\n\t\t\t\tvar base32_chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\";\n\t\t\t\tvar held_bits = 0;\n\t\t\t\tvar num_held_bits = 0;\n\t\t\t\tfor (i = 0; i <= last_nonzero; ++i) {\n\t\t\t\t\theld_bits = (held_bits << 8) | bytes[i];\n\t\t\t\t\tnum_held_bits += 8;\n\n\t\t\t\t\twhile (num_held_bits >= 5) {\n\t\t\t\t\t\tvar val = (held_bits >> (num_held_bits - 5)) & 0x1f;\n\t\t\t\t\t\tconstraint_string += base32_chars[val];\n\n\t\t\t\t\t\tnum_held_bits -= 5;\n\t\t\t\t\t\theld_bits &= (1 << num_held_bits) - 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (num_held_bits) {\n\t\t\t\t\theld_bits <<= (5 - num_held_bits);  // right-pad with zeros to 5 bits (is this correct?)\n\t\t\t\t\tconstraint_string += base32_chars[held_bits & 0x1f];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tbaseCodec += constraint_string;\n\t}\n\treturn baseCodec;\n}\n\nBoxParser.mp4aSampleEntry.prototype.getCodec = function() {\n\tvar baseCodec = BoxParser.SampleEntry.prototype.getCodec.call(this);\n\tif (this.esds && this.esds.esd) {\n\t\tvar oti = this.esds.esd.getOTI();\n\t\tvar dsi = this.esds.esd.getAudioConfig();\n\t\treturn baseCodec+\".\"+BoxParser.decimalToHex(oti)+(dsi ? \".\"+dsi: \"\");\n\t} else {\n\t\treturn baseCodec;\n\t}\n}\n\nBoxParser.stxtSampleEntry.prototype.getCodec = function() {\n\tvar baseCodec = BoxParser.SampleEntry.prototype.getCodec.call(this);\n\tif(this.mime_format) {\n\t\treturn baseCodec + \".\" + this.mime_format;\n\t} else {\n\t\treturn baseCodec\n\t}\n}\n\nBoxParser.vp08SampleEntry.prototype.getCodec =\nBoxParser.vp09SampleEntry.prototype.getCodec = function() {\n\tvar baseCodec = BoxParser.SampleEntry.prototype.getCodec.call(this);\n\tvar level = this.vpcC.level;\n\tif (level == 0) {\n\t\tlevel = \"00\";\n\t}\n\tvar bitDepth = this.vpcC.bitDepth;\n\tif (bitDepth == 8) {\n\t\tbitDepth = \"08\";\n\t}\n\treturn baseCodec + \".0\" + this.vpcC.profile + \".\" + level + \".\" + bitDepth;\n}\n\nBoxParser.av01SampleEntry.prototype.getCodec = function() {\n\tvar baseCodec = BoxParser.SampleEntry.prototype.getCodec.call(this);\n\tvar level = this.av1C.seq_level_idx_0;\n\tif (level < 10) {\n\t\tlevel = \"0\" + level;\n\t}\n\tvar bitdepth;\n\tif (this.av1C.seq_profile === 2 && this.av1C.high_bitdepth === 1) {\n\t\tbitdepth = (this.av1C.twelve_bit === 1) ? \"12\" : \"10\";\n\t} else if ( this.av1C.seq_profile <= 2 ) {\n\t\tbitdepth = (this.av1C.high_bitdepth === 1) ? \"10\" : \"08\";\n\t}\n\t// TODO need to parse the SH to find color config\n\treturn baseCodec+\".\"+this.av1C.seq_profile+\".\"+level+(this.av1C.seq_tier_0?\"H\":\"M\")+\".\"+bitdepth;//+\".\"+this.av1C.monochrome+\".\"+this.av1C.chroma_subsampling_x+\"\"+this.av1C.chroma_subsampling_y+\"\"+this.av1C.chroma_sample_position;\n}\n// file:src/box-write.js\n/* \n * Copyright (c) Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nBoxParser.Box.prototype.writeHeader = function(stream, msg) {\n\tthis.size += 8;\n\tif (this.size > MAX_SIZE) {\n\t\tthis.size += 8;\n\t}\n\tif (this.type === \"uuid\") {\n\t\tthis.size += 16;\n\t}\n\tLog.debug(\"BoxWriter\", \"Writing box \"+this.type+\" of size: \"+this.size+\" at position \"+stream.getPosition()+(msg || \"\"));\n\tif (this.size > MAX_SIZE) {\n\t\tstream.writeUint32(1);\n\t} else {\n\t\tthis.sizePosition = stream.getPosition();\n\t\tstream.writeUint32(this.size);\n\t}\n\tstream.writeString(this.type, null, 4);\n\tif (this.type === \"uuid\") {\n\t\tstream.writeUint8Array(this.uuid);\n\t}\n\tif (this.size > MAX_SIZE) {\n\t\tstream.writeUint64(this.size);\n\t} \n}\n\nBoxParser.FullBox.prototype.writeHeader = function(stream) {\n\tthis.size += 4;\n\tBoxParser.Box.prototype.writeHeader.call(this, stream, \" v=\"+this.version+\" f=\"+this.flags);\n\tstream.writeUint8(this.version);\n\tstream.writeUint24(this.flags);\n}\n\nBoxParser.Box.prototype.write = function(stream) {\n\tif (this.type === \"mdat\") {\n\t\t/* TODO: fix this */\n\t\tif (this.data) {\n\t\t\tthis.size = this.data.length;\n\t\t\tthis.writeHeader(stream);\n\t\t\tstream.writeUint8Array(this.data);\n\t\t}\n\t} else {\n\t\tthis.size = (this.data ? this.data.length : 0);\n\t\tthis.writeHeader(stream);\n\t\tif (this.data) {\n\t\t\tstream.writeUint8Array(this.data);\n\t\t}\n\t}\n}\n\nBoxParser.ContainerBox.prototype.write = function(stream) {\n\tthis.size = 0;\n\tthis.writeHeader(stream);\n\tfor (var i=0; i<this.boxes.length; i++) {\n\t\tif (this.boxes[i]) {\n\t\t\tthis.boxes[i].write(stream);\n\t\t\tthis.size += this.boxes[i].size;\n\t\t}\n\t}\n\t/* adjusting the size, now that all sub-boxes are known */\n\tLog.debug(\"BoxWriter\", \"Adjusting box \"+this.type+\" with new size \"+this.size);\n\tstream.adjustUint32(this.sizePosition, this.size);\n}\n\nBoxParser.TrackReferenceTypeBox.prototype.write = function(stream) {\n\tthis.size = this.track_ids.length*4;\n\tthis.writeHeader(stream);\n\tstream.writeUint32Array(this.track_ids);\n}\n\n// file:src/writing/avcC.js\nBoxParser.avcCBox.prototype.write = function(stream) {\n\tvar i;\n\tthis.size = 7;\n\tfor (i = 0; i < this.SPS.length; i++) {\n\t\tthis.size += 2+this.SPS[i].length;\n\t}\n\tfor (i = 0; i < this.PPS.length; i++) {\n\t\tthis.size += 2+this.PPS[i].length;\n\t}\n\tif (this.ext) {\n\t\tthis.size += this.ext.length;\n\t}\n\tthis.writeHeader(stream);\n\tstream.writeUint8(this.configurationVersion);\n\tstream.writeUint8(this.AVCProfileIndication);\n\tstream.writeUint8(this.profile_compatibility);\n\tstream.writeUint8(this.AVCLevelIndication);\n\tstream.writeUint8(this.lengthSizeMinusOne + (63<<2));\n\tstream.writeUint8(this.SPS.length + (7<<5));\n\tfor (i = 0; i < this.SPS.length; i++) {\n\t\tstream.writeUint16(this.SPS[i].length);\n\t\tstream.writeUint8Array(this.SPS[i].nalu);\n\t}\n\tstream.writeUint8(this.PPS.length);\n\tfor (i = 0; i < this.PPS.length; i++) {\n\t\tstream.writeUint16(this.PPS[i].length);\n\t\tstream.writeUint8Array(this.PPS[i].nalu);\n\t}\n\tif (this.ext) {\n\t\tstream.writeUint8Array(this.ext);\n\t}\n}\n\n// file:src/writing/co64.js\nBoxParser.co64Box.prototype.write = function(stream) {\n\tvar i;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4+8*this.chunk_offsets.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.chunk_offsets.length);\n\tfor(i=0; i<this.chunk_offsets.length; i++) {\n\t\tstream.writeUint64(this.chunk_offsets[i]);\n\t}\n}\n\n// file:src/writing/cslg.js\nBoxParser.cslgBox.prototype.write = function(stream) {\n\tvar i;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4*5;\n\tthis.writeHeader(stream);\n\tstream.writeInt32(this.compositionToDTSShift);\n\tstream.writeInt32(this.leastDecodeToDisplayDelta);\n\tstream.writeInt32(this.greatestDecodeToDisplayDelta);\n\tstream.writeInt32(this.compositionStartTime);\n\tstream.writeInt32(this.compositionEndTime);\n}\n\n// file:src/writing/ctts.js\nBoxParser.cttsBox.prototype.write = function(stream) {\n\tvar i;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4+8*this.sample_counts.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.sample_counts.length);\n\tfor(i=0; i<this.sample_counts.length; i++) {\n\t\tstream.writeUint32(this.sample_counts[i]);\n\t\tif (this.version === 1) {\n\t\t\tstream.writeInt32(this.sample_offsets[i]); /* signed */\n\t\t} else {\t\t\t\n\t\t\tstream.writeUint32(this.sample_offsets[i]); /* unsigned */\n\t\t}\n\t}\n}\n\n// file:src/writing/dref.js\nBoxParser.drefBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4; //\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.entries.length);\n\tfor (var i = 0; i < this.entries.length; i++) {\n\t\tthis.entries[i].write(stream);\n\t\tthis.size += this.entries[i].size;\n\t}\t\n\t/* adjusting the size, now that all sub-boxes are known */\n\tLog.debug(\"BoxWriter\", \"Adjusting box \"+this.type+\" with new size \"+this.size);\n\tstream.adjustUint32(this.sizePosition, this.size);\n}\n\n// file:src/writing/elng.js\nBoxParser.elngBox.prototype.write = function(stream) {\n\tthis.version = 0;\t\n\tthis.flags = 0;\n\tthis.size = this.extended_language.length;\n\tthis.writeHeader(stream);\n\tstream.writeString(this.extended_language);\n}\n\n// file:src/writing/elst.js\nBoxParser.elstBox.prototype.write = function(stream) {\n\tthis.version = 0;\t\n\tthis.flags = 0;\n\tthis.size = 4+12*this.entries.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.entries.length);\n\tfor (var i = 0; i < this.entries.length; i++) {\n\t\tvar entry = this.entries[i];\n\t\tstream.writeUint32(entry.segment_duration);\n\t\tstream.writeInt32(entry.media_time);\n\t\tstream.writeInt16(entry.media_rate_integer);\n\t\tstream.writeInt16(entry.media_rate_fraction);\n\t}\n}\n\n// file:src/writing/emsg.js\nBoxParser.emsgBox.prototype.write = function(stream) {\n\tthis.version = 0;\t\n\tthis.flags = 0;\n\tthis.size = 4*4+this.message_data.length+(this.scheme_id_uri.length+1)+(this.value.length+1);\n\tthis.writeHeader(stream);\n\tstream.writeCString(this.scheme_id_uri);\n\tstream.writeCString(this.value);\n\tstream.writeUint32(this.timescale);\n\tstream.writeUint32(this.presentation_time_delta);\n\tstream.writeUint32(this.event_duration);\n\tstream.writeUint32(this.id);\n\tstream.writeUint8Array(this.message_data);\n}\n\n// file:src/writing/ftyp.js\nBoxParser.ftypBox.prototype.write = function(stream) {\n\tthis.size = 8+4*this.compatible_brands.length;\n\tthis.writeHeader(stream);\n\tstream.writeString(this.major_brand, null, 4);\n\tstream.writeUint32(this.minor_version);\n\tfor (var i = 0; i < this.compatible_brands.length; i++) {\n\t\tstream.writeString(this.compatible_brands[i], null, 4);\n\t}\n}\n\n// file:src/writing/hdlr.js\nBoxParser.hdlrBox.prototype.write = function(stream) {\n\tthis.size = 5*4+this.name.length+1;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(0);\n\tstream.writeString(this.handler, null, 4);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeCString(this.name);\n}\n\n// file:src/writing/kind.js\nBoxParser.kindBox.prototype.write = function(stream) {\n\tthis.version = 0;\t\n\tthis.flags = 0;\n\tthis.size = (this.schemeURI.length+1)+(this.value.length+1);\n\tthis.writeHeader(stream);\n\tstream.writeCString(this.schemeURI);\n\tstream.writeCString(this.value);\n}\n\n// file:src/writing/mdhd.js\nBoxParser.mdhdBox.prototype.write = function(stream) {\n\tthis.size = 4*4+2*2;\n\tthis.flags = 0;\n\tthis.version = 0;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.creation_time);\n\tstream.writeUint32(this.modification_time);\n\tstream.writeUint32(this.timescale);\n\tstream.writeUint32(this.duration);\n\tstream.writeUint16(this.language);\n\tstream.writeUint16(0);\n}\n\n// file:src/writing/mehd.js\nBoxParser.mehdBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.fragment_duration);\n}\n\n// file:src/writing/mfhd.js\nBoxParser.mfhdBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.sequence_number);\n}\n\n// file:src/writing/mvhd.js\nBoxParser.mvhdBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 23*4+2*2;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.creation_time);\n\tstream.writeUint32(this.modification_time);\n\tstream.writeUint32(this.timescale);\n\tstream.writeUint32(this.duration);\n\tstream.writeUint32(this.rate);\n\tstream.writeUint16(this.volume<<8);\n\tstream.writeUint16(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32Array(this.matrix);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(this.next_track_id);\n}\n\n// file:src/writing/sampleentry.js\nBoxParser.SampleEntry.prototype.writeHeader = function(stream) {\n\tthis.size = 8;\n\tBoxParser.Box.prototype.writeHeader.call(this, stream);\n\tstream.writeUint8(0);\n\tstream.writeUint8(0);\n\tstream.writeUint8(0);\n\tstream.writeUint8(0);\n\tstream.writeUint8(0);\n\tstream.writeUint8(0);\n\tstream.writeUint16(this.data_reference_index);\n}\n\nBoxParser.SampleEntry.prototype.writeFooter = function(stream) {\n\tfor (var i=0; i<this.boxes.length; i++) {\n\t\tthis.boxes[i].write(stream);\n\t\tthis.size += this.boxes[i].size;\n\t}\n\tLog.debug(\"BoxWriter\", \"Adjusting box \"+this.type+\" with new size \"+this.size);\n\tstream.adjustUint32(this.sizePosition, this.size);\t\n}\n\nBoxParser.SampleEntry.prototype.write = function(stream) {\n\tthis.writeHeader(stream);\n\tstream.writeUint8Array(this.data);\n\tthis.size += this.data.length;\n\tLog.debug(\"BoxWriter\", \"Adjusting box \"+this.type+\" with new size \"+this.size);\n\tstream.adjustUint32(this.sizePosition, this.size);\t\n}\n\nBoxParser.VisualSampleEntry.prototype.write = function(stream) {\n\tthis.writeHeader(stream);\n\tthis.size += 2*7+6*4+32;\n\tstream.writeUint16(0); \n\tstream.writeUint16(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint16(this.width);\n\tstream.writeUint16(this.height);\n\tstream.writeUint32(this.horizresolution);\n\tstream.writeUint32(this.vertresolution);\n\tstream.writeUint32(0);\n\tstream.writeUint16(this.frame_count);\n\tstream.writeUint8(Math.min(31, this.compressorname.length));\n\tstream.writeString(this.compressorname, null, 31);\n\tstream.writeUint16(this.depth);\n\tstream.writeInt16(-1);\n\tthis.writeFooter(stream);\n}\n\nBoxParser.AudioSampleEntry.prototype.write = function(stream) {\n\tthis.writeHeader(stream);\n\tthis.size += 2*4+3*4;\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint16(this.channel_count);\n\tstream.writeUint16(this.samplesize);\n\tstream.writeUint16(0);\n\tstream.writeUint16(0);\n\tstream.writeUint32(this.samplerate<<16);\n\tthis.writeFooter(stream);\n}\n\nBoxParser.stppSampleEntry.prototype.write = function(stream) {\n\tthis.writeHeader(stream);\n\tthis.size += this.namespace.length+1+\n\t\t\t\t this.schema_location.length+1+\n\t\t\t\t this.auxiliary_mime_types.length+1;\n\tstream.writeCString(this.namespace);\n\tstream.writeCString(this.schema_location);\n\tstream.writeCString(this.auxiliary_mime_types);\n\tthis.writeFooter(stream);\n}\n\n// file:src/writing/samplegroups/samplegroup.js\nBoxParser.SampleGroupEntry.prototype.write = function(stream) {\n\tstream.writeUint8Array(this.data);\n}\n\n// file:src/writing/sbgp.js\nBoxParser.sbgpBox.prototype.write = function(stream) {\n\tthis.version = 1;\t\n\tthis.flags = 0;\n\tthis.size = 12+8*this.entries.length;\n\tthis.writeHeader(stream);\n\tstream.writeString(this.grouping_type, null, 4);\n\tstream.writeUint32(this.grouping_type_parameter);\n\tstream.writeUint32(this.entries.length);\n\tfor (var i = 0; i < this.entries.length; i++) {\n\t\tvar entry = this.entries[i];\n\t\tstream.writeInt32(entry.sample_count);\n\t\tstream.writeInt32(entry.group_description_index);\n\t}\n}\n\n// file:src/writing/sgpd.js\nBoxParser.sgpdBox.prototype.write = function(stream) {\n\tvar i;\n\tvar entry;\n\t// leave version as read\n\t// this.version;\n\tthis.flags = 0;\n\tthis.size = 12;\n\tfor (i = 0; i < this.entries.length; i++) {\n\t\tentry = this.entries[i];\n\t\tif (this.version === 1) {\n\t\t\tif (this.default_length === 0) {\n\t\t\t\tthis.size += 4;\n\t\t\t}\n\t\t\tthis.size += entry.data.length;\n\t\t}\n\t}\n\tthis.writeHeader(stream);\n\tstream.writeString(this.grouping_type, null, 4);\n\tif (this.version === 1) {\n\t\tstream.writeUint32(this.default_length);\n\t}\n\tif (this.version >= 2) {\n\t\tstream.writeUint32(this.default_sample_description_index);\n\t}\n\tstream.writeUint32(this.entries.length);\n\tfor (i = 0; i < this.entries.length; i++) {\n\t\tentry = this.entries[i];\n\t\tif (this.version === 1) {\n\t\t\tif (this.default_length === 0) {\n\t\t\t\tstream.writeUint32(entry.description_length);\n\t\t\t}\n\t\t}\n\t\tentry.write(stream);\n\t}\n}\n\n\n// file:src/writing/sidx.js\nBoxParser.sidxBox.prototype.write = function(stream) {\n\tthis.version = 0;\t\n\tthis.flags = 0;\n\tthis.size = 4*4+2+2+12*this.references.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.reference_ID);\n\tstream.writeUint32(this.timescale);\n\tstream.writeUint32(this.earliest_presentation_time);\n\tstream.writeUint32(this.first_offset);\n\tstream.writeUint16(0);\n\tstream.writeUint16(this.references.length);\n\tfor (var i = 0; i < this.references.length; i++) {\n\t\tvar ref = this.references[i];\n\t\tstream.writeUint32(ref.reference_type << 31 | ref.referenced_size);\n\t\tstream.writeUint32(ref.subsegment_duration);\n\t\tstream.writeUint32(ref.starts_with_SAP << 31 | ref.SAP_type << 28 | ref.SAP_delta_time);\n\t}\n}\n\n// file:src/writing/smhd.js\nBoxParser.smhdBox.prototype.write = function(stream) {\n  var i;\n  this.version = 0;\n  this.flags = 1;\n  this.size = 4;\n  this.writeHeader(stream);\n  stream.writeUint16(this.balance);\n  stream.writeUint16(0);\n}\n// file:src/writing/stco.js\nBoxParser.stcoBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4+4*this.chunk_offsets.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.chunk_offsets.length);\n\tstream.writeUint32Array(this.chunk_offsets);\n}\n\n// file:src/writing/stsc.js\nBoxParser.stscBox.prototype.write = function(stream) {\n\tvar i;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4+12*this.first_chunk.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.first_chunk.length);\n\tfor(i=0; i<this.first_chunk.length; i++) {\n\t\tstream.writeUint32(this.first_chunk[i]);\n\t\tstream.writeUint32(this.samples_per_chunk[i]);\n\t\tstream.writeUint32(this.sample_description_index[i]);\n\t}\n}\n\n// file:src/writing/stsd.js\nBoxParser.stsdBox.prototype.write = function(stream) {\n\tvar i;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 0;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.entries.length);\n\tthis.size += 4;\n\tfor (i = 0; i < this.entries.length; i++) {\n\t\tthis.entries[i].write(stream);\n\t\tthis.size += this.entries[i].size;\n\t}\n\t/* adjusting the size, now that all sub-boxes are known */\n\tLog.debug(\"BoxWriter\", \"Adjusting box \"+this.type+\" with new size \"+this.size);\n\tstream.adjustUint32(this.sizePosition, this.size);\n}\n\n// file:src/writing/stsh.js\nBoxParser.stshBox.prototype.write = function(stream) {\n\tvar i;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4+8*this.shadowed_sample_numbers.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.shadowed_sample_numbers.length);\n\tfor(i=0; i<this.shadowed_sample_numbers.length; i++) {\n\t\tstream.writeUint32(this.shadowed_sample_numbers[i]);\n\t\tstream.writeUint32(this.sync_sample_numbers[i]);\n\t}\n}\n\n// file:src/writing/stss.js\nBoxParser.stssBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4+4*this.sample_numbers.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.sample_numbers.length);\n\tstream.writeUint32Array(this.sample_numbers);\n}\n\n// file:src/writing/stsz.js\nBoxParser.stszBox.prototype.write = function(stream) {\n\tvar i;\n\tvar constant = true;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tif (this.sample_sizes.length > 0) {\n\t\ti = 0;\n\t\twhile (i+1 < this.sample_sizes.length) {\n\t\t\tif (this.sample_sizes[i+1] !==  this.sample_sizes[0]) {\n\t\t\t\tconstant = false;\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\ti++;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tconstant = false;\n\t}\n\tthis.size = 8;\n\tif (!constant) {\n\t\tthis.size += 4*this.sample_sizes.length;\n\t}\n\tthis.writeHeader(stream);\n\tif (!constant) {\n\t\tstream.writeUint32(0);\n\t} else {\n\t\tstream.writeUint32(this.sample_sizes[0]);\n\t}\n\tstream.writeUint32(this.sample_sizes.length);\n\tif (!constant) {\n\t\tstream.writeUint32Array(this.sample_sizes);\n\t}\t\n}\n\n// file:src/writing/stts.js\nBoxParser.sttsBox.prototype.write = function(stream) {\n\tvar i;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4+8*this.sample_counts.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.sample_counts.length);\n\tfor(i=0; i<this.sample_counts.length; i++) {\n\t\tstream.writeUint32(this.sample_counts[i]);\n\t\tstream.writeUint32(this.sample_deltas[i]);\n\t}\n}\n\n// file:src/writing/tfdt.js\nBoxParser.tfdtBox.prototype.write = function(stream) {\n\tvar UINT32_MAX = Math.pow(2, 32) - 1;\n\t// use version 1 if baseMediaDecodeTime does not fit 32 bits\n\tthis.version = this.baseMediaDecodeTime > UINT32_MAX ? 1 : 0;\n\tthis.flags = 0;\n\tthis.size = 4;\n\tif (this.version === 1) {\n\t\tthis.size += 4;\n\t}\n\tthis.writeHeader(stream);\n\tif (this.version === 1) {\n\t\tstream.writeUint64(this.baseMediaDecodeTime);\n\t} else {\n\t\tstream.writeUint32(this.baseMediaDecodeTime);\n\t}\n}\n\n// file:src/writing/tfhd.js\nBoxParser.tfhdBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.size = 4;\n\tif (this.flags & BoxParser.TFHD_FLAG_BASE_DATA_OFFSET) {\n\t\tthis.size += 8;\n\t}\n\tif (this.flags & BoxParser.TFHD_FLAG_SAMPLE_DESC) {\n\t\tthis.size += 4;\n\t}\n\tif (this.flags & BoxParser.TFHD_FLAG_SAMPLE_DUR) {\n\t\tthis.size += 4;\n\t}\n\tif (this.flags & BoxParser.TFHD_FLAG_SAMPLE_SIZE) {\n\t\tthis.size += 4;\n\t}\n\tif (this.flags & BoxParser.TFHD_FLAG_SAMPLE_FLAGS) {\n\t\tthis.size += 4;\n\t}\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.track_id);\n\tif (this.flags & BoxParser.TFHD_FLAG_BASE_DATA_OFFSET) {\n\t\tstream.writeUint64(this.base_data_offset);\n\t}\n\tif (this.flags & BoxParser.TFHD_FLAG_SAMPLE_DESC) {\n\t\tstream.writeUint32(this.default_sample_description_index);\n\t}\n\tif (this.flags & BoxParser.TFHD_FLAG_SAMPLE_DUR) {\n\t\tstream.writeUint32(this.default_sample_duration);\n\t}\n\tif (this.flags & BoxParser.TFHD_FLAG_SAMPLE_SIZE) {\n\t\tstream.writeUint32(this.default_sample_size);\n\t}\n\tif (this.flags & BoxParser.TFHD_FLAG_SAMPLE_FLAGS) {\n\t\tstream.writeUint32(this.default_sample_flags);\n\t}\n}\n\n// file:src/writing/tkhd.js\nBoxParser.tkhdBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\t//this.flags = 0;\n\tthis.size = 4*18+2*4;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.creation_time);\n\tstream.writeUint32(this.modification_time);\n\tstream.writeUint32(this.track_id);\n\tstream.writeUint32(0);\n\tstream.writeUint32(this.duration);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeInt16(this.layer);\n\tstream.writeInt16(this.alternate_group);\n\tstream.writeInt16(this.volume<<8);\n\tstream.writeUint16(0);\n\tstream.writeInt32Array(this.matrix);\n\tstream.writeUint32(this.width);\n\tstream.writeUint32(this.height);\n}\n\n// file:src/writing/trex.js\nBoxParser.trexBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4*5;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.track_id);\n\tstream.writeUint32(this.default_sample_description_index);\n\tstream.writeUint32(this.default_sample_duration);\n\tstream.writeUint32(this.default_sample_size);\n\tstream.writeUint32(this.default_sample_flags);\n}\n\n// file:src/writing/trun.js\nBoxParser.trunBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.size = 4;\n\tif (this.flags & BoxParser.TRUN_FLAGS_DATA_OFFSET) {\n\t\tthis.size += 4;\n\t}\n\tif (this.flags & BoxParser.TRUN_FLAGS_FIRST_FLAG) {\n\t\tthis.size += 4;\n\t}\n\tif (this.flags & BoxParser.TRUN_FLAGS_DURATION) {\n\t\tthis.size += 4*this.sample_duration.length;\n\t}\n\tif (this.flags & BoxParser.TRUN_FLAGS_SIZE) {\n\t\tthis.size += 4*this.sample_size.length;\n\t}\n\tif (this.flags & BoxParser.TRUN_FLAGS_FLAGS) {\n\t\tthis.size += 4*this.sample_flags.length;\n\t}\n\tif (this.flags & BoxParser.TRUN_FLAGS_CTS_OFFSET) {\n\t\tthis.size += 4*this.sample_composition_time_offset.length;\n\t}\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.sample_count);\n\tif (this.flags & BoxParser.TRUN_FLAGS_DATA_OFFSET) {\n\t\tthis.data_offset_position = stream.getPosition();\n\t\tstream.writeInt32(this.data_offset); //signed\n\t}\n\tif (this.flags & BoxParser.TRUN_FLAGS_FIRST_FLAG) {\n\t\tstream.writeUint32(this.first_sample_flags);\n\t}\n\tfor (var i = 0; i < this.sample_count; i++) {\n\t\tif (this.flags & BoxParser.TRUN_FLAGS_DURATION) {\n\t\t\tstream.writeUint32(this.sample_duration[i]);\n\t\t}\n\t\tif (this.flags & BoxParser.TRUN_FLAGS_SIZE) {\n\t\t\tstream.writeUint32(this.sample_size[i]);\n\t\t}\n\t\tif (this.flags & BoxParser.TRUN_FLAGS_FLAGS) {\n\t\t\tstream.writeUint32(this.sample_flags[i]);\n\t\t}\n\t\tif (this.flags & BoxParser.TRUN_FLAGS_CTS_OFFSET) {\n\t\t\tif (this.version === 0) {\n\t\t\t\tstream.writeUint32(this.sample_composition_time_offset[i]);\n\t\t\t} else {\n\t\t\t\tstream.writeInt32(this.sample_composition_time_offset[i]); //signed\n\t\t\t}\n\t\t}\n\t}\t\t\n}\n\n// file:src/writing/url.js\nBoxParser[\"url Box\"].prototype.write = function(stream) {\n\tthis.version = 0;\t\n\tif (this.location) {\n\t\tthis.flags = 0;\n\t\tthis.size = this.location.length+1;\n\t} else {\n\t\tthis.flags = 0x000001;\n\t\tthis.size = 0;\n\t}\n\tthis.writeHeader(stream);\n\tif (this.location) {\n\t\tstream.writeCString(this.location);\n\t}\n}\n\n// file:src/writing/urn.js\nBoxParser[\"urn Box\"].prototype.write = function(stream) {\n\tthis.version = 0;\t\n\tthis.flags = 0;\n\tthis.size = this.name.length+1+(this.location ? this.location.length+1 : 0);\n\tthis.writeHeader(stream);\n\tstream.writeCString(this.name);\n\tif (this.location) {\n\t\tstream.writeCString(this.location);\n\t}\n}\n\n// file:src/writing/vmhd.js\nBoxParser.vmhdBox.prototype.write = function(stream) {\n\tvar i;\n\tthis.version = 0;\n\tthis.flags = 1;\n\tthis.size = 8;\n\tthis.writeHeader(stream);\n\tstream.writeUint16(this.graphicsmode);\n\tstream.writeUint16Array(this.opcolor);\n}\n\n// file:src/box-unpack.js\n/* \n * Copyright (c) Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nBoxParser.cttsBox.prototype.unpack = function(samples) {\n\tvar i, j, k;\n\tk = 0;\n\tfor (i = 0; i < this.sample_counts.length; i++) {\n\t\tfor (j = 0; j < this.sample_counts[i]; j++) {\n\t\t\tsamples[k].pts = samples[k].dts + this.sample_offsets[i];\n\t\t\tk++;\n\t\t}\n\t}\n}\n\nBoxParser.sttsBox.prototype.unpack = function(samples) {\n\tvar i, j, k;\n\tk = 0;\n\tfor (i = 0; i < this.sample_counts.length; i++) {\n\t\tfor (j = 0; j < this.sample_counts[i]; j++) {\n\t\t\tif (k === 0) {\n\t\t\t\tsamples[k].dts = 0;\n\t\t\t} else {\n\t\t\t\tsamples[k].dts = samples[k-1].dts + this.sample_deltas[i];\n\t\t\t}\n\t\t\tk++;\n\t\t}\n\t}\n}\n\nBoxParser.stcoBox.prototype.unpack = function(samples) {\n\tvar i;\n\tfor (i = 0; i < this.chunk_offsets.length; i++) {\n\t\tsamples[i].offset = this.chunk_offsets[i];\n\t}\n}\n\nBoxParser.stscBox.prototype.unpack = function(samples) {\n\tvar i, j, k, l, m;\n\tl = 0;\n\tm = 0;\n\tfor (i = 0; i < this.first_chunk.length; i++) {\n\t\tfor (j = 0; j < (i+1 < this.first_chunk.length ? this.first_chunk[i+1] : Infinity); j++) {\n\t\t\tm++;\n\t\t\tfor (k = 0; k < this.samples_per_chunk[i]; k++) {\n\t\t\t\tif (samples[l]) {\n\t\t\t\t\tsamples[l].description_index = this.sample_description_index[i];\n\t\t\t\t\tsamples[l].chunk_index = m;\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tl++;\n\t\t\t}\t\t\t\n\t\t}\n\t}\n}\n\nBoxParser.stszBox.prototype.unpack = function(samples) {\n\tvar i;\n\tfor (i = 0; i < this.sample_sizes.length; i++) {\n\t\tsamples[i].size = this.sample_sizes[i];\n\t}\n}\n// file:src/box-diff.js\n\nBoxParser.DIFF_BOXES_PROP_NAMES = [ \"boxes\", \"entries\", \"references\", \"subsamples\",\n\t\t\t\t\t \t \"items\", \"item_infos\", \"extents\", \"associations\",\n\t\t\t\t\t \t \"subsegments\", \"ranges\", \"seekLists\", \"seekPoints\",\n\t\t\t\t\t \t \"esd\", \"levels\"];\n\nBoxParser.DIFF_PRIMITIVE_ARRAY_PROP_NAMES = [ \"compatible_brands\", \"matrix\", \"opcolor\", \"sample_counts\", \"sample_counts\", \"sample_deltas\",\n\"first_chunk\", \"samples_per_chunk\", \"sample_sizes\", \"chunk_offsets\", \"sample_offsets\", \"sample_description_index\", \"sample_duration\" ];\n\nBoxParser.boxEqualFields = function(box_a, box_b) {\n\tif (box_a && !box_b) return false;\n\tvar prop;\n\tfor (prop in box_a) {\n\t\tif (BoxParser.DIFF_BOXES_PROP_NAMES.indexOf(prop) > -1) {\n\t\t\tcontinue;\n\t\t// } else if (excluded_fields && excluded_fields.indexOf(prop) > -1) {\n\t\t// \tcontinue;\n\t\t} else if (box_a[prop] instanceof BoxParser.Box || box_b[prop] instanceof BoxParser.Box) {\n\t\t\tcontinue;\n\t\t} else if (typeof box_a[prop] === \"undefined\" || typeof box_b[prop] === \"undefined\") {\n\t\t\tcontinue;\n\t\t} else if (typeof box_a[prop] === \"function\" || typeof box_b[prop] === \"function\") {\n\t\t\tcontinue;\n\t\t} else if (\n\t\t\t(box_a.subBoxNames && box_a.subBoxNames.indexOf(prop.slice(0,4)) > -1) ||\n\t\t\t(box_b.subBoxNames && box_b.subBoxNames.indexOf(prop.slice(0,4)) > -1))  {\n\t\t\tcontinue;\n\t\t} else {\n\t\t\tif (prop === \"data\" || prop === \"start\" || prop === \"size\" || prop === \"creation_time\" || prop === \"modification_time\") {\n\t\t\t\tcontinue;\n\t\t\t} else if (BoxParser.DIFF_PRIMITIVE_ARRAY_PROP_NAMES.indexOf(prop) > -1) {\n\t\t\t\tcontinue;\n\t\t\t} else {\n\t\t\t\tif (box_a[prop] !== box_b[prop]) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn true;\n}\n\nBoxParser.boxEqual = function(box_a, box_b) {\n\tif (!BoxParser.boxEqualFields(box_a, box_b)) {\n\t\treturn false;\n\t}\n\tfor (var j = 0; j < BoxParser.DIFF_BOXES_PROP_NAMES.length; j++) {\n\t\tvar name = BoxParser.DIFF_BOXES_PROP_NAMES[j];\n\t\tif (box_a[name] && box_b[name]) {\n\t\t\tif (!BoxParser.boxEqual(box_a[name], box_b[name])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\treturn true;\n}// file:src/text-mp4.js\n/* \n * Copyright (c) 2012-2013. Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nvar VTTin4Parser = function() {\t\n}\n\nVTTin4Parser.prototype.parseSample = function(data) {\n\tvar cues, cue;\n\tvar stream = new MP4BoxStream(data.buffer);\n\tcues = [];\n\twhile (!stream.isEos()) {\n\t\tcue = BoxParser.parseOneBox(stream, false);\n\t\tif (cue.code === BoxParser.OK && cue.box.type === \"vttc\") {\n\t\t\tcues.push(cue.box);\n\t\t}\t\t\n\t}\n\treturn cues;\n}\n\nVTTin4Parser.prototype.getText = function (startTime, endTime, data) {\n\tfunction pad(n, width, z) {\n\t  z = z || '0';\n\t  n = n + '';\n\t  return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;\n\t}\n\tfunction secToTimestamp(insec) {\n\t\tvar h = Math.floor(insec/3600);\n\t\tvar m = Math.floor((insec - h*3600)/60);\n\t\tvar s = Math.floor(insec - h*3600 - m*60);\n\t\tvar ms = Math.floor((insec - h*3600 - m*60 - s)*1000);\n\t\treturn \"\"+pad(h, 2)+\":\"+pad(m,2)+\":\"+pad(s, 2)+\".\"+pad(ms, 3);\n\t}\n\tvar cues = this.parseSample(data);\n\tvar string = \"\";\n\tfor (var i = 0; i < cues.length; i++) {\n\t\tvar cueIn4 = cues[i];\n\t\tstring += secToTimestamp(startTime)+\" --> \"+secToTimestamp(endTime)+\"\\r\\n\";\n\t\tstring += cueIn4.payl.text;\n\t}\n\treturn string;\n}\n\nvar XMLSubtitlein4Parser = function() {\t\n}\n\nXMLSubtitlein4Parser.prototype.parseSample = function(sample) {\n\tvar res = {};\t\n\tvar i;\n\tres.resources = [];\n\tvar stream = new MP4BoxStream(sample.data.buffer);\n\tif (!sample.subsamples || sample.subsamples.length === 0) {\n\t\tres.documentString = stream.readString(sample.data.length);\n\t} else {\n\t\tres.documentString = stream.readString(sample.subsamples[0].size);\n\t\tif (sample.subsamples.length > 1) {\n\t\t\tfor (i = 1; i < sample.subsamples.length; i++) {\n\t\t\t\tres.resources[i] = stream.readUint8Array(sample.subsamples[i].size);\n\t\t\t}\n\t\t}\n\t}\n\tif (typeof (DOMParser) !== \"undefined\") {\n\t\tres.document = (new DOMParser()).parseFromString(res.documentString, \"application/xml\");\n\t}\n\treturn res;\n}\n\nvar Textin4Parser = function() {\t\n}\n\nTextin4Parser.prototype.parseSample = function(sample) {\n\tvar textString;\n\tvar stream = new MP4BoxStream(sample.data.buffer);\n\ttextString = stream.readString(sample.data.length);\n\treturn textString;\n}\n\nTextin4Parser.prototype.parseConfig = function(data) {\n\tvar textString;\n\tvar stream = new MP4BoxStream(data.buffer);\n\tstream.readUint32(); // version & flags\n\ttextString = stream.readCString();\n\treturn textString;\n}\n\nif (typeof exports !== 'undefined') {\n\texports.XMLSubtitlein4Parser = XMLSubtitlein4Parser;\n\texports.Textin4Parser = Textin4Parser;\n}\n// file:src/isofile.js\n/*\n * Copyright (c) 2012-2013. Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nvar ISOFile = function (stream) {\n\t/* MutiBufferStream object used to parse boxes */\n\tthis.stream = stream || new MultiBufferStream();\n\t/* Array of all boxes (in order) found in the file */\n\tthis.boxes = [];\n\t/* Array of all mdats */\n\tthis.mdats = [];\n\t/* Array of all moofs */\n\tthis.moofs = [];\n\t/* Boolean indicating if the file is compatible with progressive parsing (moov first) */\n\tthis.isProgressive = false;\n\t/* Boolean used to fire moov start event only once */\n\tthis.moovStartFound = false;\n\t/* Callback called when the moov parsing starts */\n\tthis.onMoovStart = null;\n\t/* Boolean keeping track of the call to onMoovStart, to avoid double calls */\n\tthis.moovStartSent = false;\n\t/* Callback called when the moov is entirely parsed */\n\tthis.onReady = null;\n\t/* Boolean keeping track of the call to onReady, to avoid double calls */\n\tthis.readySent = false;\n\t/* Callback to call when segments are ready */\n\tthis.onSegment = null;\n\t/* Callback to call when samples are ready */\n\tthis.onSamples = null;\n\t/* Callback to call when there is an error in the parsing or processing of samples */\n\tthis.onError = null;\n\t/* Boolean indicating if the moov box run-length encoded tables of sample information have been processed */\n\tthis.sampleListBuilt = false;\n\t/* Array of Track objects for which fragmentation of samples is requested */\n\tthis.fragmentedTracks = [];\n\t/* Array of Track objects for which extraction of samples is requested */\n\tthis.extractedTracks = [];\n\t/* Boolean indicating that fragmention is ready */\n\tthis.isFragmentationInitialized = false;\n\t/* Boolean indicating that fragmented has started */\n\tthis.sampleProcessingStarted = false;\n\t/* Number of the next 'moof' to generate when fragmenting */\n\tthis.nextMoofNumber = 0;\n\t/* Boolean indicating if the initial list of items has been produced */\n\tthis.itemListBuilt = false;\n\t/* Callback called when the sidx box is entirely parsed */\n\tthis.onSidx = null;\n\t/* Boolean keeping track of the call to onSidx, to avoid double calls */\n\tthis.sidxSent = false;\n}\n\nISOFile.prototype.setSegmentOptions = function(id, user, options) {\n\tvar trak = this.getTrackById(id);\n\tif (trak) {\n\t\tvar fragTrack = {};\n\t\tthis.fragmentedTracks.push(fragTrack);\n\t\tfragTrack.id = id;\n\t\tfragTrack.user = user;\n\t\tfragTrack.trak = trak;\n\t\ttrak.nextSample = 0;\n\t\tfragTrack.segmentStream = null;\n\t\tfragTrack.nb_samples = 1000;\n\t\tfragTrack.rapAlignement = true;\n\t\tif (options) {\n\t\t\tif (options.nbSamples) fragTrack.nb_samples = options.nbSamples;\n\t\t\tif (options.rapAlignement) fragTrack.rapAlignement = options.rapAlignement;\n\t\t}\n\t}\n}\n\nISOFile.prototype.unsetSegmentOptions = function(id) {\n\tvar index = -1;\n\tfor (var i = 0; i < this.fragmentedTracks.length; i++) {\n\t\tvar fragTrack = this.fragmentedTracks[i];\n\t\tif (fragTrack.id == id) {\n\t\t\tindex = i;\n\t\t}\n\t}\n\tif (index > -1) {\n\t\tthis.fragmentedTracks.splice(index, 1);\n\t}\n}\n\nISOFile.prototype.setExtractionOptions = function(id, user, options) {\n\tvar trak = this.getTrackById(id);\n\tif (trak) {\n\t\tvar extractTrack = {};\n\t\tthis.extractedTracks.push(extractTrack);\n\t\textractTrack.id = id;\n\t\textractTrack.user = user;\n\t\textractTrack.trak = trak;\n\t\ttrak.nextSample = 0;\n\t\textractTrack.nb_samples = 1000;\n\t\textractTrack.samples = [];\n\t\tif (options) {\n\t\t\tif (options.nbSamples) extractTrack.nb_samples = options.nbSamples;\n\t\t}\n\t}\n}\n\nISOFile.prototype.unsetExtractionOptions = function(id) {\n\tvar index = -1;\n\tfor (var i = 0; i < this.extractedTracks.length; i++) {\n\t\tvar extractTrack = this.extractedTracks[i];\n\t\tif (extractTrack.id == id) {\n\t\t\tindex = i;\n\t\t}\n\t}\n\tif (index > -1) {\n\t\tthis.extractedTracks.splice(index, 1);\n\t}\n}\n\nISOFile.prototype.parse = function() {\n\tvar found;\n\tvar ret;\n\tvar box;\n\tvar parseBoxHeadersOnly = false;\n\n\tif (this.restoreParsePosition)\t{\n\t\tif (!this.restoreParsePosition()) {\n\t\t\treturn;\n\t\t}\n\t}\n\n\twhile (true) {\n\n\t\tif (this.hasIncompleteMdat && this.hasIncompleteMdat()) {\n\t\t\tif (this.processIncompleteMdat()) {\n\t\t\t\tcontinue;\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.saveParsePosition)\t{\n\t\t\t\tthis.saveParsePosition();\n\t\t\t}\n\t\t\tret = BoxParser.parseOneBox(this.stream, parseBoxHeadersOnly);\n\t\t\tif (ret.code === BoxParser.ERR_NOT_ENOUGH_DATA) {\n\t\t\t\tif (this.processIncompleteBox) {\n\t\t\t\t\tif (this.processIncompleteBox(ret)) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar box_type;\n\t\t\t\t/* the box is entirely parsed */\n\t\t\t\tbox = ret.box;\n\t\t\t\tbox_type = (box.type !== \"uuid\" ? box.type : box.uuid);\n\t\t\t\t/* store the box in the 'boxes' array to preserve box order (for file rewrite if needed)  */\n\t\t\t\tthis.boxes.push(box);\n\t\t\t\t/* but also store box in a property for more direct access */\n\t\t\t\tswitch (box_type) {\n\t\t\t\t\tcase \"mdat\":\n\t\t\t\t\t\tthis.mdats.push(box);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"moof\":\n\t\t\t\t\t\tthis.moofs.push(box);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"moov\":\n\t\t\t\t\t\tthis.moovStartFound = true;\n\t\t\t\t\t\tif (this.mdats.length === 0) {\n\t\t\t\t\t\t\tthis.isProgressive = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t/* no break */\n\t\t\t\t\t\t/* falls through */\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif (this[box_type] !== undefined) {\n\t\t\t\t\t\t\tLog.warn(\"ISOFile\", \"Duplicate Box of type: \"+box_type+\", overriding previous occurrence\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis[box_type] = box;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (this.updateUsedBytes) {\n\t\t\t\t\tthis.updateUsedBytes(box, ret);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nISOFile.prototype.checkBuffer = function (ab) {\n\tif (ab === null || ab === undefined) {\n\t\tthrow(\"Buffer must be defined and non empty\");\n\t}\n\tif (ab.fileStart === undefined) {\n\t\tthrow(\"Buffer must have a fileStart property\");\n\t}\n\tif (ab.byteLength === 0) {\n\t\tLog.warn(\"ISOFile\", \"Ignoring empty buffer (fileStart: \"+ab.fileStart+\")\");\n\t\tthis.stream.logBufferLevel();\n\t\treturn false;\n\t}\n\tLog.info(\"ISOFile\", \"Processing buffer (fileStart: \"+ab.fileStart+\")\");\n\n\t/* mark the bytes in the buffer as not being used yet */\n\tab.usedBytes = 0;\n\tthis.stream.insertBuffer(ab);\n\tthis.stream.logBufferLevel();\n\n\tif (!this.stream.initialized()) {\n\t\tLog.warn(\"ISOFile\", \"Not ready to start parsing\");\n\t\treturn false;\n\t}\n\treturn true;\n}\n\n/* Processes a new ArrayBuffer (with a fileStart property)\n   Returns the next expected file position, or undefined if not ready to parse */\nISOFile.prototype.appendBuffer = function(ab, last) {\n\tvar nextFileStart;\n\tif (!this.checkBuffer(ab)) {\n\t\treturn;\n\t}\n\n\t/* Parse whatever is in the existing buffers */\n\tthis.parse();\n\n\t/* Check if the moovStart callback needs to be called */\n\tif (this.moovStartFound && !this.moovStartSent) {\n\t\tthis.moovStartSent = true;\n\t\tif (this.onMoovStart) this.onMoovStart();\n\t}\n\n\tif (this.moov) {\n\t\t/* A moov box has been entirely parsed */\n\n\t\t/* if this is the first call after the moov is found we initialize the list of samples (may be empty in fragmented files) */\n\t\tif (!this.sampleListBuilt) {\n\t\t\tthis.buildSampleLists();\n\t\t\tthis.sampleListBuilt = true;\n\t\t}\n\n\t\t/* We update the sample information if there are any new moof boxes */\n\t\tthis.updateSampleLists();\n\n\t\t/* If the application needs to be informed that the 'moov' has been found,\n\t\t   we create the information object and callback the application */\n\t\tif (this.onReady && !this.readySent) {\n\t\t\tthis.readySent = true;\n\t\t\tthis.onReady(this.getInfo());\n\t\t}\n\n\t\t/* See if any sample extraction or segment creation needs to be done with the available samples */\n\t\tthis.processSamples(last);\n\n\t\t/* Inform about the best range to fetch next */\n\t\tif (this.nextSeekPosition) {\n\t\t\tnextFileStart = this.nextSeekPosition;\n\t\t\tthis.nextSeekPosition = undefined;\n\t\t} else {\n\t\t\tnextFileStart = this.nextParsePosition;\n\t\t}\n\t\tif (this.stream.getEndFilePositionAfter) {\n\t\t\tnextFileStart = this.stream.getEndFilePositionAfter(nextFileStart);\n\t\t}\n\t} else {\n\t\tif (this.nextParsePosition) {\n\t\t\t/* moov has not been parsed but the first buffer was received,\n\t\t\t   the next fetch should probably be the next box start */\n\t\t\tnextFileStart = this.nextParsePosition;\n\t\t} else {\n\t\t\t/* No valid buffer has been parsed yet, we cannot know what to parse next */\n\t\t\tnextFileStart = 0;\n\t\t}\n\t}\n\tif (this.sidx) {\n\t\tif (this.onSidx && !this.sidxSent) {\n\t\t\tthis.onSidx(this.sidx);\n\t\t\tthis.sidxSent = true;\n\t\t}\n\t}\n\tif (this.meta) {\n\t\tif (this.flattenItemInfo && !this.itemListBuilt) {\n\t\t\tthis.flattenItemInfo();\n\t\t\tthis.itemListBuilt = true;\n\t\t}\n\t\tif (this.processItems) {\n\t\t\tthis.processItems(this.onItem);\n\t\t}\n\t}\n\n\tif (this.stream.cleanBuffers) {\n\t\tLog.info(\"ISOFile\", \"Done processing buffer (fileStart: \"+ab.fileStart+\") - next buffer to fetch should have a fileStart position of \"+nextFileStart);\n\t\tthis.stream.logBufferLevel();\n\t\tthis.stream.cleanBuffers();\n\t\tthis.stream.logBufferLevel(true);\n\t\tLog.info(\"ISOFile\", \"Sample data size in memory: \"+this.getAllocatedSampleDataSize());\n\t}\n\treturn nextFileStart;\n}\n\nISOFile.prototype.getInfo = function() {\n\tvar i, j;\n\tvar movie = {};\n\tvar trak;\n\tvar track;\n\tvar ref;\n\tvar sample_desc;\n\tvar _1904 = (new Date('1904-01-01T00:00:00Z').getTime());\n\n\tif (this.moov) {\n\t\tmovie.hasMoov = true;\n\t\tmovie.duration = this.moov.mvhd.duration;\n\t\tmovie.timescale = this.moov.mvhd.timescale;\n\t\tmovie.isFragmented = (this.moov.mvex != null);\n\t\tif (movie.isFragmented && this.moov.mvex.mehd) {\n\t\t\tmovie.fragment_duration = this.moov.mvex.mehd.fragment_duration;\n\t\t}\n\t\tmovie.isProgressive = this.isProgressive;\n\t\tmovie.hasIOD = (this.moov.iods != null);\n\t\tmovie.brands = [];\n\t\tmovie.brands.push(this.ftyp.major_brand);\n\t\tmovie.brands = movie.brands.concat(this.ftyp.compatible_brands);\n\t\tmovie.created = new Date(_1904+this.moov.mvhd.creation_time*1000);\n\t\tmovie.modified = new Date(_1904+this.moov.mvhd.modification_time*1000);\n\t\tmovie.tracks = [];\n\t\tmovie.audioTracks = [];\n\t\tmovie.videoTracks = [];\n\t\tmovie.subtitleTracks = [];\n\t\tmovie.metadataTracks = [];\n\t\tmovie.hintTracks = [];\n\t\tmovie.otherTracks = [];\n\t\tfor (i = 0; i < this.moov.traks.length; i++) {\n\t\t\ttrak = this.moov.traks[i];\n\t\t\tsample_desc = trak.mdia.minf.stbl.stsd.entries[0];\n\t\t\ttrack = {};\n\t\t\tmovie.tracks.push(track);\n\t\t\ttrack.id = trak.tkhd.track_id;\n\t\t\ttrack.name = trak.mdia.hdlr.name;\n\t\t\ttrack.references = [];\n\t\t\tif (trak.tref) {\n\t\t\t\tfor (j = 0; j < trak.tref.boxes.length; j++) {\n\t\t\t\t\tref = {};\n\t\t\t\t\ttrack.references.push(ref);\n\t\t\t\t\tref.type = trak.tref.boxes[j].type;\n\t\t\t\t\tref.track_ids = trak.tref.boxes[j].track_ids;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (trak.edts) {\n\t\t\t\ttrack.edits = trak.edts.elst.entries;\n\t\t\t}\n\t\t\ttrack.created = new Date(_1904+trak.tkhd.creation_time*1000);\n\t\t\ttrack.modified = new Date(_1904+trak.tkhd.modification_time*1000);\n\t\t\ttrack.movie_duration = trak.tkhd.duration;\n\t\t\ttrack.movie_timescale = movie.timescale;\n\t\t\ttrack.layer = trak.tkhd.layer;\n\t\t\ttrack.alternate_group = trak.tkhd.alternate_group;\n\t\t\ttrack.volume = trak.tkhd.volume;\n\t\t\ttrack.matrix = trak.tkhd.matrix;\n\t\t\ttrack.track_width = trak.tkhd.width/(1<<16);\n\t\t\ttrack.track_height = trak.tkhd.height/(1<<16);\n\t\t\ttrack.timescale = trak.mdia.mdhd.timescale;\n\t\t\ttrack.cts_shift = trak.mdia.minf.stbl.cslg;\n\t\t\ttrack.duration = trak.mdia.mdhd.duration;\n\t\t\ttrack.samples_duration = trak.samples_duration;\n\t\t\ttrack.codec = sample_desc.getCodec();\n\t\t\ttrack.kind = (trak.udta && trak.udta.kinds.length ? trak.udta.kinds[0] : { schemeURI: \"\", value: \"\"});\n\t\t\ttrack.language = (trak.mdia.elng ? trak.mdia.elng.extended_language : trak.mdia.mdhd.languageString);\n\t\t\ttrack.nb_samples = trak.samples.length;\n\t\t\ttrack.size = trak.samples_size;\n\t\t\ttrack.bitrate = (track.size*8*track.timescale)/track.samples_duration;\n\t\t\tif (sample_desc.isAudio()) {\n\t\t\t\ttrack.type = \"audio\";\n\t\t\t\tmovie.audioTracks.push(track);\n\t\t\t\ttrack.audio = {};\n\t\t\t\ttrack.audio.sample_rate = sample_desc.getSampleRate();\n\t\t\t\ttrack.audio.channel_count = sample_desc.getChannelCount();\n\t\t\t\ttrack.audio.sample_size = sample_desc.getSampleSize();\n\t\t\t} else if (sample_desc.isVideo()) {\n\t\t\t\ttrack.type = \"video\";\n\t\t\t\tmovie.videoTracks.push(track);\n\t\t\t\ttrack.video = {};\n\t\t\t\ttrack.video.width = sample_desc.getWidth();\n\t\t\t\ttrack.video.height = sample_desc.getHeight();\n\t\t\t} else if (sample_desc.isSubtitle()) {\n\t\t\t\ttrack.type = \"subtitles\";\n\t\t\t\tmovie.subtitleTracks.push(track);\n\t\t\t} else if (sample_desc.isHint()) {\n\t\t\t\ttrack.type = \"metadata\";\n\t\t\t\tmovie.hintTracks.push(track);\n\t\t\t} else if (sample_desc.isMetadata()) {\n\t\t\t\ttrack.type = \"metadata\";\n\t\t\t\tmovie.metadataTracks.push(track);\n\t\t\t} else {\n\t\t\t\ttrack.type = \"metadata\";\n\t\t\t\tmovie.otherTracks.push(track);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tmovie.hasMoov = false;\n\t}\n\tmovie.mime = \"\";\n\tif (movie.hasMoov && movie.tracks) {\n\t\tif (movie.videoTracks && movie.videoTracks.length > 0) {\n\t\t\tmovie.mime += 'video/mp4; codecs=\\\"';\n\t\t} else if (movie.audioTracks && movie.audioTracks.length > 0) {\n\t\t\tmovie.mime += 'audio/mp4; codecs=\\\"';\n\t\t} else {\n\t\t\tmovie.mime += 'application/mp4; codecs=\\\"';\n\t\t}\n\t\tfor (i = 0; i < movie.tracks.length; i++) {\n\t\t\tif (i !== 0) movie.mime += ',';\n\t\t\tmovie.mime+= movie.tracks[i].codec;\n\t\t}\n\t\tmovie.mime += '\\\"; profiles=\\\"';\n\t\tmovie.mime += this.ftyp.compatible_brands.join();\n\t\tmovie.mime += '\\\"';\n\t}\n\treturn movie;\n}\n\nISOFile.prototype.processSamples = function(last) {\n\tvar i;\n\tvar trak;\n\tif (!this.sampleProcessingStarted) return;\n\n\t/* For each track marked for fragmentation,\n\t   check if the next sample is there (i.e. if the sample information is known (i.e. moof has arrived) and if it has been downloaded)\n\t   and create a fragment with it */\n\tif (this.isFragmentationInitialized && this.onSegment !== null) {\n\t\tfor (i = 0; i < this.fragmentedTracks.length; i++) {\n\t\t\tvar fragTrak = this.fragmentedTracks[i];\n\t\t\ttrak = fragTrak.trak;\n\t\t\twhile (trak.nextSample < trak.samples.length && this.sampleProcessingStarted) {\n\t\t\t\t/* The sample information is there (either because the file is not fragmented and this is not the last sample,\n\t\t\t\tor because the file is fragmented and the moof for that sample has been received */\n\t\t\t\tLog.debug(\"ISOFile\", \"Creating media fragment on track #\"+fragTrak.id +\" for sample \"+trak.nextSample);\n\t\t\t\tvar result = this.createFragment(fragTrak.id, trak.nextSample, fragTrak.segmentStream);\n\t\t\t\tif (result) {\n\t\t\t\t\tfragTrak.segmentStream = result;\n\t\t\t\t\ttrak.nextSample++;\n\t\t\t\t} else {\n\t\t\t\t\t/* The fragment could not be created because the media data is not there (not downloaded), wait for it */\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t/* A fragment is created by sample, but the segment is the accumulation in the buffer of these fragments.\n\t\t\t\t   It is flushed only as requested by the application (nb_samples) to avoid too many callbacks */\n\t\t\t\tif (trak.nextSample % fragTrak.nb_samples === 0 || (last || trak.nextSample >= trak.samples.length)) {\n\t\t\t\t\tLog.info(\"ISOFile\", \"Sending fragmented data on track #\"+fragTrak.id+\" for samples [\"+Math.max(0,trak.nextSample-fragTrak.nb_samples)+\",\"+(trak.nextSample-1)+\"]\");\n\t\t\t\t\tLog.info(\"ISOFile\", \"Sample data size in memory: \"+this.getAllocatedSampleDataSize());\n\t\t\t\t\tif (this.onSegment) {\n\t\t\t\t\t\tthis.onSegment(fragTrak.id, fragTrak.user, fragTrak.segmentStream.buffer, trak.nextSample, (last || trak.nextSample >= trak.samples.length));\n\t\t\t\t\t}\n\t\t\t\t\t/* force the creation of a new buffer */\n\t\t\t\t\tfragTrak.segmentStream = null;\n\t\t\t\t\tif (fragTrak !== this.fragmentedTracks[i]) {\n\t\t\t\t\t\t/* make sure we can stop fragmentation if needed */\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tif (this.onSamples !== null) {\n\t\t/* For each track marked for data export,\n\t\t   check if the next sample is there (i.e. has been downloaded) and send it */\n\t\tfor (i = 0; i < this.extractedTracks.length; i++) {\n\t\t\tvar extractTrak = this.extractedTracks[i];\n\t\t\ttrak = extractTrak.trak;\n\t\t\twhile (trak.nextSample < trak.samples.length && this.sampleProcessingStarted) {\n\t\t\t\tLog.debug(\"ISOFile\", \"Exporting on track #\"+extractTrak.id +\" sample #\"+trak.nextSample);\n\t\t\t\tvar sample = this.getSample(trak, trak.nextSample);\n\t\t\t\tif (sample) {\n\t\t\t\t\ttrak.nextSample++;\n\t\t\t\t\textractTrak.samples.push(sample);\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (trak.nextSample % extractTrak.nb_samples === 0 || trak.nextSample >= trak.samples.length) {\n\t\t\t\t\tLog.debug(\"ISOFile\", \"Sending samples on track #\"+extractTrak.id+\" for sample \"+trak.nextSample);\n\t\t\t\t\tif (this.onSamples) {\n\t\t\t\t\t\tthis.onSamples(extractTrak.id, extractTrak.user, extractTrak.samples);\n\t\t\t\t\t}\n\t\t\t\t\textractTrak.samples = [];\n\t\t\t\t\tif (extractTrak !== this.extractedTracks[i]) {\n\t\t\t\t\t\t/* check if the extraction needs to be stopped */\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* Find and return specific boxes using recursion and early return */\nISOFile.prototype.getBox = function(type) {\n  var result = this.getBoxes(type, true);\n  return (result.length ? result[0] : null);\n}\n\nISOFile.prototype.getBoxes = function(type, returnEarly) {\n  var result = [];\n  ISOFile._sweep.call(this, type, result, returnEarly);\n  return result;\n}\n\nISOFile._sweep = function(type, result, returnEarly) {\n  if (this.type && this.type == type) result.push(this);\n  for (var box in this.boxes) {\n    if (result.length && returnEarly) return;\n    ISOFile._sweep.call(this.boxes[box], type, result, returnEarly);\n  }\n}\n\nISOFile.prototype.getTrackSamplesInfo = function(track_id) {\n\tvar track = this.getTrackById(track_id);\n\tif (track) {\n\t\treturn track.samples;\n\t} else {\n\t\treturn;\n\t}\n}\n\nISOFile.prototype.getTrackSample = function(track_id, number) {\n\tvar track = this.getTrackById(track_id);\n\tvar sample = this.getSample(track, number);\n\treturn sample;\n}\n\n/* Called by the application to release the resources associated to samples already forwarded to the application */\nISOFile.prototype.releaseUsedSamples = function (id, sampleNum) {\n\tvar size = 0;\n\tvar trak = this.getTrackById(id);\n\tif (!trak.lastValidSample) trak.lastValidSample = 0;\n\tfor (var i = trak.lastValidSample; i < sampleNum; i++) {\n\t\tsize+=this.releaseSample(trak, i);\n\t}\n\tLog.info(\"ISOFile\", \"Track #\"+id+\" released samples up to \"+sampleNum+\" (released size: \"+size+\", remaining: \"+this.samplesDataSize+\")\");\n\ttrak.lastValidSample = sampleNum;\n}\n\nISOFile.prototype.start = function() {\n\tthis.sampleProcessingStarted = true;\n\tthis.processSamples(false);\n}\n\nISOFile.prototype.stop = function() {\n\tthis.sampleProcessingStarted = false;\n}\n\n/* Called by the application to flush the remaining samples (e.g. once the download is finished or when no more samples will be added) */\nISOFile.prototype.flush = function() {\n\tLog.info(\"ISOFile\", \"Flushing remaining samples\");\n\tthis.updateSampleLists();\n\tthis.processSamples(true);\n\tthis.stream.cleanBuffers();\n\tthis.stream.logBufferLevel(true);\n}\n\n/* Finds the byte offset for a given time on a given track\n   also returns the time of the previous rap */\nISOFile.prototype.seekTrack = function(time, useRap, trak) {\n\tvar j;\n\tvar sample;\n\tvar seek_offset = Infinity;\n\tvar rap_seek_sample_num = 0;\n\tvar seek_sample_num = 0;\n\tvar timescale;\n\n\tif (trak.samples.length === 0) {\n\t\tLog.info(\"ISOFile\", \"No sample in track, cannot seek! Using time \"+Log.getDurationString(0, 1) +\" and offset: \"+0);\n\t\treturn { offset: 0, time: 0 };\n\t}\n\n\tfor (j = 0; j < trak.samples.length; j++) {\n\t\tsample = trak.samples[j];\n\t\tif (j === 0) {\n\t\t\tseek_sample_num = 0;\n\t\t\ttimescale = sample.timescale;\n\t\t} else if (sample.cts > time * sample.timescale) {\n\t\t\tseek_sample_num = j-1;\n\t\t\tbreak;\n\t\t}\n\t\tif (useRap && sample.is_sync) {\n\t\t\trap_seek_sample_num = j;\n\t\t}\n\t}\n\tif (useRap) {\n\t\tseek_sample_num = rap_seek_sample_num;\n\t}\n\ttime = trak.samples[seek_sample_num].cts;\n\ttrak.nextSample = seek_sample_num;\n\twhile (trak.samples[seek_sample_num].alreadyRead === trak.samples[seek_sample_num].size) {\n\t\t// No remaining samples to look for, all are downloaded.\n\t\tif (!trak.samples[seek_sample_num + 1]) {\n\t\t\tbreak;\n\t\t}\n\t\tseek_sample_num++;\n\t}\n\tseek_offset = trak.samples[seek_sample_num].offset+trak.samples[seek_sample_num].alreadyRead;\n\tLog.info(\"ISOFile\", \"Seeking to \"+(useRap ? \"RAP\": \"\")+\" sample #\"+trak.nextSample+\" on track \"+trak.tkhd.track_id+\", time \"+Log.getDurationString(time, timescale) +\" and offset: \"+seek_offset);\n\treturn { offset: seek_offset, time: time/timescale };\n}\n\n/* Finds the byte offset in the file corresponding to the given time or to the time of the previous RAP */\nISOFile.prototype.seek = function(time, useRap) {\n\tvar moov = this.moov;\n\tvar trak;\n\tvar trak_seek_info;\n\tvar i;\n\tvar seek_info = { offset: Infinity, time: Infinity };\n\tif (!this.moov) {\n\t\tthrow \"Cannot seek: moov not received!\";\n\t} else {\n\t\tfor (i = 0; i<moov.traks.length; i++) {\n\t\t\ttrak = moov.traks[i];\n\t\t\ttrak_seek_info = this.seekTrack(time, useRap, trak);\n\t\t\tif (trak_seek_info.offset < seek_info.offset) {\n\t\t\t\tseek_info.offset = trak_seek_info.offset;\n\t\t\t}\n\t\t\tif (trak_seek_info.time < seek_info.time) {\n\t\t\t\tseek_info.time = trak_seek_info.time;\n\t\t\t}\n\t\t}\n\t\tLog.info(\"ISOFile\", \"Seeking at time \"+Log.getDurationString(seek_info.time, 1)+\" needs a buffer with a fileStart position of \"+seek_info.offset);\n\t\tif (seek_info.offset === Infinity) {\n\t\t\t/* No sample info, in all tracks, cannot seek */\n\t\t\tseek_info = { offset: this.nextParsePosition, time: 0 };\n\t\t} else {\n\t\t\t/* check if the seek position is already in some buffer and\n\t\t\t in that case return the end of that buffer (or of the last contiguous buffer) */\n\t\t\t/* TODO: Should wait until append operations are done */\n\t\t\tseek_info.offset = this.stream.getEndFilePositionAfter(seek_info.offset);\n\t\t}\n\t\tLog.info(\"ISOFile\", \"Adjusted seek position (after checking data already in buffer): \"+seek_info.offset);\n\t\treturn seek_info;\n\t}\n}\n\nISOFile.prototype.equal = function(b) {\n\tvar box_index = 0;\n\twhile (box_index < this.boxes.length && box_index < b.boxes.length) {\n\t\tvar a_box = this.boxes[box_index];\n\t\tvar b_box = b.boxes[box_index];\n\t\tif (!BoxParser.boxEqual(a_box, b_box)) {\n\t\t\treturn false;\n\t\t}\n\t\tbox_index++;\n\t}\n\treturn true;\n}\n\nif (typeof exports !== 'undefined') {\n\texports.ISOFile = ISOFile;\n}\n// file:src/isofile-advanced-parsing.js\n/* position in the current buffer of the beginning of the last box parsed */\nISOFile.prototype.lastBoxStartPosition = 0;\n/* indicator if the parsing is stuck in the middle of an mdat box */\nISOFile.prototype.parsingMdat = null;\n/* next file position that the parser needs:\n    - 0 until the first buffer (i.e. fileStart ===0) has been received \n    - otherwise, the next box start until the moov box has been parsed\n    - otherwise, the position of the next sample to fetch\n */\nISOFile.prototype.nextParsePosition = 0;\n/* keep mdat data */\nISOFile.prototype.discardMdatData = false;\n\nISOFile.prototype.processIncompleteBox = function(ret) {\n\tvar box;\n\tvar merged;\n\tvar found;\n\t\n\t/* we did not have enough bytes in the current buffer to parse the entire box */\n\tif (ret.type === \"mdat\") { \n\t\t/* we had enough bytes to get its type and size and it's an 'mdat' */\n\t\t\n\t\t/* special handling for mdat boxes, since we don't actually need to parse it linearly \n\t\t   we create the box */\n\t\tbox = new BoxParser[ret.type+\"Box\"](ret.size);\t\n\t\tthis.parsingMdat = box;\n\t\tthis.boxes.push(box);\n\t\tthis.mdats.push(box);\t\t\t\n\t\tbox.start = ret.start;\n\t\tbox.hdr_size = ret.hdr_size;\n\t\tthis.stream.addUsedBytes(box.hdr_size);\n\n\t\t/* indicate that the parsing should start from the end of the box */\n\t\tthis.lastBoxStartPosition = box.start + box.size;\n \t\t/* let's see if we have the end of the box in the other buffers */\n\t\tfound = this.stream.seek(box.start + box.size, false, this.discardMdatData);\n\t\tif (found) {\n\t\t\t/* found the end of the box */\n\t\t\tthis.parsingMdat = null;\n\t\t\t/* let's see if we can parse more in this buffer */\n\t\t\treturn true;\n\t\t} else {\n\t\t\t/* 'mdat' end not found in the existing buffers */\n\t\t\t/* determine the next position in the file to start parsing from */\n\t\t\tif (!this.moovStartFound) {\n\t\t\t\t/* moov not find yet, \n\t\t\t\t   the file probably has 'mdat' at the beginning, and 'moov' at the end, \n\t\t\t\t   indicate that the downloader should not try to download those bytes now */\n\t\t\t\tthis.nextParsePosition = box.start + box.size;\n\t\t\t} else {\n\t\t\t\t/* we have the start of the moov box, \n\t\t\t\t   the next bytes should try to complete the current 'mdat' */\n\t\t\t\tthis.nextParsePosition = this.stream.findEndContiguousBuf();\n\t\t\t}\n\t\t\t/* not much we can do, wait for more buffers to arrive */\n\t\t\treturn false;\n\t\t}\n\t} else {\n\t\t/* box is incomplete, we may not even know its type */\n\t\tif (ret.type === \"moov\") { \n\t\t\t/* the incomplete box is a 'moov' box */\n\t\t\tthis.moovStartFound = true;\n\t\t\tif (this.mdats.length === 0) {\n\t\t\t\tthis.isProgressive = true;\n\t\t\t}\n\t\t}\n\t\t/* either it's not an mdat box (and we need to parse it, we cannot skip it)\n\t\t   (TODO: we could skip 'free' boxes ...)\n\t\t\t   or we did not have enough data to parse the type and size of the box, \n\t\t   we try to concatenate the current buffer with the next buffer to restart parsing */\n\t\tmerged = (this.stream.mergeNextBuffer ? this.stream.mergeNextBuffer() : false);\n\t\tif (merged) {\n\t\t\t/* The next buffer was contiguous, the merging succeeded,\n\t\t\t   we can now continue parsing, \n\t\t\t   the next best position to parse is at the end of this new buffer */\n\t\t\tthis.nextParsePosition = this.stream.getEndPosition();\n\t\t\treturn true;\n\t\t} else {\n\t\t\t/* we cannot concatenate existing buffers because they are not contiguous or because there is no additional buffer */\n\t\t\t/* The next best position to parse is still at the end of this old buffer */\n\t\t\tif (!ret.type) {\n\t\t\t\t/* There were not enough bytes in the buffer to parse the box type and length,\n\t\t\t\t   the next fetch should retrieve those missing bytes, i.e. the next bytes after this buffer */\n\t\t\t\tthis.nextParsePosition = this.stream.getEndPosition();\n\t\t\t} else {\n\t\t\t\t/* we had enough bytes to parse size and type of the incomplete box\n\t\t\t\t   if we haven't found yet the moov box, skip this one and try the next one \n\t\t\t\t   if we have found the moov box, let's continue linear parsing */\n\t\t\t\tif (this.moovStartFound) {\n\t\t\t\t\tthis.nextParsePosition = this.stream.getEndPosition();\n\t\t\t\t} else {\n\t\t\t\t\tthis.nextParsePosition = this.stream.getPosition() + ret.size;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t}\n}\n\nISOFile.prototype.hasIncompleteMdat = function () {\n\treturn (this.parsingMdat !== null);\n}\n\nISOFile.prototype.processIncompleteMdat = function () {\n\tvar box;\n\tvar found;\n\t\n\t/* we are in the parsing of an incomplete mdat box */\n\tbox = this.parsingMdat;\n\n\tfound = this.stream.seek(box.start + box.size, false, this.discardMdatData);\n\tif (found) {\n\t\tLog.debug(\"ISOFile\", \"Found 'mdat' end in buffered data\");\n\t\t/* the end of the mdat has been found */ \n\t\tthis.parsingMdat = null;\n\t\t/* we can parse more in this buffer */\n\t\treturn true;\n\t} else {\n\t\t/* we don't have the end of this mdat yet, \n\t\t   indicate that the next byte to fetch is the end of the buffers we have so far, \n\t\t   return and wait for more buffer to come */\n\t\tthis.nextParsePosition = this.stream.findEndContiguousBuf();\n\t\treturn false;\n\t}\n}\n\nISOFile.prototype.restoreParsePosition = function() {\n\t/* Reposition at the start position of the previous box not entirely parsed */\n\treturn this.stream.seek(this.lastBoxStartPosition, true, this.discardMdatData);\n}\n\nISOFile.prototype.saveParsePosition = function() {\n\t/* remember the position of the box start in case we need to roll back (if the box is incomplete) */\n\tthis.lastBoxStartPosition = this.stream.getPosition();\t\n}\n\nISOFile.prototype.updateUsedBytes = function(box, ret) {\n\tif (this.stream.addUsedBytes) {\n\t\tif (box.type === \"mdat\") {\n\t\t\t/* for an mdat box, only its header is considered used, other bytes will be used when sample data is requested */\n\t\t\tthis.stream.addUsedBytes(box.hdr_size);\n\t\t\tif (this.discardMdatData) {\n\t\t\t\tthis.stream.addUsedBytes(box.size-box.hdr_size);\n\t\t\t}\n\t\t} else {\n\t\t\t/* for all other boxes, the entire box data is considered used */\n\t\t\tthis.stream.addUsedBytes(box.size);\n\t\t}\t\n\t}\n}\n// file:src/isofile-advanced-creation.js\nISOFile.prototype.add = BoxParser.Box.prototype.add;\nISOFile.prototype.addBox = BoxParser.Box.prototype.addBox;\n\nISOFile.prototype.init = function (_options) {\n\tvar options = _options || {}; \n\tvar ftyp = this.add(\"ftyp\").set(\"major_brand\", (options.brands && options.brands[0]) || \"iso4\")\n\t\t\t\t\t\t\t   .set(\"minor_version\", 0)\n\t\t\t\t\t\t\t   .set(\"compatible_brands\", options.brands || [\"iso4\"]);\n\tvar moov = this.add(\"moov\");\n\tmoov.add(\"mvhd\").set(\"timescale\", options.timescale || 600)\n\t\t\t\t\t.set(\"rate\", options.rate || 1<<16)\n\t\t\t\t\t.set(\"creation_time\", 0)\n\t\t\t\t\t.set(\"modification_time\", 0)\n\t\t\t\t\t.set(\"duration\", options.duration || 0)\n\t\t\t\t\t.set(\"volume\", (options.width) ? 0 : 0x0100)\n\t\t\t\t\t.set(\"matrix\", [ 1<<16, 0, 0, 0, 1<<16, 0, 0, 0, 0x40000000])\n\t\t\t\t\t.set(\"next_track_id\", 1);\n\tmoov.add(\"mvex\");\n\treturn this;\n}\n\nISOFile.prototype.addTrack = function (_options) {\n\tif (!this.moov) {\n\t\tthis.init(_options);\n\t}\n\n\tvar options = _options || {}; \n\toptions.width = options.width || 320;\n\toptions.height = options.height || 320;\n\toptions.id = options.id || this.moov.mvhd.next_track_id;\n\toptions.type = options.type || \"avc1\";\n\n\tvar trak = this.moov.add(\"trak\");\n\tthis.moov.mvhd.next_track_id = options.id+1;\n\ttrak.add(\"tkhd\").set(\"flags\",BoxParser.TKHD_FLAG_ENABLED | \n\t\t\t\t\t\t\t\t BoxParser.TKHD_FLAG_IN_MOVIE | \n\t\t\t\t\t\t\t\t BoxParser.TKHD_FLAG_IN_PREVIEW)\n\t\t\t\t\t.set(\"creation_time\",0)\n\t\t\t\t\t.set(\"modification_time\", 0)\n\t\t\t\t\t.set(\"track_id\", options.id)\n\t\t\t\t\t.set(\"duration\", options.duration || 0)\n\t\t\t\t\t.set(\"layer\", options.layer || 0)\n\t\t\t\t\t.set(\"alternate_group\", 0)\n\t\t\t\t\t.set(\"volume\", 1)\n\t\t\t\t\t.set(\"matrix\", [ 0, 0, 0, 0, 0, 0, 0, 0, 0 ])\n\t\t\t\t\t.set(\"width\", options.width << 16)\n\t\t\t\t\t.set(\"height\", options.height << 16);\n\n\tvar mdia = trak.add(\"mdia\");\n\tmdia.add(\"mdhd\").set(\"creation_time\", 0)\n\t\t\t\t\t.set(\"modification_time\", 0)\n\t\t\t\t\t.set(\"timescale\", options.timescale || 1)\n\t\t\t\t\t.set(\"duration\", options.media_duration || 0)\n\t\t\t\t\t.set(\"language\", options.language || \"und\");\n\n\tmdia.add(\"hdlr\").set(\"handler\", options.hdlr || \"vide\")\n\t\t\t\t\t.set(\"name\", options.name || \"Track created with MP4Box.js\");\n\n\tmdia.add(\"elng\").set(\"extended_language\", options.language || \"fr-FR\");\n\n\tvar minf = mdia.add(\"minf\");\n\tif (BoxParser[options.type+\"SampleEntry\"] === undefined) return;\n\tvar sample_description_entry = new BoxParser[options.type+\"SampleEntry\"]();\n\tsample_description_entry.data_reference_index = 1;\n\tvar media_type = \"\";\n\tfor (var mediaType in BoxParser.sampleEntryCodes) {\n\t\tvar codes = BoxParser.sampleEntryCodes[mediaType];\n\t\tfor (var i = 0; i < codes.length; i++) {\n\t\t\tif (codes.indexOf(options.type) > -1) {\n\t\t\t\tmedia_type = mediaType;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tswitch(media_type) {\n\t\tcase \"Visual\":\n\t\t\tminf.add(\"vmhd\").set(\"graphicsmode\",0).set(\"opcolor\", [ 0, 0, 0 ]);\n\t\t\tsample_description_entry.set(\"width\", options.width)\n\t\t\t\t\t\t.set(\"height\", options.height)\n\t\t\t\t\t\t.set(\"horizresolution\", 0x48<<16)\n\t\t\t\t\t\t.set(\"vertresolution\", 0x48<<16)\n\t\t\t\t\t\t.set(\"frame_count\", 1)\n\t\t\t\t\t\t.set(\"compressorname\", options.type+\" Compressor\")\n\t\t\t\t\t\t.set(\"depth\", 0x18);\n\t\t\tif (options.avcDecoderConfigRecord) {\n\t\t\t\tvar avcC = new BoxParser.avcCBox();\n\t\t\t\tvar stream = new MP4BoxStream(options.avcDecoderConfigRecord);\n\t\t\t\tavcC.parse(stream);\n\t\t\t\tsample_description_entry.addBox(avcC);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"Audio\":\n\t\t\tminf.add(\"smhd\").set(\"balance\", options.balance || 0);\n\t\t\tsample_description_entry.set(\"channel_count\", options.channel_count || 2)\n\t\t\t\t\t\t.set(\"samplesize\", options.samplesize || 16)\n\t\t\t\t\t\t.set(\"samplerate\", options.samplerate || 1<<16);\n\t\t\tbreak;\n\t\tcase \"Hint\":\n\t\t\tminf.add(\"hmhd\"); // TODO: add properties\n\t\t\tbreak;\n\t\tcase \"Subtitle\":\n\t\t\tminf.add(\"sthd\");\n\t\t\tswitch (options.type) {\n\t\t\t\tcase \"stpp\":\n\t\t\t\t\tsample_description_entry.set(\"namespace\", options.namespace || \"nonamespace\")\n\t\t\t\t\t\t\t\t.set(\"schema_location\", options.schema_location || \"\")\n\t\t\t\t\t\t\t\t.set(\"auxiliary_mime_types\", options.auxiliary_mime_types || \"\");\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"Metadata\":\n\t\t\tminf.add(\"nmhd\");\n\t\t\tbreak;\n\t\tcase \"System\":\n\t\t\tminf.add(\"nmhd\");\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tminf.add(\"nmhd\");\n\t\t\tbreak;\n\t}\n\tif (options.description) {\n\t\tsample_description_entry.addBox(options.description);\n\t}\n\tif (options.description_boxes) {\n\t\toptions.description_boxes.forEach(function (b) {\n\t\t\tsample_description_entry.addBox(b);\n\t\t});\n\t}\n\tminf.add(\"dinf\").add(\"dref\").addEntry((new BoxParser[\"url Box\"]()).set(\"flags\", 0x1));\n\tvar stbl = minf.add(\"stbl\");\n\tstbl.add(\"stsd\").addEntry(sample_description_entry);\n\tstbl.add(\"stts\").set(\"sample_counts\", [])\n\t\t\t\t\t.set(\"sample_deltas\", []);\n\tstbl.add(\"stsc\").set(\"first_chunk\", [])\n\t\t\t\t\t.set(\"samples_per_chunk\", [])\n\t\t\t\t\t.set(\"sample_description_index\", []);\n\tstbl.add(\"stco\").set(\"chunk_offsets\", []);\n\tstbl.add(\"stsz\").set(\"sample_sizes\", []);\n\n\tthis.moov.mvex.add(\"trex\").set(\"track_id\", options.id)\n\t\t\t\t\t\t\t  .set(\"default_sample_description_index\", options.default_sample_description_index || 1)\n\t\t\t\t\t\t\t  .set(\"default_sample_duration\", options.default_sample_duration || 0)\n\t\t\t\t\t\t\t  .set(\"default_sample_size\", options.default_sample_size || 0)\n\t\t\t\t\t\t\t  .set(\"default_sample_flags\", options.default_sample_flags || 0);\n\tthis.buildTrakSampleLists(trak);\n\treturn options.id;\n}\n\nBoxParser.Box.prototype.computeSize = function(stream_) {\n\tvar stream = stream_ || new DataStream();\n\tstream.endianness = DataStream.BIG_ENDIAN;\n\tthis.write(stream);\n}\n\nISOFile.prototype.addSample = function (track_id, data, _options) {\n\tvar options = _options || {};\n\tvar sample = {};\n\tvar trak = this.getTrackById(track_id);\n\tif (trak === null) return;\n    sample.number = trak.samples.length;\n\tsample.track_id = trak.tkhd.track_id;\n\tsample.timescale = trak.mdia.mdhd.timescale;\n\tsample.description_index = (options.sample_description_index ? options.sample_description_index - 1: 0);\n\tsample.description = trak.mdia.minf.stbl.stsd.entries[sample.description_index];\n\tsample.data = data;\n\tsample.size = data.byteLength;\n\tsample.alreadyRead = sample.size;\n\tsample.duration = options.duration || 1;\n\tsample.cts = options.cts || 0;\n\tsample.dts = options.dts || 0;\n\tsample.is_sync = options.is_sync || false;\n\tsample.is_leading = options.is_leading || 0;\n\tsample.depends_on = options.depends_on || 0;\n\tsample.is_depended_on = options.is_depended_on || 0;\n\tsample.has_redundancy = options.has_redundancy || 0;\n\tsample.degradation_priority = options.degradation_priority || 0;\n\tsample.offset = 0;\n\tsample.subsamples = options.subsamples;\n\ttrak.samples.push(sample);\n\ttrak.samples_size += sample.size;\n\ttrak.samples_duration += sample.duration;\n\tif (!trak.first_dts) {\n\t\ttrak.first_dts = options.dts;\n\t}\n\n\tthis.processSamples();\n\t\n\tvar moof = this.createSingleSampleMoof(sample);\n\tthis.addBox(moof);\n\tmoof.computeSize();\n\t/* adjusting the data_offset now that the moof size is known*/\n\tmoof.trafs[0].truns[0].data_offset = moof.size+8; //8 is mdat header\n\tthis.add(\"mdat\").data = new Uint8Array(data);\n\treturn sample;\n}\n\nISOFile.prototype.createSingleSampleMoof = function(sample) {\n\tvar sample_flags = 0;\n\tif (sample.is_sync)\n\t\tsample_flags = (1 << 25);  // sample_depends_on_none (I picture)\n\telse\n\t\tsample_flags = (1 << 16);  // non-sync\n\n\tvar moof = new BoxParser.moofBox();\n\tmoof.add(\"mfhd\").set(\"sequence_number\", this.nextMoofNumber);\n\tthis.nextMoofNumber++;\n\tvar traf = moof.add(\"traf\");\n\tvar trak = this.getTrackById(sample.track_id);\n\ttraf.add(\"tfhd\").set(\"track_id\", sample.track_id)\n\t\t\t\t\t.set(\"flags\", BoxParser.TFHD_FLAG_DEFAULT_BASE_IS_MOOF);\n\ttraf.add(\"tfdt\").set(\"baseMediaDecodeTime\", (sample.dts - (trak.first_dts || 0)));\n\ttraf.add(\"trun\").set(\"flags\", BoxParser.TRUN_FLAGS_DATA_OFFSET | BoxParser.TRUN_FLAGS_DURATION | \n\t\t\t\t \t\t\t\t  BoxParser.TRUN_FLAGS_SIZE | BoxParser.TRUN_FLAGS_FLAGS | \n\t\t\t\t \t\t\t\t  BoxParser.TRUN_FLAGS_CTS_OFFSET)\n\t\t\t\t\t.set(\"data_offset\",0)\n\t\t\t\t\t.set(\"first_sample_flags\",0)\n\t\t\t\t\t.set(\"sample_count\",1)\n\t\t\t\t\t.set(\"sample_duration\",[sample.duration])\n\t\t\t\t\t.set(\"sample_size\",[sample.size])\n\t\t\t\t\t.set(\"sample_flags\",[sample_flags])\n\t\t\t\t\t.set(\"sample_composition_time_offset\", [sample.cts - sample.dts]);\n\treturn moof;\n}\n\n// file:src/isofile-sample-processing.js\n/* Index of the last moof box received */\nISOFile.prototype.lastMoofIndex = 0;\n\n/* size of the buffers allocated for samples */\nISOFile.prototype.samplesDataSize = 0;\n\n/* Resets all sample tables */\nISOFile.prototype.resetTables = function () {\n\tvar i;\n\tvar trak, stco, stsc, stsz, stts, ctts, stss;\n\tthis.initial_duration = this.moov.mvhd.duration;\n\tthis.moov.mvhd.duration = 0;\n\tfor (i = 0; i < this.moov.traks.length; i++) {\n\t\ttrak = this.moov.traks[i];\n\t\ttrak.tkhd.duration = 0;\n\t\ttrak.mdia.mdhd.duration = 0;\n\t\tstco = trak.mdia.minf.stbl.stco || trak.mdia.minf.stbl.co64;\n\t\tstco.chunk_offsets = [];\n\t\tstsc = trak.mdia.minf.stbl.stsc;\n\t\tstsc.first_chunk = [];\n\t\tstsc.samples_per_chunk = [];\n\t\tstsc.sample_description_index = [];\n\t\tstsz = trak.mdia.minf.stbl.stsz || trak.mdia.minf.stbl.stz2;\n\t\tstsz.sample_sizes = [];\n\t\tstts = trak.mdia.minf.stbl.stts;\n\t\tstts.sample_counts = [];\n\t\tstts.sample_deltas = [];\n\t\tctts = trak.mdia.minf.stbl.ctts;\n\t\tif (ctts) {\n\t\t\tctts.sample_counts = [];\n\t\t\tctts.sample_offsets = [];\n\t\t}\n\t\tstss = trak.mdia.minf.stbl.stss;\n\t\tvar k = trak.mdia.minf.stbl.boxes.indexOf(stss);\n\t\tif (k != -1) trak.mdia.minf.stbl.boxes[k] = null;\n\t}\n}\n\nISOFile.initSampleGroups = function(trak, traf, sbgps, trak_sgpds, traf_sgpds) {\n\tvar l;\n\tvar k;\n\tvar sample_groups_info;\n\tvar sample_group_info;\n\tvar sample_group_key;\n\tfunction SampleGroupInfo(_type, _parameter, _sbgp) {\n\t\tthis.grouping_type = _type;\n\t\tthis.grouping_type_parameter = _parameter;\n\t\tthis.sbgp = _sbgp;\n\t\tthis.last_sample_in_run = -1;\n\t\tthis.entry_index = -1;\t\t\n\t}\n\tif (traf) {\n\t\ttraf.sample_groups_info = [];\n\t} \n\tif (!trak.sample_groups_info) {\n\t\ttrak.sample_groups_info = [];\n\t}\n\tfor (k = 0; k < sbgps.length; k++) {\n\t\tsample_group_key = sbgps[k].grouping_type +\"/\"+ sbgps[k].grouping_type_parameter;\n\t\tsample_group_info = new SampleGroupInfo(sbgps[k].grouping_type, sbgps[k].grouping_type_parameter, sbgps[k]);\n\t\tif (traf) {\n\t\t\ttraf.sample_groups_info[sample_group_key] = sample_group_info;\n\t\t}\n\t\tif (!trak.sample_groups_info[sample_group_key]) {\n\t\t\ttrak.sample_groups_info[sample_group_key] = sample_group_info;\n\t\t}\n\t\tfor (l=0; l <trak_sgpds.length; l++) {\n\t\t\tif (trak_sgpds[l].grouping_type === sbgps[k].grouping_type) {\n\t\t\t\tsample_group_info.description = trak_sgpds[l];\n\t\t\t\tsample_group_info.description.used = true;\n\t\t\t}\n\t\t}\n\t\tif (traf_sgpds) {\n\t\t\tfor (l=0; l <traf_sgpds.length; l++) {\n\t\t\t\tif (traf_sgpds[l].grouping_type === sbgps[k].grouping_type) {\n\t\t\t\t\tsample_group_info.fragment_description = traf_sgpds[l];\n\t\t\t\t\tsample_group_info.fragment_description.used = true;\n\t\t\t\t\tsample_group_info.is_fragment = true;\n\t\t\t\t}\n\t\t\t}\t\t\t\n\t\t}\n\t}\n\tif (!traf) {\n\t\tfor (k = 0; k < trak_sgpds.length; k++) {\n\t\t\tif (!trak_sgpds[k].used && trak_sgpds[k].version >= 2) {\n\t\t\t\tsample_group_key = trak_sgpds[k].grouping_type +\"/0\";\n\t\t\t\tsample_group_info = new SampleGroupInfo(trak_sgpds[k].grouping_type, 0);\n\t\t\t\tif (!trak.sample_groups_info[sample_group_key]) {\n\t\t\t\t\ttrak.sample_groups_info[sample_group_key] = sample_group_info;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif (traf_sgpds) {\n\t\t\tfor (k = 0; k < traf_sgpds.length; k++) {\n\t\t\t\tif (!traf_sgpds[k].used && traf_sgpds[k].version >= 2) {\n\t\t\t\t\tsample_group_key = traf_sgpds[k].grouping_type +\"/0\";\n\t\t\t\t\tsample_group_info = new SampleGroupInfo(traf_sgpds[k].grouping_type, 0);\n\t\t\t\t\tsample_group_info.is_fragment = true;\n\t\t\t\t\tif (!traf.sample_groups_info[sample_group_key]) {\n\t\t\t\t\t\ttraf.sample_groups_info[sample_group_key] = sample_group_info;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nISOFile.setSampleGroupProperties = function(trak, sample, sample_number, sample_groups_info) {\n\tvar k;\n\tvar index;\n\tsample.sample_groups = [];\n\tfor (k in sample_groups_info) {\n\t\tsample.sample_groups[k] = {};\n\t\tsample.sample_groups[k].grouping_type = sample_groups_info[k].grouping_type;\n\t\tsample.sample_groups[k].grouping_type_parameter = sample_groups_info[k].grouping_type_parameter;\n\t\tif (sample_number >= sample_groups_info[k].last_sample_in_run) {\n\t\t\tif (sample_groups_info[k].last_sample_in_run < 0) {\n\t\t\t\tsample_groups_info[k].last_sample_in_run = 0;\n\t\t\t}\n\t\t\tsample_groups_info[k].entry_index++;\t\n\t\t\tif (sample_groups_info[k].entry_index <= sample_groups_info[k].sbgp.entries.length - 1) {\n\t\t\t\tsample_groups_info[k].last_sample_in_run += sample_groups_info[k].sbgp.entries[sample_groups_info[k].entry_index].sample_count;\n\t\t\t}\n\t\t}\n\t\tif (sample_groups_info[k].entry_index <= sample_groups_info[k].sbgp.entries.length - 1) {\n\t\t\tsample.sample_groups[k].group_description_index = sample_groups_info[k].sbgp.entries[sample_groups_info[k].entry_index].group_description_index;\n\t\t} else {\n\t\t\tsample.sample_groups[k].group_description_index = -1; // special value for not defined\n\t\t}\n\t\tif (sample.sample_groups[k].group_description_index !== 0) {\n\t\t\tvar description;\n\t\t\tif (sample_groups_info[k].fragment_description) {\n\t\t\t\tdescription = sample_groups_info[k].fragment_description;\n\t\t\t} else {\n\t\t\t\tdescription = sample_groups_info[k].description;\n\t\t\t}\n\t\t\tif (sample.sample_groups[k].group_description_index > 0) {\n\t\t\t\tif (sample.sample_groups[k].group_description_index > 65535) {\n\t\t\t\t\tindex = (sample.sample_groups[k].group_description_index >> 16)-1;\n\t\t\t\t} else {\n\t\t\t\t\tindex = sample.sample_groups[k].group_description_index-1;\n\t\t\t\t}\n\t\t\t\tif (description && index >= 0) {\n\t\t\t\t\tsample.sample_groups[k].description = description.entries[index];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (description && description.version >= 2) {\n\t\t\t\t\tif (description.default_group_description_index > 0) {\t\t\t\t\t\t\t\t\n\t\t\t\t\t\tsample.sample_groups[k].description = description.entries[description.default_group_description_index-1];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nISOFile.process_sdtp = function (sdtp, sample, number) {\n\tif (!sample) {\n\t\treturn;\n\t}\n\tif (sdtp) {\n\t\tsample.is_leading = sdtp.is_leading[number];\n\t\tsample.depends_on = sdtp.sample_depends_on[number];\n\t\tsample.is_depended_on = sdtp.sample_is_depended_on[number];\n\t\tsample.has_redundancy = sdtp.sample_has_redundancy[number];\n\t} else {\n\t\tsample.is_leading = 0;\n\t\tsample.depends_on = 0;\n\t\tsample.is_depended_on = 0\n\t\tsample.has_redundancy = 0;\n\t}\t\n}\n\n/* Build initial sample list from  sample tables */\nISOFile.prototype.buildSampleLists = function() {\t\n\tvar i;\n\tvar trak;\n\tfor (i = 0; i < this.moov.traks.length; i++) {\n\t\ttrak = this.moov.traks[i];\n\t\tthis.buildTrakSampleLists(trak);\n\t}\n}\n\nISOFile.prototype.buildTrakSampleLists = function(trak) {\t\n\tvar j, k;\n\tvar stco, stsc, stsz, stts, ctts, stss, stsd, subs, sbgps, sgpds, stdp;\n\tvar chunk_run_index, chunk_index, last_chunk_in_run, offset_in_chunk, last_sample_in_chunk;\n\tvar last_sample_in_stts_run, stts_run_index, last_sample_in_ctts_run, ctts_run_index, last_stss_index, last_subs_index, subs_entry_index, last_subs_sample_index;\n\n\ttrak.samples = [];\n\ttrak.samples_duration = 0;\n\ttrak.samples_size = 0;\n\tstco = trak.mdia.minf.stbl.stco || trak.mdia.minf.stbl.co64;\n\tstsc = trak.mdia.minf.stbl.stsc;\n\tstsz = trak.mdia.minf.stbl.stsz || trak.mdia.minf.stbl.stz2;\n\tstts = trak.mdia.minf.stbl.stts;\n\tctts = trak.mdia.minf.stbl.ctts;\n\tstss = trak.mdia.minf.stbl.stss;\n\tstsd = trak.mdia.minf.stbl.stsd;\n\tsubs = trak.mdia.minf.stbl.subs;\n\tstdp = trak.mdia.minf.stbl.stdp;\n\tsbgps = trak.mdia.minf.stbl.sbgps;\n\tsgpds = trak.mdia.minf.stbl.sgpds;\n\t\n\tlast_sample_in_stts_run = -1;\n\tstts_run_index = -1;\n\tlast_sample_in_ctts_run = -1;\n\tctts_run_index = -1;\n\tlast_stss_index = 0;\n\tsubs_entry_index = 0;\n\tlast_subs_sample_index = 0;\t\t\n\n\tISOFile.initSampleGroups(trak, null, sbgps, sgpds);\n\n\tif (typeof stsz === \"undefined\") {\n\t\treturn;\n\t}\n\n\t/* we build the samples one by one and compute their properties */\n\tfor (j = 0; j < stsz.sample_sizes.length; j++) {\n\t\tvar sample = {};\n\t\tsample.number = j;\n\t\tsample.track_id = trak.tkhd.track_id;\n\t\tsample.timescale = trak.mdia.mdhd.timescale;\n\t\tsample.alreadyRead = 0;\n\t\ttrak.samples[j] = sample;\n\t\t/* size can be known directly */\n\t\tsample.size = stsz.sample_sizes[j];\n\t\ttrak.samples_size += sample.size;\n\t\t/* computing chunk-based properties (offset, sample description index)*/\n\t\tif (j === 0) {\t\t\t\t\n\t\t\tchunk_index = 1; /* the first sample is in the first chunk (chunk indexes are 1-based) */\n\t\t\tchunk_run_index = 0; /* the first chunk is the first entry in the first_chunk table */\n\t\t\tsample.chunk_index = chunk_index;\n\t\t\tsample.chunk_run_index = chunk_run_index;\n\t\t\tlast_sample_in_chunk = stsc.samples_per_chunk[chunk_run_index];\n\t\t\toffset_in_chunk = 0;\n\n\t\t\t/* Is there another entry in the first_chunk table ? */\n\t\t\tif (chunk_run_index + 1 < stsc.first_chunk.length) {\n\t\t\t\t/* The last chunk in the run is the chunk before the next first chunk */\n\t\t\t\tlast_chunk_in_run = stsc.first_chunk[chunk_run_index+1]-1; \t\n\t\t\t} else {\n\t\t\t\t/* There is only one entry in the table, it is valid for all future chunks*/\n\t\t\t\tlast_chunk_in_run = Infinity;\n\t\t\t}\n\t\t} else {\n\t\t\tif (j < last_sample_in_chunk) {\n\t\t\t\t/* the sample is still in the current chunk */\n\t\t\t\tsample.chunk_index = chunk_index;\n\t\t\t\tsample.chunk_run_index = chunk_run_index;\n\t\t\t} else {\n\t\t\t\t/* the sample is in the next chunk */\n\t\t\t\tchunk_index++;\n\t\t\t\tsample.chunk_index = chunk_index;\n\t\t\t\t/* reset the accumulated offset in the chunk */\n\t\t\t\toffset_in_chunk = 0;\n\t\t\t\tif (chunk_index <= last_chunk_in_run) {\n\t\t\t\t\t/* stay in the same entry of the first_chunk table */\n\t\t\t\t\t/* chunk_run_index unmodified */\n\t\t\t\t} else {\n\t\t\t\t\tchunk_run_index++;\n\t\t\t\t\t/* Is there another entry in the first_chunk table ? */\n\t\t\t\t\tif (chunk_run_index + 1 < stsc.first_chunk.length) {\n\t\t\t\t\t\t/* The last chunk in the run is the chunk before the next first chunk */\n\t\t\t\t\t\tlast_chunk_in_run = stsc.first_chunk[chunk_run_index+1]-1; \t\n\t\t\t\t\t} else {\n\t\t\t\t\t\t/* There is only one entry in the table, it is valid for all future chunks*/\n\t\t\t\t\t\tlast_chunk_in_run = Infinity;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tsample.chunk_run_index = chunk_run_index;\n\t\t\t\tlast_sample_in_chunk += stsc.samples_per_chunk[chunk_run_index];\n\t\t\t}\n\t\t}\n\n\t\tsample.description_index = stsc.sample_description_index[sample.chunk_run_index]-1;\n\t\tsample.description = stsd.entries[sample.description_index];\n\t\tsample.offset = stco.chunk_offsets[sample.chunk_index-1] + offset_in_chunk; /* chunk indexes are 1-based */\n\t\toffset_in_chunk += sample.size;\n\n\t\t/* setting dts, cts, duration and rap flags */\n\t\tif (j > last_sample_in_stts_run) {\n\t\t\tstts_run_index++;\n\t\t\tif (last_sample_in_stts_run < 0) {\n\t\t\t\tlast_sample_in_stts_run = 0;\n\t\t\t}\n\t\t\tlast_sample_in_stts_run += stts.sample_counts[stts_run_index];\t\t\t\t\n\t\t}\n\t\tif (j > 0) {\n\t\t\ttrak.samples[j-1].duration = stts.sample_deltas[stts_run_index];\n\t\t\ttrak.samples_duration += trak.samples[j-1].duration;\n\t\t\tsample.dts = trak.samples[j-1].dts + trak.samples[j-1].duration;\n\t\t} else {\n\t\t\tsample.dts = 0;\n\t\t}\n\t\tif (ctts) {\n\t\t\tif (j >= last_sample_in_ctts_run) {\n\t\t\t\tctts_run_index++;\n\t\t\t\tif (last_sample_in_ctts_run < 0) {\n\t\t\t\t\tlast_sample_in_ctts_run = 0;\n\t\t\t\t}\n\t\t\t\tlast_sample_in_ctts_run += ctts.sample_counts[ctts_run_index];\t\t\t\t\n\t\t\t}\n\t\t\tsample.cts = trak.samples[j].dts + ctts.sample_offsets[ctts_run_index];\n\t\t} else {\n\t\t\tsample.cts = sample.dts;\n\t\t}\n\t\tif (stss) {\n\t\t\tif (j == stss.sample_numbers[last_stss_index] - 1) { // sample numbers are 1-based\n\t\t\t\tsample.is_sync = true;\n\t\t\t\tlast_stss_index++;\n\t\t\t} else {\n\t\t\t\tsample.is_sync = false;\t\t\t\t\n\t\t\t\tsample.degradation_priority = 0;\n\t\t\t}\n\t\t\tif (subs) {\n\t\t\t\tif (subs.entries[subs_entry_index].sample_delta + last_subs_sample_index == j+1) {\n\t\t\t\t\tsample.subsamples = subs.entries[subs_entry_index].subsamples;\n\t\t\t\t\tlast_subs_sample_index += subs.entries[subs_entry_index].sample_delta;\n\t\t\t\t\tsubs_entry_index++;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tsample.is_sync = true;\n\t\t}\n\t\tISOFile.process_sdtp(trak.mdia.minf.stbl.sdtp, sample, sample.number);\n\t\tif (stdp) {\n\t\t\tsample.degradation_priority = stdp.priority[j];\n\t\t} else {\n\t\t\tsample.degradation_priority = 0;\n\t\t}\n\t\tif (subs) {\n\t\t\tif (subs.entries[subs_entry_index].sample_delta + last_subs_sample_index == j) {\n\t\t\t\tsample.subsamples = subs.entries[subs_entry_index].subsamples;\n\t\t\t\tlast_subs_sample_index += subs.entries[subs_entry_index].sample_delta;\n\t\t\t}\n\t\t}\n\t\tif (sbgps.length > 0 || sgpds.length > 0) {\n\t\t\tISOFile.setSampleGroupProperties(trak, sample, j, trak.sample_groups_info);\n\t\t}\n\t}\n\tif (j>0) {\n\t\ttrak.samples[j-1].duration = Math.max(trak.mdia.mdhd.duration - trak.samples[j-1].dts, 0);\n\t\ttrak.samples_duration += trak.samples[j-1].duration;\n\t}\n}\n\n/* Update sample list when new 'moof' boxes are received */\nISOFile.prototype.updateSampleLists = function() {\t\n\tvar i, j, k;\n\tvar default_sample_description_index, default_sample_duration, default_sample_size, default_sample_flags;\n\tvar last_run_position;\n\tvar box, moof, traf, trak, trex;\n\tvar sample;\n\tvar sample_flags;\n\t\n\tif (this.moov === undefined) {\n\t\treturn;\n\t}\n\t/* if the input file is fragmented and fetched in multiple downloads, we need to update the list of samples */\n\twhile (this.lastMoofIndex < this.moofs.length) {\n\t\tbox = this.moofs[this.lastMoofIndex];\n\t\tthis.lastMoofIndex++;\n\t\tif (box.type == \"moof\") {\n\t\t\tmoof = box;\n\t\t\tfor (i = 0; i < moof.trafs.length; i++) {\n\t\t\t\ttraf = moof.trafs[i];\n\t\t\t\ttrak = this.getTrackById(traf.tfhd.track_id);\n\t\t\t\ttrex = this.getTrexById(traf.tfhd.track_id);\n\t\t\t\tif (traf.tfhd.flags & BoxParser.TFHD_FLAG_SAMPLE_DESC) {\n\t\t\t\t\tdefault_sample_description_index = traf.tfhd.default_sample_description_index;\n\t\t\t\t} else {\n\t\t\t\t\tdefault_sample_description_index = (trex ? trex.default_sample_description_index: 1);\n\t\t\t\t}\n\t\t\t\tif (traf.tfhd.flags & BoxParser.TFHD_FLAG_SAMPLE_DUR) {\n\t\t\t\t\tdefault_sample_duration = traf.tfhd.default_sample_duration;\n\t\t\t\t} else {\n\t\t\t\t\tdefault_sample_duration = (trex ? trex.default_sample_duration : 0);\n\t\t\t\t}\n\t\t\t\tif (traf.tfhd.flags & BoxParser.TFHD_FLAG_SAMPLE_SIZE) {\n\t\t\t\t\tdefault_sample_size = traf.tfhd.default_sample_size;\n\t\t\t\t} else {\n\t\t\t\t\tdefault_sample_size = (trex ? trex.default_sample_size : 0);\n\t\t\t\t}\n\t\t\t\tif (traf.tfhd.flags & BoxParser.TFHD_FLAG_SAMPLE_FLAGS) {\n\t\t\t\t\tdefault_sample_flags = traf.tfhd.default_sample_flags;\n\t\t\t\t} else {\n\t\t\t\t\tdefault_sample_flags = (trex ? trex.default_sample_flags : 0);\n\t\t\t\t}\n\t\t\t\ttraf.sample_number = 0;\n\t\t\t\t/* process sample groups */\n\t\t\t\tif (traf.sbgps.length > 0) {\n\t\t\t\t\tISOFile.initSampleGroups(trak, traf, traf.sbgps, trak.mdia.minf.stbl.sgpds, traf.sgpds);\n\t\t\t\t}\n\t\t\t\tfor (j = 0; j < traf.truns.length; j++) {\n\t\t\t\t\tvar trun = traf.truns[j];\n\t\t\t\t\tfor (k = 0; k < trun.sample_count; k++) {\n\t\t\t\t\t\tsample = {};\n\t\t\t\t\t\tsample.moof_number = this.lastMoofIndex;\n\t\t\t\t\t\tsample.number_in_traf = traf.sample_number;\n\t\t\t\t\t\ttraf.sample_number++;\n\t\t\t            sample.number = trak.samples.length;\n\t\t\t\t\t\ttraf.first_sample_index = trak.samples.length;\n\t\t\t\t\t\ttrak.samples.push(sample);\n\t\t\t\t\t\tsample.track_id = trak.tkhd.track_id;\n\t\t\t\t\t\tsample.timescale = trak.mdia.mdhd.timescale;\n\t\t\t\t\t\tsample.description_index = default_sample_description_index-1;\n\t\t\t\t\t\tsample.description = trak.mdia.minf.stbl.stsd.entries[sample.description_index];\n\t\t\t\t\t\tsample.size = default_sample_size;\n\t\t\t\t\t\tif (trun.flags & BoxParser.TRUN_FLAGS_SIZE) {\n\t\t\t\t\t\t\tsample.size = trun.sample_size[k];\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttrak.samples_size += sample.size;\n\t\t\t\t\t\tsample.duration = default_sample_duration;\n\t\t\t\t\t\tif (trun.flags & BoxParser.TRUN_FLAGS_DURATION) {\n\t\t\t\t\t\t\tsample.duration = trun.sample_duration[k];\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttrak.samples_duration += sample.duration;\n\t\t\t\t\t\tif (trak.first_traf_merged || k > 0) {\n\t\t\t\t\t\t\tsample.dts = trak.samples[trak.samples.length-2].dts+trak.samples[trak.samples.length-2].duration;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (traf.tfdt) {\n\t\t\t\t\t\t\t\tsample.dts = traf.tfdt.baseMediaDecodeTime;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsample.dts = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttrak.first_traf_merged = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsample.cts = sample.dts;\n\t\t\t\t\t\tif (trun.flags & BoxParser.TRUN_FLAGS_CTS_OFFSET) {\n\t\t\t\t\t\t\tsample.cts = sample.dts + trun.sample_composition_time_offset[k];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsample_flags = default_sample_flags;\n\t\t\t\t\t\tif (trun.flags & BoxParser.TRUN_FLAGS_FLAGS) {\n\t\t\t\t\t\t\tsample_flags = trun.sample_flags[k];\n\t\t\t\t\t\t} else if (k === 0 && (trun.flags & BoxParser.TRUN_FLAGS_FIRST_FLAG)) {\n\t\t\t\t\t\t\tsample_flags = trun.first_sample_flags;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsample.is_sync = ((sample_flags >> 16 & 0x1) ? false : true);\n\t\t\t\t\t\tsample.is_leading = (sample_flags >> 26 & 0x3);\n\t\t\t\t\t\tsample.depends_on = (sample_flags >> 24 & 0x3);\n\t\t\t\t\t\tsample.is_depended_on = (sample_flags >> 22 & 0x3);\n\t\t\t\t\t\tsample.has_redundancy = (sample_flags >> 20 & 0x3);\n\t\t\t\t\t\tsample.degradation_priority = (sample_flags & 0xFFFF);\n\t\t\t\t\t\t//ISOFile.process_sdtp(traf.sdtp, sample, sample.number_in_traf);\n\t\t\t\t\t\tvar bdop = (traf.tfhd.flags & BoxParser.TFHD_FLAG_BASE_DATA_OFFSET) ? true : false;\n\t\t\t\t\t\tvar dbim = (traf.tfhd.flags & BoxParser.TFHD_FLAG_DEFAULT_BASE_IS_MOOF) ? true : false;\n\t\t\t\t\t\tvar dop = (trun.flags & BoxParser.TRUN_FLAGS_DATA_OFFSET) ? true : false;\n\t\t\t\t\t\tvar bdo = 0;\n\t\t\t\t\t\tif (!bdop) {\n\t\t\t\t\t\t\tif (!dbim) {\n\t\t\t\t\t\t\t\tif (j === 0) { // the first track in the movie fragment\n\t\t\t\t\t\t\t\t\tbdo = moof.start; // the position of the first byte of the enclosing Movie Fragment Box\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tbdo = last_run_position; // end of the data defined by the preceding *track* (irrespective of the track id) fragment in the moof\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tbdo = moof.start;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbdo = traf.tfhd.base_data_offset;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (j === 0 && k === 0) {\n\t\t\t\t\t\t\tif (dop) {\n\t\t\t\t\t\t\t\tsample.offset = bdo + trun.data_offset; // If the data-offset is present, it is relative to the base-data-offset established in the track fragment header\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsample.offset = bdo; // the data for this run starts the base-data-offset defined by the track fragment header\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsample.offset = last_run_position; // this run starts immediately after the data of the previous run\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlast_run_position = sample.offset + sample.size;\n\t\t\t\t\t\tif (traf.sbgps.length > 0 || traf.sgpds.length > 0 ||\n\t\t\t\t\t\t\ttrak.mdia.minf.stbl.sbgps.length > 0 || trak.mdia.minf.stbl.sgpds.length > 0) {\n\t\t\t\t\t\t\tISOFile.setSampleGroupProperties(trak, sample, sample.number_in_traf, traf.sample_groups_info);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (traf.subs) {\n\t\t\t\t\ttrak.has_fragment_subsamples = true;\n\t\t\t\t\tvar sample_index = traf.first_sample_index;\n\t\t\t\t\tfor (j = 0; j < traf.subs.entries.length; j++) {\n\t\t\t\t\t\tsample_index += traf.subs.entries[j].sample_delta;\n\t\t\t\t\t\tsample = trak.samples[sample_index-1];\n\t\t\t\t\t\tsample.subsamples = traf.subs.entries[j].subsamples;\n\t\t\t\t\t}\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\t\n}\n\n/* Try to get sample data for a given sample:\n   returns null if not found\n   returns the same sample if already requested\n */\nISOFile.prototype.getSample = function(trak, sampleNum) {\t\n\tvar buffer;\n\tvar sample = trak.samples[sampleNum];\n\t\n\tif (!this.moov) {\n\t\treturn null;\n\t}\n\n\tif (!sample.data) {\n\t\t/* Not yet fetched */\n\t\tsample.data = new Uint8Array(sample.size);\n\t\tsample.alreadyRead = 0;\n\t\tthis.samplesDataSize += sample.size;\n\t\tLog.debug(\"ISOFile\", \"Allocating sample #\"+sampleNum+\" on track #\"+trak.tkhd.track_id+\" of size \"+sample.size+\" (total: \"+this.samplesDataSize+\")\");\n\t} else if (sample.alreadyRead == sample.size) {\n\t\t/* Already fetched entirely */\n\t\treturn sample;\n\t}\n\n\t/* The sample has only been partially fetched, we need to check in all buffers */\n\twhile(true) {\n\t\tvar index =\tthis.stream.findPosition(true, sample.offset + sample.alreadyRead, false);\n\t\tif (index > -1) {\n\t\t\tbuffer = this.stream.buffers[index];\n\t\t\tvar lengthAfterStart = buffer.byteLength - (sample.offset + sample.alreadyRead - buffer.fileStart);\n\t\t\tif (sample.size - sample.alreadyRead <= lengthAfterStart) {\n\t\t\t\t/* the (rest of the) sample is entirely contained in this buffer */\n\n\t\t\t\tLog.debug(\"ISOFile\",\"Getting sample #\"+sampleNum+\" data (alreadyRead: \"+sample.alreadyRead+\" offset: \"+\n\t\t\t\t\t(sample.offset+sample.alreadyRead - buffer.fileStart)+\" read size: \"+(sample.size - sample.alreadyRead)+\" full size: \"+sample.size+\")\");\n\n\t\t\t\tDataStream.memcpy(sample.data.buffer, sample.alreadyRead,\n\t\t\t\t                  buffer, sample.offset+sample.alreadyRead - buffer.fileStart, sample.size - sample.alreadyRead);\n\n\t\t\t\t/* update the number of bytes used in this buffer and check if it needs to be removed */\n\t\t\t\tbuffer.usedBytes += sample.size - sample.alreadyRead;\n\t\t\t\tthis.stream.logBufferLevel();\n\n\t\t\t\tsample.alreadyRead = sample.size;\n\n\t\t\t\treturn sample;\n\t\t\t} else {\n\t\t\t\t/* the sample does not end in this buffer */\n\n\t\t\t\tif (lengthAfterStart === 0) return null;\n\n\t\t\t\tLog.debug(\"ISOFile\",\"Getting sample #\"+sampleNum+\" partial data (alreadyRead: \"+sample.alreadyRead+\" offset: \"+\n\t\t\t\t\t(sample.offset+sample.alreadyRead - buffer.fileStart)+\" read size: \"+lengthAfterStart+\" full size: \"+sample.size+\")\");\n\n\t\t\t\tDataStream.memcpy(sample.data.buffer, sample.alreadyRead,\n\t\t\t\t                  buffer, sample.offset+sample.alreadyRead - buffer.fileStart, lengthAfterStart);\n\t\t\t\tsample.alreadyRead += lengthAfterStart;\n\n\t\t\t\t/* update the number of bytes used in this buffer and check if it needs to be removed */\n\t\t\t\tbuffer.usedBytes += lengthAfterStart;\n\t\t\t\tthis.stream.logBufferLevel();\n\n\t\t\t\t/* keep looking in the next buffer */\n\t\t\t}\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n}\n\n/* Release the memory used to store the data of the sample */\nISOFile.prototype.releaseSample = function(trak, sampleNum) {\t\n\tvar sample = trak.samples[sampleNum];\n\tif (sample.data) {\n\t\tthis.samplesDataSize -= sample.size;\n\t\tsample.data = null;\n\t\tsample.alreadyRead = 0;\n\t\treturn sample.size;\n\t} else {\n\t\treturn 0;\n\t}\n}\n\nISOFile.prototype.getAllocatedSampleDataSize = function() {\n\treturn this.samplesDataSize;\n}\n\n/* Builds the MIME Type 'codecs' sub-parameters for the whole file */\nISOFile.prototype.getCodecs = function() {\t\n\tvar i;\n\tvar codecs = \"\";\n\tfor (i = 0; i < this.moov.traks.length; i++) {\n\t\tvar trak = this.moov.traks[i];\n\t\tif (i>0) {\n\t\t\tcodecs+=\",\"; \n\t\t}\n\t\tcodecs += trak.mdia.minf.stbl.stsd.entries[0].getCodec();\t\t\n\t}\n\treturn codecs;\n}\n\n/* Helper function */\nISOFile.prototype.getTrexById = function(id) {\t\n\tvar i;\n\tif (!this.moov || !this.moov.mvex) return null;\n\tfor (i = 0; i < this.moov.mvex.trexs.length; i++) {\n\t\tvar trex = this.moov.mvex.trexs[i];\n\t\tif (trex.track_id == id) return trex;\n\t}\n\treturn null;\n}\n\n/* Helper function */\nISOFile.prototype.getTrackById = function(id) {\n\tif (this.moov === undefined) {\n\t\treturn null;\n\t}\n\tfor (var j = 0; j < this.moov.traks.length; j++) {\n\t\tvar trak = this.moov.traks[j];\n\t\tif (trak.tkhd.track_id == id) return trak;\n\t}\n\treturn null;\n}\n// file:src/isofile-item-processing.js\nISOFile.prototype.items = [];\n/* size of the buffers allocated for samples */\nISOFile.prototype.itemsDataSize = 0;\n\nISOFile.prototype.flattenItemInfo = function() {\t\n\tvar items = this.items;\n\tvar i, j;\n\tvar item;\n\tvar meta = this.meta;\n\tif (meta === null || meta === undefined) return;\n\tif (meta.hdlr === undefined) return;\n\tif (meta.iinf === undefined) return;\n\tfor (i = 0; i < meta.iinf.item_infos.length; i++) {\n\t\titem = {};\n\t\titem.id = meta.iinf.item_infos[i].item_ID;\n\t\titems[item.id] = item;\n\t\titem.ref_to = [];\n\t\titem.name = meta.iinf.item_infos[i].item_name;\n\t\tif (meta.iinf.item_infos[i].protection_index > 0) {\n\t\t\titem.protection = meta.ipro.protections[meta.iinf.item_infos[i].protection_index-1];\n\t\t}\n\t\tif (meta.iinf.item_infos[i].item_type) {\n\t\t\titem.type = meta.iinf.item_infos[i].item_type;\n\t\t} else {\n\t\t\titem.type = \"mime\";\n\t\t}\n\t\titem.content_type = meta.iinf.item_infos[i].content_type;\n\t\titem.content_encoding = meta.iinf.item_infos[i].content_encoding;\n\t}\n\tif (meta.iloc) {\n\t\tfor(i = 0; i < meta.iloc.items.length; i++) {\n\t\t\tvar offset;\n\t\t\tvar itemloc = meta.iloc.items[i];\n\t\t\titem = items[itemloc.item_ID];\n\t\t\tif (itemloc.data_reference_index !== 0) {\n\t\t\t\tLog.warn(\"Item storage with reference to other files: not supported\");\n\t\t\t\titem.source = meta.dinf.boxes[itemloc.data_reference_index-1];\n\t\t\t}\n\t\t\tswitch(itemloc.construction_method) {\n\t\t\t\tcase 0: // offset into the file referenced by the data reference index\n\t\t\t\tbreak;\n\t\t\t\tcase 1: // offset into the idat box of this meta box\n\t\t\t\tLog.warn(\"Item storage with construction_method : not supported\");\n\t\t\t\tbreak;\n\t\t\t\tcase 2: // offset into another item\n\t\t\t\tLog.warn(\"Item storage with construction_method : not supported\");\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\titem.extents = [];\n\t\t\titem.size = 0;\n\t\t\tfor (j = 0; j < itemloc.extents.length; j++) {\n\t\t\t\titem.extents[j] = {};\n\t\t\t\titem.extents[j].offset = itemloc.extents[j].extent_offset + itemloc.base_offset;\n\t\t\t\titem.extents[j].length = itemloc.extents[j].extent_length;\n\t\t\t\titem.extents[j].alreadyRead = 0;\n\t\t\t\titem.size += item.extents[j].length;\n\t\t\t}\n\t\t}\n\t}\n\tif (meta.pitm) {\n\t\titems[meta.pitm.item_id].primary = true;\n\t}\n\tif (meta.iref) {\n\t\tfor (i=0; i <meta.iref.references.length; i++) {\n\t\t\tvar ref = meta.iref.references[i];\n\t\t\tfor (j=0; j<ref.references.length; j++) {\n\t\t\t\titems[ref.from_item_ID].ref_to.push({type: ref.type, id: ref.references[j]});\n\t\t\t}\n\t\t}\n\t}\n\tif (meta.iprp) {\n\t\tfor (var k = 0; k < meta.iprp.ipmas.length; k++) {\n\t\t\tvar ipma = meta.iprp.ipmas[k];\n\t\t\tfor (i = 0; i < ipma.associations.length; i++) {\n\t\t\t\tvar association = ipma.associations[i];\n\t\t\t\titem = items[association.id];\n\t\t\t\tif (item.properties === undefined) {\n\t\t\t\t\titem.properties = {};\n\t\t\t\t\titem.properties.boxes = [];\n\t\t\t\t}\n\t\t\t\tfor (j = 0; j < association.props.length; j++) {\n\t\t\t\t\tvar propEntry = association.props[j];\n\t\t\t\t\tif (propEntry.property_index > 0 && propEntry.property_index-1 < meta.iprp.ipco.boxes.length) {\n\t\t\t\t\t\tvar propbox = meta.iprp.ipco.boxes[propEntry.property_index-1];\n\t\t\t\t\t\titem.properties[propbox.type] = propbox;\n\t\t\t\t\t\titem.properties.boxes.push(propbox);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nISOFile.prototype.getItem = function(item_id) {\t\n\tvar buffer;\n\tvar item;\n\t\n\tif (!this.meta) {\n\t\treturn null;\n\t}\n\n \titem = this.items[item_id];\n\tif (!item.data && item.size) {\n\t\t/* Not yet fetched */\n\t\titem.data = new Uint8Array(item.size);\n\t\titem.alreadyRead = 0;\n\t\tthis.itemsDataSize += item.size;\n\t\tLog.debug(\"ISOFile\", \"Allocating item #\"+item_id+\" of size \"+item.size+\" (total: \"+this.itemsDataSize+\")\");\n\t} else if (item.alreadyRead === item.size) {\n\t\t/* Already fetched entirely */\n\t\treturn item;\n\t}\n\n\t/* The item has only been partially fetched, we need to check in all buffers to find the remaining extents*/\n\n\tfor (var i = 0; i < item.extents.length; i++) {\n\t\tvar extent = item.extents[i];\n\t\tif (extent.alreadyRead === extent.length) {\n\t\t\tcontinue;\n\t\t} else {\n\t\t\tvar index =\tthis.stream.findPosition(true, extent.offset + extent.alreadyRead, false);\n\t\t\tif (index > -1) {\n\t\t\t\tbuffer = this.stream.buffers[index];\n\t\t\t\tvar lengthAfterStart = buffer.byteLength - (extent.offset + extent.alreadyRead - buffer.fileStart);\n\t\t\t\tif (extent.length - extent.alreadyRead <= lengthAfterStart) {\n\t\t\t\t\t/* the (rest of the) extent is entirely contained in this buffer */\n\n\t\t\t\t\tLog.debug(\"ISOFile\",\"Getting item #\"+item_id+\" extent #\"+i+\" data (alreadyRead: \"+extent.alreadyRead+\n\t\t\t\t\t\t\" offset: \"+(extent.offset+extent.alreadyRead - buffer.fileStart)+\" read size: \"+(extent.length - extent.alreadyRead)+\n\t\t\t\t\t\t\" full extent size: \"+extent.length+\" full item size: \"+item.size+\")\");\n\n\t\t\t\t\tDataStream.memcpy(item.data.buffer, item.alreadyRead, \n\t\t\t\t\t                  buffer, extent.offset+extent.alreadyRead - buffer.fileStart, extent.length - extent.alreadyRead);\n\n\t\t\t\t\t/* update the number of bytes used in this buffer and check if it needs to be removed */\n\t\t\t\t\tbuffer.usedBytes += extent.length - extent.alreadyRead;\n\t\t\t\t\tthis.stream.logBufferLevel();\n\n\t\t\t\t\titem.alreadyRead += (extent.length - extent.alreadyRead);\n\t\t\t\t\textent.alreadyRead = extent.length;\n\t\t\t\t} else {\n\t\t\t\t\t/* the sample does not end in this buffer */\n\n\t\t\t\t\tLog.debug(\"ISOFile\",\"Getting item #\"+item_id+\" extent #\"+i+\" partial data (alreadyRead: \"+extent.alreadyRead+\" offset: \"+\n\t\t\t\t\t\t(extent.offset+extent.alreadyRead - buffer.fileStart)+\" read size: \"+lengthAfterStart+\n\t\t\t\t\t\t\" full extent size: \"+extent.length+\" full item size: \"+item.size+\")\");\n\n\t\t\t\t\tDataStream.memcpy(item.data.buffer, item.alreadyRead, \n\t\t\t\t\t                  buffer, extent.offset+extent.alreadyRead - buffer.fileStart, lengthAfterStart);\n\t\t\t\t\textent.alreadyRead += lengthAfterStart;\n\t\t\t\t\titem.alreadyRead += lengthAfterStart;\n\n\t\t\t\t\t/* update the number of bytes used in this buffer and check if it needs to be removed */\n\t\t\t\t\tbuffer.usedBytes += lengthAfterStart;\n\t\t\t\t\tthis.stream.logBufferLevel();\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t}\n\tif (item.alreadyRead === item.size) {\n\t\t/* fetched entirely */\n\t\treturn item;\n\t} else {\n\t\treturn null;\n\t}\n}\n\n/* Release the memory used to store the data of the item */\nISOFile.prototype.releaseItem = function(item_id) {\t\n\tvar item = this.items[item_id];\n\tif (item.data) {\n\t\tthis.itemsDataSize -= item.size;\n\t\titem.data = null;\n\t\titem.alreadyRead = 0;\n\t\tfor (var i = 0; i < item.extents.length; i++) {\n\t\t\tvar extent = item.extents[i];\n\t\t\textent.alreadyRead = 0;\n\t\t}\n\t\treturn item.size;\n\t} else {\n\t\treturn 0;\n\t}\n}\n\n\nISOFile.prototype.processItems = function(callback) {\n\tfor(var i in this.items) {\n\t\tvar item = this.items[i];\n\t\tthis.getItem(item.id);\n\t\tif (callback && !item.sent) {\n\t\t\tcallback(item);\n\t\t\titem.sent = true;\n\t\t\titem.data = null;\n\t\t}\n\t}\n}\n\nISOFile.prototype.hasItem = function(name) {\n\tfor(var i in this.items) {\n\t\tvar item = this.items[i];\n\t\tif (item.name === name) {\n\t\t\treturn item.id;\n\t\t}\n\t}\n\treturn -1;\n}\n\nISOFile.prototype.getMetaHandler = function() {\n\tif (!this.meta) {\n\t\treturn null;\n\t} else {\n\t\treturn this.meta.hdlr.handler;\t\t\n\t}\n}\n\nISOFile.prototype.getPrimaryItem = function() {\n\tif (!this.meta || !this.meta.pitm) {\n\t\treturn null;\n\t} else {\n\t\treturn this.getItem(this.meta.pitm.item_id);\n\t}\n}\n\nISOFile.prototype.itemToFragmentedTrackFile = function(_options) {\n\tvar options = _options || {};\n\tvar item = null;\n\tif (options.itemId) {\n\t\titem = this.getItem(options.itemId);\n\t} else {\n\t\titem = this.getPrimaryItem();\n\t}\n\tif (item == null) return null;\n\n\tvar file = new ISOFile();\n\tfile.discardMdatData = false;\n\t// assuming the track type is the same as the item type\n\tvar trackOptions = { type: item.type, description_boxes: item.properties.boxes};\n\tif (item.properties.ispe) {\n\t\ttrackOptions.width = item.properties.ispe.image_width;\n\t\ttrackOptions.height = item.properties.ispe.image_height;\n\t}\n\tvar trackId = file.addTrack(trackOptions);\n\tif (trackId) {\n\t\tfile.addSample(trackId, item.data);\n\t\treturn file;\n\t} else {\n\t\treturn null;\n\t}\n}\n\n// file:src/isofile-write.js\n/* Rewrite the entire file */\nISOFile.prototype.write = function(outstream) {\n\tfor (var i=0; i<this.boxes.length; i++) {\n\t\tthis.boxes[i].write(outstream);\n\t}\n}\n\nISOFile.prototype.createFragment = function(track_id, sampleNumber, stream_) {\n\tvar trak = this.getTrackById(track_id);\n\tvar sample = this.getSample(trak, sampleNumber);\n\tif (sample == null) {\n\t\tsample = trak.samples[sampleNumber];\n\t\tif (this.nextSeekPosition) {\n\t\t\tthis.nextSeekPosition = Math.min(sample.offset+sample.alreadyRead,this.nextSeekPosition);\n\t\t} else {\n\t\t\tthis.nextSeekPosition = trak.samples[sampleNumber].offset+sample.alreadyRead;\n\t\t}\n\t\treturn null;\n\t}\n\t\n\tvar stream = stream_ || new DataStream();\n\tstream.endianness = DataStream.BIG_ENDIAN;\n\n\tvar moof = this.createSingleSampleMoof(sample);\n\tmoof.write(stream);\n\n\t/* adjusting the data_offset now that the moof size is known*/\n\tmoof.trafs[0].truns[0].data_offset = moof.size+8; //8 is mdat header\n\tLog.debug(\"MP4Box\", \"Adjusting data_offset with new value \"+moof.trafs[0].truns[0].data_offset);\n\tstream.adjustUint32(moof.trafs[0].truns[0].data_offset_position, moof.trafs[0].truns[0].data_offset);\n\t\t\n\tvar mdat = new BoxParser.mdatBox();\n\tmdat.data = sample.data;\n\tmdat.write(stream);\n\treturn stream;\n}\n\n/* Modify the file and create the initialization segment */\nISOFile.writeInitializationSegment = function(ftyp, moov, total_duration, sample_duration) {\n\tvar i;\n\tvar index;\n\tvar mehd;\n\tvar trex;\n\tvar box;\n\tLog.debug(\"ISOFile\", \"Generating initialization segment\");\n\n\tvar stream = new DataStream();\n\tstream.endianness = DataStream.BIG_ENDIAN;\n\tftyp.write(stream);\n\t\n\t/* we can now create the new mvex box */\n\tvar mvex = moov.add(\"mvex\");\n\tif (total_duration) {\n\t\tmvex.add(\"mehd\").set(\"fragment_duration\", total_duration);\n\t}\n\tfor (i = 0; i < moov.traks.length; i++) {\n\t\tmvex.add(\"trex\").set(\"track_id\", moov.traks[i].tkhd.track_id)\n\t\t\t\t\t\t.set(\"default_sample_description_index\", 1)\n\t\t\t\t\t\t.set(\"default_sample_duration\", sample_duration)\n\t\t\t\t\t\t.set(\"default_sample_size\", 0)\n\t\t\t\t\t\t.set(\"default_sample_flags\", 1<<16)\n\t}\n\tmoov.write(stream);\n\n\treturn stream.buffer;\n\n}\n\nISOFile.prototype.save = function(name) {\n\tvar stream = new DataStream();\n\tstream.endianness = DataStream.BIG_ENDIAN;\n\tthis.write(stream);\n\tstream.save(name);\t\n}\n\nISOFile.prototype.getBuffer = function() {\n\tvar stream = new DataStream();\n\tstream.endianness = DataStream.BIG_ENDIAN;\n\tthis.write(stream);\n\treturn stream.buffer;\n}\n\nISOFile.prototype.initializeSegmentation = function() {\n\tvar i;\n\tvar j;\n\tvar box;\n\tvar initSegs;\n\tvar trak;\n\tvar seg;\n\tif (this.onSegment === null) {\n\t\tLog.warn(\"MP4Box\", \"No segmentation callback set!\");\n\t}\n\tif (!this.isFragmentationInitialized) {\n\t\tthis.isFragmentationInitialized = true;\t\t\n\t\tthis.nextMoofNumber = 0;\n\t\tthis.resetTables();\n\t}\t\n\tinitSegs = [];\t\n\tfor (i = 0; i < this.fragmentedTracks.length; i++) {\n\t\tvar moov = new BoxParser.moovBox();\n\t\tmoov.mvhd = this.moov.mvhd;\n\t    moov.boxes.push(moov.mvhd);\n\t\ttrak = this.getTrackById(this.fragmentedTracks[i].id);\n\t\tmoov.boxes.push(trak);\n\t\tmoov.traks.push(trak);\n\t\tseg = {};\n\t\tseg.id = trak.tkhd.track_id;\n\t\tseg.user = this.fragmentedTracks[i].user;\n\t\tseg.buffer = ISOFile.writeInitializationSegment(this.ftyp, moov, (this.moov.mvex && this.moov.mvex.mehd ? this.moov.mvex.mehd.fragment_duration: undefined), (this.moov.traks[i].samples.length>0 ? this.moov.traks[i].samples[0].duration: 0));\n\t\tinitSegs.push(seg);\n\t}\n\treturn initSegs;\n}\n\n// file:src/box-print.js\n/* \n * Copyright (c) Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nBoxParser.Box.prototype.printHeader = function(output) {\n\tthis.size += 8;\n\tif (this.size > MAX_SIZE) {\n\t\tthis.size += 8;\n\t}\n\tif (this.type === \"uuid\") {\n\t\tthis.size += 16;\n\t}\n\toutput.log(output.indent+\"size:\"+this.size);\n\toutput.log(output.indent+\"type:\"+this.type);\n}\n\nBoxParser.FullBox.prototype.printHeader = function(output) {\n\tthis.size += 4;\n\tBoxParser.Box.prototype.printHeader.call(this, output);\n\toutput.log(output.indent+\"version:\"+this.version);\n\toutput.log(output.indent+\"flags:\"+this.flags);\n}\n\nBoxParser.Box.prototype.print = function(output) {\n\tthis.printHeader(output);\n}\n\nBoxParser.ContainerBox.prototype.print = function(output) {\n\tthis.printHeader(output);\n\tfor (var i=0; i<this.boxes.length; i++) {\n\t\tif (this.boxes[i]) {\n\t\t\tvar prev_indent = output.indent;\n\t\t\toutput.indent += \" \";\n\t\t\tthis.boxes[i].print(output);\n\t\t\toutput.indent = prev_indent;\n\t\t}\n\t}\n}\n\nISOFile.prototype.print = function(output) {\n\toutput.indent = \"\";\n\tfor (var i=0; i<this.boxes.length; i++) {\n\t\tif (this.boxes[i]) {\n\t\t\tthis.boxes[i].print(output);\n\t\t}\n\t}\t\n}\n\nBoxParser.mvhdBox.prototype.print = function(output) {\n\tBoxParser.FullBox.prototype.printHeader.call(this, output);\n\toutput.log(output.indent+\"creation_time: \"+this.creation_time);\n\toutput.log(output.indent+\"modification_time: \"+this.modification_time);\n\toutput.log(output.indent+\"timescale: \"+this.timescale);\n\toutput.log(output.indent+\"duration: \"+this.duration);\n\toutput.log(output.indent+\"rate: \"+this.rate);\n\toutput.log(output.indent+\"volume: \"+(this.volume>>8));\n\toutput.log(output.indent+\"matrix: \"+this.matrix.join(\", \"));\n\toutput.log(output.indent+\"next_track_id: \"+this.next_track_id);\n}\n\nBoxParser.tkhdBox.prototype.print = function(output) {\n\tBoxParser.FullBox.prototype.printHeader.call(this, output);\n\toutput.log(output.indent+\"creation_time: \"+this.creation_time);\n\toutput.log(output.indent+\"modification_time: \"+this.modification_time);\n\toutput.log(output.indent+\"track_id: \"+this.track_id);\n\toutput.log(output.indent+\"duration: \"+this.duration);\n\toutput.log(output.indent+\"volume: \"+(this.volume>>8));\n\toutput.log(output.indent+\"matrix: \"+this.matrix.join(\", \"));\n\toutput.log(output.indent+\"layer: \"+this.layer);\n\toutput.log(output.indent+\"alternate_group: \"+this.alternate_group);\n\toutput.log(output.indent+\"width: \"+this.width);\n\toutput.log(output.indent+\"height: \"+this.height);\n}// file:src/mp4box.js\n/*\n * Copyright (c) 2012-2013. Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nvar MP4Box = {};\n\nMP4Box.createFile = function (_keepMdatData, _stream) {\n\t/* Boolean indicating if bytes containing media data should be kept in memory */\n\tvar keepMdatData = (_keepMdatData !== undefined ? _keepMdatData : true);\n\tvar file = new ISOFile(_stream);\n\tfile.discardMdatData = (keepMdatData ? false : true);\n\treturn file;\n}\n\nif (typeof exports !== 'undefined') {\n\texports.createFile = MP4Box.createFile;\n}\n","export const ENCODER_QUEUE_SIZE_MAX = 5;\nexport const ENABLE_DEBUG_LOGGING = false;\nexport const VIDEO_STREAM_TYPE = 1;\nexport const AUDIO_STREAM_TYPE = 0;\n\nexport const DECODER_QUEUE_SIZE_MAX = 5;\n\nexport function debugLog(msg: string) {\n    if (!ENABLE_DEBUG_LOGGING)\n      return;\n    console.debug(msg);\n  }","import { MP4File, createFile, MP4Sample, MP4Info, MP4VideoTrack, MP4ArrayBuffer, MP4AudioTrack, DataStream} from \"mp4box\"\nimport {  AUDIO_STREAM_TYPE, ENABLE_DEBUG_LOGGING } from \"./type\";\n\n\n//创建基类PullDemuxerBase\nclass PullDemuxerBase {\n  \n  // Starts fetching file. Resolves when enough of the file is fetched/parsed to\n  // populate getDecoderConfig().\n  //@ts-ignore\n  async initialize(streamType: number, buffer: ArrayBuffer) {}\n\n  // Returns either an AudioDecoderConfig or VideoDecoderConfig based on the\n  // streamType passed to initialize().\n  getDecoderConfig() {}\n\n  // Returns either EncodedAudioChunks or EncodedVideoChunks based on the\n  // streamType passed to initialize(). Returns null after EOF.\n  async getNextChunk(): Promise<any> {}\n}\n\nexport class MP4PullDemuxer extends PullDemuxerBase {\n  // fileUri: string;\n  source: MP4Source|undefined;\n  readySamples: MP4Sample[] | undefined;\n  over: boolean = false;\n  _pending_read_resolver: undefined | ((current: MP4Sample| undefined | null)=>void) | null;\n  streamType: number = 0;\n  audioTrack: MP4AudioTrack|undefined;\n  videoTrack: MP4VideoTrack|undefined;\n  selectedTrack: any;\n  constructor() {\n    super();\n    // this.fileUri = fileUri;\n  }\n\n  override async initialize(streamType: number, buffer: ArrayBuffer) {\n    \n    // console.log('this.fileUri')\n    // console.log(this.fileUri)\n    this.source = new MP4Source(buffer);\n    // console.log(streamType);\n    // console.log(this.fileUri+'finish init source')\n\n    this.readySamples = [];\n    this.over = false;\n    this._pending_read_resolver = null;\n    this.streamType = streamType;\n\n    \n    // if(streamType === 0)\n    //   console.log('audio ready for tracks')\n\n    //不管是videotrack还是audiotrack都ready了\n    // console.log(this.fileUri+'begin tracks ready')\n    await this._tracksReady();\n    // console.log(this.fileUri+'finish tracks ready')\n\n    // if(streamType === 0)\n    //   console.log('audio finished tracks')\n\n    if (this.streamType == AUDIO_STREAM_TYPE) {\n      this._selectTrack(this.audioTrack!);\n    } else {\n      this._selectTrack(this.videoTrack!);\n    }\n    // console.log('demuxer initialize finished')\n  }\n\n  override getDecoderConfig(): VideoDecoderConfig|AudioEncoderConfig {\n    //判断当前流类型\n    if (this.streamType == AUDIO_STREAM_TYPE) {\n      // console.log('in audio config ')\n      // console.log(this.audioTrack?.codec)\n      // console.log(this.audioTrack?.audio.sample_rate)\n      // console.log(this.audioTrack?.audio.channel_count)\n      // console.log(this.source?.getAudioSpecificConfig())\n      return {\n        codec: this.audioTrack!.codec,\n        sampleRate: this.audioTrack?.audio.sample_rate,\n        numberOfChannels: this.audioTrack?.audio.channel_count,\n        description: this.source?.getAudioSpecificConfig()\n      };\n    } else {\n      return {\n        codec: this.videoTrack!.codec,\n        codedWidth: this.videoTrack?.track_width,\n        codedHeight: this.videoTrack?.track_height,\n\n        // displayWidth: this.videoTrack?.track_width,\n        // displayHeight: this.videoTrack?.track_height,\n        description: this._getAvcDescription(this.source?.getAvccBox())\n      }\n    }\n  }\n\n  override async getNextChunk() {\n    //第一步：直接请求getNextChunk\n    // console.log(this.over)\n    //这里先注释，搞清楚为什么第一帧不见了\n\n      let sample = await this._readSample();\n      if(sample !== null){\n        const type = sample?.is_sync ? \"key\" : \"delta\";\n        const pts_us = (sample?.cts! * 1000000) / sample?.timescale!;\n        const duration_us = (sample?.duration! * 1000000) / sample?.timescale!;\n        const ChunkType = this.streamType == AUDIO_STREAM_TYPE ? EncodedAudioChunk : EncodedVideoChunk;\n        return new ChunkType({\n          type: type,\n          timestamp: pts_us,\n          duration: duration_us,\n          data: sample!.data\n        });\n    }else\n      return null;\n  }\n\n  //这里先定义avccBox是any\n  _getAvcDescription(avccBox: any) {\n    const stream = new DataStream(undefined, 0, DataStream.BIG_ENDIAN);\n    avccBox.write(stream);\n    return new Uint8Array(stream.buffer, 8);  // Remove the box header.\n  }\n\n  async _tracksReady() {\n    console.log(this.source)\n    let info = await this.source!.getInfo();\n    console.log(this.source+'finish get info')\n    this.videoTrack = info?.videoTracks[0];\n    this.audioTrack = info?.audioTracks[0];\n  }\n\n  _selectTrack(track: MP4AudioTrack|MP4VideoTrack) {\n    console.assert(!this.selectedTrack, \"changing tracks is not implemented\");\n    this.selectedTrack = track;\n    this.source?.selectTrack(track);\n  }\n\n  async _readSample(): Promise<MP4Sample|undefined>{\n    //第二步：从_readSample获取\n    console.assert(this.selectedTrack);\n    console.assert(!this._pending_read_resolver);\n\n    //如果readySample.length不为0，就返回\n    if (this.readySamples?.length) {\n      return Promise.resolve(this.readySamples?.shift()!);\n    }\n    //如果readySample.length为0，就再去上一层寻找\n    console.log('_pending_read_resolver....')\n    console.log('this.over')\n    console.log(this.over);\n\n    //这里直接给了any\n    let promise: Promise<any> = new Promise((resolver) => { this._pending_read_resolver = resolver; });\n    // console.log('this._pending_read_resolver');\n    // console.log(this._pending_read_resolver);\n    \n    console.assert(this._pending_read_resolver);\n\n    //bind() 方法创建一个新的函数，在 bind() 被调用时，这个新函数的 this 被指定为 bind() 的第一个参数，而其余参数将作为新函数的参数，供调用时使用。\n    if(!this.over){\n      this.source?.start(this._onSamples.bind(this));\n    }else{\n      this._pending_read_resolver!(null);\n      this._pending_read_resolver = null;\n    }\n    return promise;\n  }\n\n  _onSamples(samples: MP4Sample[]) {\n    \n    // debugger;\n    const SAMPLE_BUFFER_TARGET_SIZE = 50;\n\n    if(samples.length < 1000) {\n      this.over = true;\n      console.log('已经取完全部samples了')\n    }\n      console.log('samples长度大于0')\n      this.readySamples?.push(...samples);\n      if (<number>this.readySamples?.length >= SAMPLE_BUFFER_TARGET_SIZE)\n        this.source?.stop();\n\n      let firstSampleTime = samples[0].cts * 1000000 / samples[0].timescale ;\n      console.log(`adding new ${samples.length} samples (first = ${firstSampleTime}). total = ${this.readySamples?.length}`);\n\n      if (this._pending_read_resolver) {\n        const current = this.readySamples?.shift();\n        // console.log(current)\n        this._pending_read_resolver(current);\n        this._pending_read_resolver = null;\n      }\n    }\n  \n}\n\nclass MP4Source {\n  file: MP4File;\n  info: MP4Info | null;\n  //这里的_info_resolver直接给了any类型，后面根据需要调整\n  _info_resolver: any;\n  _onSamples: any;\n\n  constructor(buffer: ArrayBuffer) {\n    // console.log('in MP4Source')\n\n    this.file = createFile();\n    console.log('finish create file')\n    // console.log('uri')\n    // console.log(uri)\n    this.file.onError = console.error.bind(console);\n    this.file.onReady = this.onReady.bind(this);\n    this.file.onSamples = this.onSamples.bind(this);\n\n\n    console.log('fetching file');\n\n\n    const blob = new Blob([buffer]);\n    const reader = blob.stream().getReader();\n    let offset = 0;\n    let mp4File = this.file;\n\n    function appendBuffers({done, value}: ReadableStreamReadResult<Uint8Array>) :Promise<any> | undefined {\n      if(done) {\n        mp4File.flush();\n        return;\n      }\n\n      let buf = value.buffer as MP4ArrayBuffer;\n      buf.fileStart = offset;\n\n      offset += buf.byteLength;\n\n      mp4File.appendBuffer(buf);\n\n      return reader.read().then(appendBuffers);\n    }\n\n    reader.read().then(appendBuffers);\n    //以下是读取本地文件的写法\n    // fetch(uri).then(response => {\n    //   // console.log('fetch responded'+uri);\n    //   const reader = response.body?.getReader();\n    //   let offset = 0;\n    //   let mp4File = this.file;\n\n    //   function appendBuffers({done, value}: ReadableStreamReadResult<Uint8Array>) :Promise<any> | undefined{\n    //     if(done) {\n    //       mp4File.flush();\n    //       return;\n    //     }\n\n    //     let buf = value.buffer as MP4ArrayBuffer;\n    //     buf.fileStart = offset;\n\n    //     offset += buf.byteLength;\n\n    //     mp4File.appendBuffer(buf);\n\n    //     return reader?.read().then(appendBuffers);\n    //   }\n\n    //   return reader?.read().then(appendBuffers);\n    // })\n\n    console.log('mp4file is ...')\n    console.log(mp4File)\n\n    this.info = null;\n    this._info_resolver = null;\n  }\n\n  onReady(info: MP4Info) {\n    // TODO: Generate configuration changes.\n    this.info = info;\n\n    if (this._info_resolver) {\n      this._info_resolver(info);\n      this._info_resolver = null;\n    }\n  }\n\n  //不确定这里是AudioTrack、videoTrack还是MP4MediaTrack\n  selectTrack(track: MP4AudioTrack|MP4VideoTrack) {\n    debugLog('selecting track'+track.id);\n    this.file.setExtractionOptions(track.id);\n  }\n\n  getInfo(): MP4Info | Promise<MP4Info> {\n    if (this.info)\n      return Promise.resolve(this.info);\n\n    return new Promise((resolver) => { this._info_resolver = resolver; });\n  }\n\n  getHvccBox() {\n    // TODO: make sure this is coming from the right track.\n    console.log(this.file.moov.traks[0].mdia.minf.stbl.stsd.entries[0].hvcC)\n    return this.file.moov.traks[0].mdia.minf.stbl.stsd.entries[0].hvcC\n  }\n\n  getAvccBox() {\n    // TODO: make sure this is coming from the right track.\n    return this.file.moov.traks[0].mdia.minf.stbl.stsd.entries[0].avcC\n  }\n\n  getAudioSpecificConfig() {\n    // TODO: make sure this is coming from the right track.\n\n    // 0x04 is the DecoderConfigDescrTag. Assuming MP4Box always puts this at position 0.\n    console.assert(this.file.moov.traks[1].mdia.minf.stbl.stsd.entries[0].esds.esd.descs[0].tag == 0x04);\n    // 0x40 is the Audio OTI, per table 5 of ISO 14496-1\n    console.assert(this.file.moov.traks[1].mdia.minf.stbl.stsd.entries[0].esds.esd.descs[0].oti == 0x40);\n    // 0x05 is the DecSpecificInfoTag\n    console.assert(this.file.moov.traks[1].mdia.minf.stbl.stsd.entries[0].esds.esd.descs[0].descs[0].tag == 0x05);\n\n    return this.file.moov.traks[1].mdia.minf.stbl.stsd.entries[0].esds.esd.descs[0].descs[0].data;\n  }\n\n //source.start\n //    this.source.start(this._onSamples.bind(this));\n //表示可以开始样本处理（分段或提取）。 已经收到的样本数据将被处理，新的缓冲区追加操作也将触发样本处理。\n  start(onSamples: (samples: MP4Sample[])=>void) {\n    console.log(\"mp4file started\")\n    // debugger;\n    //_onSamples ： this._onSamples\n    this._onSamples = onSamples;\n    // this.file.setExtractionOptions(track.id);\n    this.file.start();\n  }\n\n  stop() {\n    this.file.stop();\n  }\n\n  //onsamples重写了，之前在这里构建encodedVideoChunk，这里调用_onSamples\n  //@ts-ignore\n  onSamples(track_id: number, ref: any, samples: MP4Sample[]) {\n    // debugger;\n    // for (const sample of samples) {\n    //   const type = sample.is_sync ? \"key\" : \"delta\";\n\n    //   const chunk = new EncodedVideoChunk({\n    //     type: type,\n    //     timestamp: sample.cts,\n    //     duration: sample.duration,\n    //     data: sample.data\n    //   });\n\n    //   this._onChunk(chunk);\n    // }\n    this._onSamples(samples)\n  }\n}\n\nfunction debugLog(msg: string) {\n  if (!ENABLE_DEBUG_LOGGING) {\n    return;\n  }\n  console.debug(msg);\n}\n\n//目前没用，但是后面可能会有用，因此，这里先ts-ignore\n//@ts-ignore\nclass Writer {\n  data: Uint8Array;\n  idx: number;\n  size: number;\n  constructor(size: number) {\n    this.data = new Uint8Array(size);\n    this.idx = 0;\n    this.size = size;\n  }\n\n  getData() {\n    if(this.idx != this.size)\n      throw \"Mismatch between size reserved and sized used\"\n\n    return this.data.slice(0, this.idx);\n  }\n\n  writeUint8(value: number) {\n    this.data.set([value], this.idx);\n    this.idx++;\n  }\n\n  writeUint16(value: number) {\n    // TODO: find a more elegant solution to endianess.\n    var arr = new Uint16Array(1);\n    arr[0] = value;\n    var buffer = new Uint8Array(arr.buffer);\n    this.data.set([buffer[1], buffer[0]], this.idx);\n    this.idx +=2;\n  }\n\n  writeUint32(value: number) {\n    var arr = new Uint32Array(1);\n    arr[0] = value;\n    var buffer = new Uint8Array(arr.buffer);\n    this.data.set([buffer[3], buffer[2], buffer[1], buffer[0]], this.idx);\n    this.idx +=4;\n  }\n\n  writeUint8Array(value: Uint8Array) {\n    this.data.set(value, this.idx);\n    this.idx += value.length;\n  }\n}\n\n\n","// From https://github.com/webrtcHacks/WebRTC-Camera-Resolution/blob/master/js/resolutionScan.js\nconst resolutions = [{\n    label: '4K (UHD)',\n    width: 3840,\n    height: 2160,\n    ratio: 16/9\n}, {\n    label: '1080p (FHD)',\n    width: 1920,\n    height: 1080,\n    ratio: 16/9\n}, {\n    label: 'UXGA',\n    width: 1600,\n    height: 1200,\n    ratio: 4/3\n}, {\n    label: '720p (HD)',\n    width: 1280,\n    height: 720,\n    ratio: 16/9\n}, {\n    label: 'SVGA',\n    width: 800,\n    height: 600,\n    ratio: 4/3\n}, {\n    label: 'VGA',\n    width: 640,\n    height: 480,\n    ratio: 4/3\n}, {\n    label: '360p (nHD)',\n    width: 640,\n    height: 360,\n    ratio: 16/9\n}, {\n    label: 'CIF',\n    width: 352,\n    height: 288,\n    ratio: 4/3\n}, {\n    label: 'QVGA',\n    width: 320,\n    height: 240,\n    ratio: 4/3\n}, {\n    label: 'QCIF',\n    width: 176,\n    height: 144,\n    ratio: 4/3\n}, {\n    label: 'QQVGA',\n    width: 160,\n    height: 120,\n    ratio: 4/3\n}\n];\n\nconst len = resolutions.length;\nfor (let i = 0; i < len; ++i) {\nconst res = resolutions[i];\nresolutions.push({\n    label: `${res.label} (portrait)`,\n    width: res.height,\n    height: res.width,\n    ratio: 1/res.ratio\n});\n}\n\nexport async function supported_video_configs(constraints: {ratio?: number, width?: number, height?: number, codec: string}, all_if_no_webcodecs?: any) {\nif (!('VideoEncoder' in window)) {\n    return all_if_no_webcodecs ? resolutions : [];\n}\nconst r = [];\nfor (let res of resolutions) {\n    const support = await VideoEncoder.isConfigSupported({ ...constraints, ...res });\n    if (support.supported) {\n        r.push({\n            ...res,\n            ...support.config\n        });\n    }\n}\nreturn r;\n}\n\n//目前的场景下面，应该all_if_no_webcodecs一直存在，因此，这里先去掉这个参数了，如果需要再加回来\n//这个constraints本来应该是VideoEncoderConfig，但是这里加入了ratio这个参数，并不在.d.ts之中，所以这里先改写，如果以后需要加什么，可以考虑去.d.ts抄\nexport async function max_video_config(constraints: {ratio?: number, width: number, height: number, codec: string}) {\nconstraints = constraints || {};\nfor (let res of resolutions) {\n    //如果constraints的ratio为false并且width，height均为false\n    if ((!constraints.ratio || (res.ratio === constraints.ratio)) &&\n        (!constraints.width || (res.width <= constraints.width)) &&\n        (!constraints.height || (res.height <= constraints.height))) {\n        // if ('VideoEncoder' in window) {\n            const support = await VideoEncoder.isConfigSupported({ ...constraints, ...res });\n            if (support.supported) {\n                return {\n                    ...res,\n                    ...support.config\n                };\n            }\n        // } else if (all_if_no_webcodecs) {\n        //     return res;\n        // }\n    }\n}\nreturn null;\n}\n","\n//这里分别声明了VIDEO_STREAM_TYPE和AUDIO_STREAM_TYPE的两种类型\n// const VIDEO_STREAM_TYPE = 1;\n// const AUDIO_STREAM_TYPE = 0;\n\nimport {max_video_config} from './resolution'\nexport class WebmMuxer{\n    constructor(){\n\n    }\n\n    encoder_constraints = {\n        // codec: 'av01.0.08M.08',\n        codec: 'vp09.00.10.08.01',\n        width: 640,\n        height: 360,\n        bitrate: 356000,\n        framerate: 30,\n        latencyMode: 'realtime'\n    }\n    async initialize() {\n        // if(demuxer.streamType === AUDIO_STREAM_TYPE) {\n\n        // } else {\n        //     // this.codec = 'av01.0.00M.08',//这里先写死\n        //     this.codec = 'vp09.00.10.08.01'\n        //     // this.displayWidth = demuxer.getDecoderConfig().displayWidth;\n        //     // this.displayHeight = demuxer.getDecoderConfig().displayHeight;\n        //     this.width= 640,\n        //     this.height= 360,\n        //     this.bitrate = 2500 * 100;\n        //     this.framerate = 30;\n        //     this.latencyMode = 'realtime';\n        // }\n        \n    \n        // //不管是videotrack还是audiotrack都ready了\n        // await this._tracksReady();\n    \n        // if (this.streamType == AUDIO_STREAM_TYPE) {\n        //   this._selectTrack(this.audioTrack);\n        // } else {\n        //   this._selectTrack(this.videoTrack);\n        // }\n        // console.log('muxer initialize finished')\n      }\n\n    async getEncoderConfig() {\n        //判断当前流类型\n        //确实应该判断，但是这里先注释了\n        // if (this.streamType == AUDIO_STREAM_TYPE) {\n        //   return {\n        //     codec: this.audioTrack.codec,\n        //     sampleRate: this.audioTrack.audio.sample_rate,\n        //     numberOfChannels: this.audioTrack.audio.channel_count,\n        //     description: this.source.getAudioSpecificConfig()\n        //   };\n        // } else {\n        //     return await max_video_config({\n        //         ...encoder_constraints,\n        //         ratio: 1920 / 1080\n        //     }) || await max_video_config(encoder_constraints);\n        // }\n\n          console.log('in getencoder config');\n          console.log(this.encoder_constraints)\n            return await max_video_config({\n                ...this.encoder_constraints,\n                ratio: 640 / 360\n            }) || await max_video_config(this.encoder_constraints);\n      }\n}","export class SampleLock{\n    callback: null | ((value: boolean | PromiseLike<boolean>) => void);\n    status: Promise<boolean>;\n    lock: () => void;\n    unlock: () => void;\n    constructor(){\n      this.callback = null;\n      this.status = new Promise((resolve) => resolve(true));\n      this.lock = function(){\n        this.status = new Promise((resolve) => {this.callback = resolve})\n        // console.log('locked')\n      }\n      this.unlock = function(){\n        if(this.callback)\n        this.callback(true)\n      }\n    }\n  }"],"names":["Log","start","Date","LOG_LEVEL_ERROR","LOG_LEVEL_WARNING","LOG_LEVEL_INFO","LOG_LEVEL_DEBUG","log_level","logObject","setLogLevel","level","debug","info","warn","error","module","msg","console","undefined","log","getDurationString","duration","_timescale","neg","pad","number","length","str","a","split","join","timescale","duration_sec","hours","Math","floor","minutes","msec","printRanges","ranges","i","end","exports","MP4BoxStream","arrayBuffer","ArrayBuffer","buffer","dataview","DataView","position","prototype","getPosition","getEndPosition","byteLength","getLength","seek","pos","npos","max","min","isNaN","isFinite","isEos","readAnyInt","size","signed","res","getInt8","getUint8","getInt16","getUint16","getInt32","getUint32","readUint8","readUint16","readUint24","readUint32","readUint64","readString","s","String","fromCharCode","readCString","arr","b","push","apply","readInt8","readInt16","readInt32","readInt64","readUint8Array","Uint8Array","readInt16Array","Int16Array","readUint16Array","readUint32Array","Uint32Array","readInt32Array","Int32Array","DataStream","byteOffset","endianness","_byteOffset","dataView","LITTLE_ENDIAN","_realloc","extra","_dynamicSize","req","blen","_buffer","_byteLength","buf","src","dst","set","_trimAlloc","BIG_ENDIAN","Object","defineProperty","get","v","_dataView","isEof","mapUint8Array","e","memcpy","BYTES_PER_ELEMENT","arrayToNative","readInt8Array","Int8Array","Uint16Array","readFloat64Array","Float64Array","readFloat32Array","Float32Array","readFloat32","getFloat32","readFloat64","getFloat64","dstOffset","srcOffset","dstU8","srcU8","array","arrayIsLittleEndian","flipArrayEndianness","nativeToEndian","littleEndian","u8","j","k","tmp","failurePosition","fromCharCodeUint8","uint8arr","encoding","TextDecoder","decode","len","MAX_SIZE","pow","save","filename","blob","Blob","window","URL","createObjectURL","url","document","createElement","body","appendChild","setAttribute","click","revokeObjectURL","shift","offset","writeInt32Array","mapInt32Array","writeInt32","writeInt16Array","mapInt16Array","writeInt16","writeInt8Array","mapInt8Array","writeInt8","writeUint32Array","mapUint32Array","writeUint32","writeUint16Array","mapUint16Array","writeUint16","writeUint8Array","writeUint8","writeFloat64Array","mapFloat64Array","writeFloat64","writeFloat32Array","mapFloat32Array","writeFloat32","setInt32","setInt16","setInt8","setUint32","setUint16","setUint8","setFloat32","setFloat64","writeUCS2String","lengthOverride","charCodeAt","writeString","TextEncoder","encode","substring","writeCString","writeStruct","structDefinition","struct","t","writeType","tp","Array","charset","test","parseInt","ta","writeUint64","h","writeUint24","adjustUint32","value","MultiBufferStream","buffers","bufferIndex","insertBuffer","initialized","firstBuffer","fileStart","logBufferLevel","concat","buffer1","buffer2","reduceBuffer","newLength","smallB","usedBytes","ab","to_add","splice","used","total","range","bufferedString","cleanBuffers","mergeNextBuffer","next_buffer","oldLength","oldUsedBytes","oldFileStart","findPosition","fromStart","filePosition","markAsUsed","abuffer","index","findEndContiguousBuf","inputindex","currentBuf","nextBuf","getEndFilePositionAfter","addUsedBytes","nbBytes","setAllUsedBytes","MPEG4DescriptorParser","ES_DescrTag","DecoderConfigDescrTag","DecSpecificInfoTag","SLConfigDescrTag","descTagToName","getDescriptorName","tag","that","classes","parseOneDescriptor","stream","desc","byteRead","Descriptor","parse","_tag","_size","descs","data","findDescriptor","parseRemainingDescriptors","ES_Descriptor","call","ES_ID","flags","dependsOn_ES_ID","l","OCR_ES_ID","getOTI","dcd","oti","getAudioConfig","dsi","audioObjectType","DecoderConfigDescriptor","streamType","bufferSize","maxBitrate","avgBitrate","DecoderSpecificInfo","SLConfigDescriptor","BoxParser","ERR_INVALID_DATA","ERR_NOT_ENOUGH_DATA","OK","BASIC_BOXES","FULL_BOXES","CONTAINER_BOXES","boxCodes","fullBoxCodes","containerBoxCodes","sampleEntryCodes","sampleGroupEntryCodes","trackGroupTypes","UUIDBoxes","UUIDs","initialize","FullBox","Box","ContainerBox","SampleEntry","TrackGroupTypeBox","forEach","type","createBoxCtor","createFullBoxCtor","types","createContainerBoxCtor","_type","_uuid","uuid","version","boxes","hdr_size","SampleGroupEntry","grouping_type","parseMethod","parseFullHeader","addSubBoxArrays","subBoxNames","nbSubBoxes","createMediaSampleEntryCtor","mediaType","createSampleEntryCtor","createEncryptedSampleEntryCtor","createSampleGroupCtor","createTrackGroupCtor","createUUIDBox","isFullBox","isContainerBox","TKHD_FLAG_ENABLED","TKHD_FLAG_IN_MOVIE","TKHD_FLAG_IN_PREVIEW","TFHD_FLAG_BASE_DATA_OFFSET","TFHD_FLAG_SAMPLE_DESC","TFHD_FLAG_SAMPLE_DUR","TFHD_FLAG_SAMPLE_SIZE","TFHD_FLAG_SAMPLE_FLAGS","TFHD_FLAG_DUR_EMPTY","TFHD_FLAG_DEFAULT_BASE_IS_MOOF","TRUN_FLAGS_DATA_OFFSET","TRUN_FLAGS_FIRST_FLAG","TRUN_FLAGS_DURATION","TRUN_FLAGS_SIZE","TRUN_FLAGS_FLAGS","TRUN_FLAGS_CTS_OFFSET","add","name","addBox","box","prop","addEntry","_prop","parseUUID","parseHex16","hex16","hex","toString","parseOneBox","headerOnly","parentSize","diff","code","box_type","has_unparsed_data","write","parseDataAndRewind","ret","indexOf","parseLanguage","language","chars","languageString","SAMPLE_ENTRY_TYPE_VISUAL","SAMPLE_ENTRY_TYPE_AUDIO","SAMPLE_ENTRY_TYPE_HINT","SAMPLE_ENTRY_TYPE_METADATA","SAMPLE_ENTRY_TYPE_SUBTITLE","SAMPLE_ENTRY_TYPE_SYSTEM","SAMPLE_ENTRY_TYPE_TEXT","parseHeader","data_reference_index","parseFooter","compressorname_length","width","height","horizresolution","vertresolution","frame_count","compressorname","depth","channel_count","samplesize","samplerate","large_size","FieldLength","layer_size","op_index","aux_type","aux_subtype_length","aux_subtype","seq_profile","seq_level_idx_0","seq_tier_0","high_bitdepth","twelve_bit","monochrome","chroma_subsampling_x","chroma_subsampling_y","chroma_sample_position","reserved_1","initial_presentation_delay_present","initial_presentation_delay_minus_one","reserved_2","configOBUs_length","configOBUs","toparse","configurationVersion","AVCProfileIndication","profile_compatibility","AVCLevelIndication","lengthSizeMinusOne","nb_SPS_nalus","SPS","nalu","nb_PPS_nalus","PPS","ext","bufferSizeDB","cleanApertureWidthN","cleanApertureWidthD","cleanApertureHeightN","cleanApertureHeightD","horizOffN","horizOffD","vertOffN","vertOffD","max_content_light_level","max_pic_average_light_level","entry_count","chunk_offsets","maxCLL","maxFALL","colour_type","colour_primaries","transfer_characteristics","matrix_coefficients","full_range_flag","ICC_profile","notice","compositionToDTSShift","leastDecodeToDisplayDelta","greatestDecodeToDisplayDelta","compositionStartTime","compositionEndTime","sample_counts","sample_offsets","tmp_byte1","tmp_byte2","tmp_byte3","fscod","bsid","bsmod","acmod","lfeon","bit_rate_code","tmp_16","data_rate","num_ind_sub","ind_subs","ind_sub","num_dep_sub","chan_loc","BLOCKTYPE_MASK","LASTMETADATABLOCKFLAG_MASK","boxesFound","knownBlockTypes","flagAndType","numMetadataBlocks","bytessent","time","Version","OutputChannelCount","PreSkip","InputSampleRate","OutputGain","ChannelMappingFamily","StreamCount","CoupledCount","ChannelMapping","entries","extended_language","entry","segment_duration","media_time","media_rate_integer","media_rate_fraction","presentation_time","event_duration","id","scheme_id_uri","presentation_time_delta","message_size","message_data","esd_data","esd_parser","esd","fieldCount","fieldOrdering","data_format","major_brand","minor_version","compatible_brands","handler","slice","tmp_byte","general_profile_space","general_tier_flag","general_profile_idc","general_profile_compatibility","general_constraint_indicator","general_level_idc","min_spatial_segmentation_idc","parallelismType","chroma_format_idc","bit_depth_luma_minus8","bit_depth_chroma_minus8","avgFrameRate","constantFrameRate","numTemporalLayers","temporalIdNested","nalu_arrays","numOfArrays","nalu_array","completeness","nalu_type","numNalus","item_infos","byte","offset_size","length_size","base_offset_size","index_size","items","item_count","item","item_ID","construction_method","base_offset","extent_count","extents","extent","extent_index","extent_offset","extent_length","reserved","axis","item_protection_index","item_name","content_type","content_encoding","extension_type","item_type","item_uri_type","associations","item_assoc","association_count","props","p","essential","property_index","references","SingleItemTypeReferenceBox","SingleItemTypeReferenceBoxLarge","angle","image_width","image_height","schemeURI","count","levels","track_ID","padding_flag","assignment_type","grouping_type_parameter","sub_track_id","layer_id","period","bytes","display_primaries","x","y","white_point","max_display_mastering_luminance","min_display_mastering_luminance","creation_time","modification_time","fragment_duration","sequence_number","rate","volume","matrix","next_track_id","packetssent","sample_count","padbits","hSpacing","vSpacing","text","payloadID","rtpmap_string","initial_delay","item_id","num_channels","bits_per_channels","ref_track_id","ntp_timestamp","system_id","kid","datasize","descriptionformat","sdptext","aux_info_type","aux_info_type_parameter","default_sample_info_size","sample_info_size","mime_format","namespace","schema_location","auxiliary_mime_types","displayFlags","horizontal_justification","vertical_justification","bg_color_rgba","box_record","style_record","roll_count","first_output_sample","sample_offset","remaining","description_length","num_output_samples","num_total_samples","layerNumber","accurateStatisticsFlag","avgBitRate","subSequenceIdentifier","durationFlag","avgRateFlag","dependency","numReferences","dependencyInfo","subSeqDirectionFlag","roll_distance","num_leading_samples_known","num_leading_samples","operation_point_count","target_rate_share","available_bitrate","maximum_bitrate","minimum_bitrate","discard_priority","crypt_byte_block","skip_byte_block","isProtected","Per_Sample_IV_Size","KID","constant_IV_size","constant_IV","NAL_unit_type","level_independently_decodable","group_description_index","scheme_type","scheme_version","scheme_uri","is_leading","sample_depends_on","sample_is_depended_on","sample_has_redundancy","default_length","default_group_description_index","reference_ID","earliest_presentation_time","first_offset","ref","tmp_32","reference_type","referenced_size","subsegment_duration","starts_with_SAP","SAP_type","SAP_delta_time","from_item_ID","primaryRChromaticity_x","primaryRChromaticity_y","primaryGChromaticity_x","primaryGChromaticity_y","primaryBChromaticity_x","primaryBChromaticity_y","whitePointChromaticity_x","whitePointChromaticity_y","luminanceMax","luminanceMin","balance","subsegments","subsegment_count","subsegment","range_count","range_size","priority","switch_group","alternate_group","attribute_list","first_chunk","samples_per_chunk","sample_description_index","entryCount","shadowed_sample_numbers","sync_sample_numbers","sample_numbers","sample_sizes","sample_size","delta","sample_deltas","tmp32","single_view_allowed","stereo_scheme","stereo_indication_type","ftypBox","field_size","subsample_count","sampleInfo","sample_delta","subsamples","subsample","discardable","codec_specific_parameters","default_crypt_byte_block","default_skip_byte_block","default_isProtected","default_Per_Sample_IV_Size","default_KID","default_constant_IV_size","default_constant_IV","baseMediaDecodeTime","readBytes","track_id","base_data_offset","default_sample_description_index","default_sample_duration","default_sample_size","default_sample_flags","length_size_of_traf_num","length_size_of_trun_num","length_size_of_sample_num","number_of_entries","moof_offset","traf_number","trun_number","sample_number","layer","track_group_id","TrackReferenceTypeBox","track_ids","trefBox","data_offset","first_sample_flags","sample_duration","sample_flags","sample_composition_time_offset","config","location","LiveServerManifest","replace","default_AlgorithmID","default_IV_size","fragment_count","absolute_time","absolute_duration","graphicsmode","opcolor","profile","bitDepth","chromaSubsampling","videoFullRangeFlag","colourPrimaries","transferCharacteristics","matrixCoefficients","codecIntializationDataSize","codecIntializationData","colorSpace","transferFunction","bitReader","held_bits","num_held_bits","stream_read_1_bytes","strm","stream_read_2_bytes","extract_bits","num_bits","ptl_present_flag","ols_idx","num_sublayers","constant_frame_rate","bit_depth_minus8","num_bytes_constraint_info","ptl_frame_only_constraint_flag","ptl_multilayer_enabled_flag","general_constraint_info","cnstr1","cnstr2","ptl_sublayer_present_mask","val","sublayer_level_idc","ptl_num_sub_profiles","general_sub_profile_idc","max_picture_width","max_picture_height","avg_frame_rate","VVC_NALU_OPI","VVC_NALU_DEC_PARAM","num_of_arrays","isVideo","isAudio","isSubtitle","isMetadata","isHint","getCodec","getWidth","getHeight","getChannelCount","getSampleRate","getSampleSize","VisualSampleEntry","AudioSampleEntry","SubtitleSampleEntry","MetadataSampleEntry","decimalToHex","d","padding","Number","avc1SampleEntry","avc2SampleEntry","avc3SampleEntry","avc4SampleEntry","baseCodec","avcC","hev1SampleEntry","hvc1SampleEntry","hvcC","reversed","hasByte","constraint_string","vvc1SampleEntry","vvi1SampleEntry","vvcC","ptl_frame_only_constraint","ptl_multilayer_enabled","last_nonzero","base32_chars","mp4aSampleEntry","esds","stxtSampleEntry","vp08SampleEntry","vp09SampleEntry","vpcC","av01SampleEntry","av1C","bitdepth","writeHeader","sizePosition","avcCBox","co64Box","cslgBox","cttsBox","drefBox","elngBox","elstBox","emsgBox","hdlrBox","kindBox","mdhdBox","mehdBox","mfhdBox","mvhdBox","writeFooter","stppSampleEntry","sbgpBox","sgpdBox","sidxBox","smhdBox","stcoBox","stscBox","stsdBox","stshBox","stssBox","stszBox","constant","sttsBox","tfdtBox","UINT32_MAX","tfhdBox","tkhdBox","trexBox","trunBox","data_offset_position","vmhdBox","unpack","samples","pts","dts","m","Infinity","description_index","chunk_index","DIFF_BOXES_PROP_NAMES","DIFF_PRIMITIVE_ARRAY_PROP_NAMES","boxEqualFields","box_a","box_b","boxEqual","XMLSubtitlein4Parser","parseSample","sample","resources","documentString","DOMParser","parseFromString","Textin4Parser","textString","parseConfig","ISOFile","mdats","moofs","isProgressive","moovStartFound","onMoovStart","moovStartSent","onReady","readySent","onSegment","onSamples","onError","sampleListBuilt","fragmentedTracks","extractedTracks","isFragmentationInitialized","sampleProcessingStarted","nextMoofNumber","itemListBuilt","onSidx","sidxSent","setSegmentOptions","user","options","trak","getTrackById","fragTrack","nextSample","segmentStream","nb_samples","rapAlignement","nbSamples","unsetSegmentOptions","setExtractionOptions","extractTrack","unsetExtractionOptions","parseBoxHeadersOnly","restoreParsePosition","hasIncompleteMdat","processIncompleteMdat","saveParsePosition","processIncompleteBox","updateUsedBytes","checkBuffer","appendBuffer","last","nextFileStart","moov","buildSampleLists","updateSampleLists","getInfo","processSamples","nextSeekPosition","nextParsePosition","sidx","meta","flattenItemInfo","processItems","onItem","getAllocatedSampleDataSize","movie","track","sample_desc","_1904","getTime","hasMoov","mvhd","isFragmented","mvex","mehd","hasIOD","iods","brands","ftyp","created","modified","tracks","audioTracks","videoTracks","subtitleTracks","metadataTracks","hintTracks","otherTracks","traks","mdia","minf","stbl","stsd","tkhd","hdlr","tref","edts","edits","elst","movie_duration","movie_timescale","track_width","track_height","mdhd","cts_shift","cslg","samples_duration","codec","kind","udta","kinds","elng","samples_size","bitrate","audio","sample_rate","video","mime","fragTrak","result","createFragment","extractTrak","getSample","getBox","getBoxes","returnEarly","_sweep","getTrackSamplesInfo","getTrackSample","releaseUsedSamples","sampleNum","lastValidSample","releaseSample","samplesDataSize","stop","flush","seekTrack","useRap","seek_offset","rap_seek_sample_num","seek_sample_num","cts","is_sync","alreadyRead","trak_seek_info","seek_info","equal","box_index","a_box","b_box","lastBoxStartPosition","parsingMdat","discardMdatData","merged","found","init","_options","addTrack","media_duration","sample_description_entry","media_type","codes","avcDecoderConfigRecord","description","description_boxes","buildTrakSampleLists","computeSize","stream_","addSample","depends_on","is_depended_on","has_redundancy","degradation_priority","first_dts","moof","createSingleSampleMoof","trafs","truns","moofBox","traf","lastMoofIndex","resetTables","stco","stsc","stsz","stts","ctts","stss","initial_duration","co64","stz2","initSampleGroups","sbgps","trak_sgpds","traf_sgpds","sample_group_info","sample_group_key","SampleGroupInfo","_parameter","_sbgp","sbgp","last_sample_in_run","entry_index","sample_groups_info","fragment_description","is_fragment","setSampleGroupProperties","sample_groups","process_sdtp","sdtp","subs","sgpds","stdp","chunk_run_index","last_chunk_in_run","offset_in_chunk","last_sample_in_chunk","last_sample_in_stts_run","stts_run_index","last_sample_in_ctts_run","ctts_run_index","last_stss_index","last_subs_index","subs_entry_index","last_subs_sample_index","last_run_position","trex","tfhd","getTrexById","trun","moof_number","number_in_traf","first_sample_index","first_traf_merged","tfdt","bdop","dbim","dop","bdo","has_fragment_subsamples","sample_index","lengthAfterStart","getCodecs","codecs","trexs","itemsDataSize","iinf","ref_to","protection_index","protection","ipro","protections","iloc","itemloc","source","dinf","pitm","primary","iref","iprp","ipmas","ipma","association","properties","propEntry","ipco","propbox","getItem","releaseItem","callback","sent","hasItem","getMetaHandler","getPrimaryItem","itemToFragmentedTrackFile","itemId","file","trackOptions","ispe","trackId","outstream","sampleNumber","mdat","mdatBox","writeInitializationSegment","total_duration","getBuffer","initializeSegmentation","initSegs","seg","moovBox","printHeader","output","indent","print","prev_indent","MP4Box","createFile","_keepMdatData","_stream","keepMdatData","debugLog"],"mappings":"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"}